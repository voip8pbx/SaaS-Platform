{"version":3,"sources":["../../../node_modules/next-auth/core/types.js","../../../node_modules/%40babel/runtime/helpers/interopRequireDefault.js","../../../node_modules/%40babel/runtime/helpers/OverloadYield.js","../../../node_modules/%40babel/runtime/helpers/regeneratorDefine.js","../../../node_modules/%40babel/runtime/helpers/regenerator.js","../../../node_modules/%40babel/runtime/helpers/regeneratorAsyncIterator.js","../../../node_modules/%40babel/runtime/helpers/regeneratorAsyncGen.js","../../../node_modules/%40babel/runtime/helpers/regeneratorAsync.js","../../../node_modules/%40babel/runtime/helpers/regeneratorKeys.js","../../../node_modules/%40babel/runtime/helpers/typeof.js","../../../node_modules/%40babel/runtime/helpers/regeneratorValues.js","../../../node_modules/%40babel/runtime/helpers/regeneratorRuntime.js","../../../node_modules/%40babel/runtime/regenerator/index.js","../../../node_modules/%40babel/runtime/helpers/toPrimitive.js","../../../node_modules/%40babel/runtime/helpers/toPropertyKey.js","../../../node_modules/%40babel/runtime/helpers/defineProperty.js","../../../node_modules/%40babel/runtime/helpers/asyncToGenerator.js","../../../node_modules/%40babel/runtime/helpers/classCallCheck.js","../../../node_modules/%40babel/runtime/helpers/createClass.js","../../../node_modules/%40babel/runtime/helpers/assertThisInitialized.js","../../../node_modules/%40babel/runtime/helpers/possibleConstructorReturn.js","../../../node_modules/%40babel/runtime/helpers/getPrototypeOf.js","../../../node_modules/%40babel/runtime/helpers/setPrototypeOf.js","../../../node_modules/%40babel/runtime/helpers/inherits.js","../../../node_modules/%40babel/runtime/helpers/isNativeFunction.js","../../../node_modules/%40babel/runtime/helpers/isNativeReflectConstruct.js","../../../node_modules/%40babel/runtime/helpers/construct.js","../../../node_modules/%40babel/runtime/helpers/wrapNativeSuper.js","../../../node_modules/next-auth/core/errors.js","../../../node_modules/next-auth/utils/logger.js","../../../node_modules/next-auth/utils/detect-origin.js","../../../node_modules/openid-client/lib/errors.js","../../../node_modules/jose/dist/node/cjs/runtime/digest.js","../../../node_modules/jose/dist/node/cjs/lib/buffer_utils.js","../../../node_modules/jose/dist/node/cjs/runtime/base64url.js","../../../node_modules/jose/dist/node/cjs/util/errors.js","../../../node_modules/jose/dist/node/cjs/runtime/random.js","../../../node_modules/jose/dist/node/cjs/lib/iv.js","../../../node_modules/jose/dist/node/cjs/lib/check_iv_length.js","../../../node_modules/jose/dist/node/cjs/runtime/is_key_object.js","../../../node_modules/jose/dist/node/cjs/runtime/check_cek_length.js","../../../node_modules/jose/dist/node/cjs/runtime/timing_safe_equal.js","../../../node_modules/jose/dist/node/cjs/runtime/cbc_tag.js","../../../node_modules/jose/dist/node/cjs/runtime/webcrypto.js","../../../node_modules/jose/dist/node/cjs/lib/crypto_key.js","../../../node_modules/jose/dist/node/cjs/lib/invalid_key_input.js","../../../node_modules/jose/dist/node/cjs/runtime/ciphers.js","../../../node_modules/jose/dist/node/cjs/runtime/is_key_like.js","../../../node_modules/jose/dist/node/cjs/runtime/decrypt.js","../../../node_modules/jose/dist/node/cjs/runtime/zlib.js","../../../node_modules/jose/dist/node/cjs/lib/is_disjoint.js","../../../node_modules/jose/dist/node/cjs/lib/is_object.js","../../../node_modules/jose/dist/node/cjs/runtime/aeskw.js","../../../node_modules/jose/dist/node/cjs/runtime/get_named_curve.js","../../../node_modules/jose/dist/node/cjs/runtime/ecdhes.js","../../../node_modules/jose/dist/node/cjs/lib/check_p2s.js","../../../node_modules/jose/dist/node/cjs/runtime/pbes2kw.js","../../../node_modules/jose/dist/node/cjs/runtime/check_modulus_length.js","../../../node_modules/jose/dist/node/cjs/runtime/rsaes.js","../../../node_modules/jose/dist/node/cjs/lib/cek.js","../../../node_modules/jose/dist/node/cjs/runtime/asn1.js","../../../node_modules/jose/dist/node/cjs/runtime/asn1_sequence_encoder.js","../../../node_modules/jose/dist/node/cjs/runtime/flags.js","../../../node_modules/jose/dist/node/cjs/runtime/jwk_to_key.js","../../../node_modules/jose/dist/node/cjs/key/import.js","../../../node_modules/jose/dist/node/cjs/lib/check_key_type.js","../../../node_modules/jose/dist/node/cjs/runtime/encrypt.js","../../../node_modules/jose/dist/node/cjs/lib/aesgcmkw.js","../../../node_modules/jose/dist/node/cjs/lib/decrypt_key_management.js","../../../node_modules/jose/dist/node/cjs/lib/validate_crit.js","../../../node_modules/jose/dist/node/cjs/lib/validate_algorithms.js","../../../node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js","../../../node_modules/jose/dist/node/cjs/jwe/compact/decrypt.js","../../../node_modules/jose/dist/node/cjs/jwe/general/decrypt.js","../../../node_modules/jose/dist/node/cjs/runtime/asn1_sequence_decoder.js","../../../node_modules/jose/dist/node/cjs/runtime/key_to_jwk.js","../../../node_modules/jose/dist/node/cjs/key/export.js","../../../node_modules/jose/dist/node/cjs/lib/encrypt_key_management.js","../../../node_modules/jose/dist/node/cjs/jwe/flattened/encrypt.js","../../../node_modules/jose/dist/node/cjs/jwe/general/encrypt.js","../../../node_modules/jose/dist/node/cjs/runtime/dsa_digest.js","../../../node_modules/jose/dist/node/cjs/runtime/node_key.js","../../../node_modules/jose/dist/node/cjs/runtime/hmac_digest.js","../../../node_modules/jose/dist/node/cjs/runtime/get_sign_verify_key.js","../../../node_modules/jose/dist/node/cjs/runtime/sign.js","../../../node_modules/jose/dist/node/cjs/runtime/verify.js","../../../node_modules/jose/dist/node/cjs/jws/flattened/verify.js","../../../node_modules/jose/dist/node/cjs/jws/compact/verify.js","../../../node_modules/jose/dist/node/cjs/jws/general/verify.js","../../../node_modules/jose/dist/node/cjs/lib/epoch.js","../../../node_modules/jose/dist/node/cjs/lib/secs.js","../../../node_modules/jose/dist/node/cjs/lib/jwt_claims_set.js","../../../node_modules/jose/dist/node/cjs/jwt/verify.js","../../../node_modules/jose/dist/node/cjs/jwt/decrypt.js","../../../node_modules/jose/dist/node/cjs/jwe/compact/encrypt.js","../../../node_modules/jose/dist/node/cjs/jws/flattened/sign.js","../../../node_modules/jose/dist/node/cjs/jws/compact/sign.js","../../../node_modules/jose/dist/node/cjs/jws/general/sign.js","../../../node_modules/jose/dist/node/cjs/jwt/produce.js","../../../node_modules/jose/dist/node/cjs/jwt/sign.js","../../../node_modules/jose/dist/node/cjs/jwt/encrypt.js","../../../node_modules/jose/dist/node/cjs/jwk/thumbprint.js","../../../node_modules/jose/dist/node/cjs/jwk/embedded.js","../../../node_modules/jose/dist/node/cjs/jwks/local.js","../../../node_modules/jose/dist/node/cjs/runtime/fetch_jwks.js","../../../node_modules/jose/dist/node/cjs/jwks/remote.js","../../../node_modules/jose/dist/node/cjs/jwt/unsecured.js","../../../node_modules/jose/dist/node/cjs/util/base64url.js","../../../node_modules/jose/dist/node/cjs/util/decode_protected_header.js","../../../node_modules/jose/dist/node/cjs/util/decode_jwt.js","../../../node_modules/jose/dist/node/cjs/runtime/generate.js","../../../node_modules/jose/dist/node/cjs/key/generate_key_pair.js","../../../node_modules/jose/dist/node/cjs/key/generate_secret.js","../../../node_modules/jose/dist/node/cjs/runtime/runtime.js","../../../node_modules/jose/dist/node/cjs/util/runtime.js","../../../node_modules/jose/dist/node/cjs/index.js","../../../node_modules/oidc-token-hash/lib/index.js","../../../node_modules/openid-client/lib/helpers/is_key_object.js","../../../node_modules/openid-client/lib/helpers/base64url.js","../../../node_modules/openid-client/lib/helpers/decode_jwt.js","../../../node_modules/openid-client/lib/helpers/is_plain_object.js","../../../node_modules/openid-client/lib/helpers/defaults.js","../../../node_modules/openid-client/lib/helpers/www_authenticate_parser.js","../../../node_modules/openid-client/lib/helpers/assert.js","../../../node_modules/openid-client/lib/helpers/pick.js","../../../node_modules/openid-client/lib/helpers/process_response.js","../../../node_modules/openid-client/lib/helpers/unix_timestamp.js","../../../node_modules/openid-client/lib/token_set.js","../../../node_modules/openid-client/lib/helpers/generators.js","../../../node_modules/openid-client/node_modules/yallist/iterator.js","../../../node_modules/openid-client/node_modules/yallist/yallist.js","../../../node_modules/openid-client/node_modules/lru-cache/index.js","turbopack:///[project]/node_modules/openid-client/package.json","../../../node_modules/openid-client/lib/helpers/consts.js","../../../node_modules/openid-client/lib/helpers/request.js","../../../node_modules/openid-client/lib/helpers/weak_cache.js","../../../node_modules/openid-client/lib/helpers/deep_clone.js","../../../node_modules/openid-client/lib/helpers/keystore.js","../../../node_modules/openid-client/lib/helpers/merge.js","../../../node_modules/openid-client/lib/helpers/client.js","../../../node_modules/object-hash/index.js","../../../node_modules/openid-client/lib/helpers/issuer.js","../../../node_modules/openid-client/lib/device_flow_handle.js","../../../node_modules/openid-client/lib/client.js","../../../node_modules/openid-client/lib/issuer_registry.js","../../../node_modules/openid-client/lib/helpers/webfinger_normalize.js","../../../node_modules/openid-client/lib/issuer.js","../../../node_modules/openid-client/lib/passport_strategy.js","../../../node_modules/openid-client/lib/index.js","../../../node_modules/next-auth/core/lib/oauth/client.js","../../../node_modules/oauth/lib/sha1.js","../../../node_modules/oauth/lib/_utils.js","../../../node_modules/oauth/lib/oauth.js","../../../node_modules/oauth/lib/oauth2.js","../../../node_modules/oauth/index.js","../../../node_modules/next-auth/core/lib/oauth/client-legacy.js","../../../node_modules/%40panva/hkdf/dist/node/cjs/runtime/fallback.js","../../../node_modules/%40panva/hkdf/dist/node/cjs/runtime/hkdf.js","../../../node_modules/%40panva/hkdf/dist/node/cjs/index.js","../../../node_modules/uuid/dist/esm-node/rng.js","../../../node_modules/uuid/dist/esm-node/regex.js","../../../node_modules/uuid/dist/esm-node/validate.js","../../../node_modules/uuid/dist/esm-node/stringify.js","../../../node_modules/uuid/dist/esm-node/v1.js","../../../node_modules/uuid/dist/esm-node/parse.js","../../../node_modules/uuid/dist/esm-node/v35.js","../../../node_modules/uuid/dist/esm-node/md5.js","../../../node_modules/uuid/dist/esm-node/v3.js","../../../node_modules/uuid/dist/esm-node/v4.js","../../../node_modules/uuid/dist/esm-node/sha1.js","../../../node_modules/uuid/dist/esm-node/v5.js","../../../node_modules/uuid/dist/esm-node/nil.js","../../../node_modules/uuid/dist/esm-node/version.js","../../../node_modules/next-auth/core/lib/cookie.js","../../../node_modules/next-auth/jwt/types.js","../../../node_modules/next-auth/jwt/index.js","../../../node_modules/next-auth/core/lib/oauth/checks.js","../../../node_modules/next-auth/core/lib/oauth/callback.js","../../../node_modules/next-auth/core/lib/utils.js","../../../node_modules/next-auth/core/lib/callback-handler.js","../../../node_modules/next-auth/core/lib/email/getUserFromEmail.js","../../../node_modules/next-auth/core/routes/callback.js","../../../node_modules/next-auth/core/lib/oauth/authorization-url.js","../../../node_modules/next-auth/core/lib/email/signin.js","../../../node_modules/next-auth/core/routes/signin.js","../../../node_modules/next-auth/core/routes/signout.js","../../../node_modules/next-auth/core/routes/session.js","../../../node_modules/next-auth/core/routes/providers.js","../../../node_modules/next-auth/core/routes/index.js","../../../node_modules/preact/src/constants.js","../../../node_modules/preact/src/util.js","../../../node_modules/preact/src/options.js","../../../node_modules/preact/src/create-element.js","../../../node_modules/preact/src/component.js","../../../node_modules/preact/src/diff/props.js","../../../node_modules/preact/src/create-context.js","../../../node_modules/preact/src/diff/children.js","../../../node_modules/preact/src/diff/index.js","../../../node_modules/preact/src/render.js","../../../node_modules/preact/src/diff/catch-error.js","../../../node_modules/preact/src/clone-element.js","../../../node_modules/preact-render-to-string/src/util.js","../../../node_modules/preact-render-to-string/src/pretty.js","../../../node_modules/preact-render-to-string/src/index.js","../../../node_modules/preact-render-to-string/dist/index.js","../../../node_modules/%40babel/runtime/helpers/extends.js","../../../node_modules/next-auth/core/pages/signin.js","../../../node_modules/next-auth/core/pages/signout.js","../../../node_modules/next-auth/core/pages/verify-request.js","../../../node_modules/next-auth/core/pages/error.js","../../../node_modules/next-auth/css/index.js","../../../node_modules/next-auth/core/pages/index.js","../../../node_modules/next-auth/utils/merge.js","../../../node_modules/next-auth/core/lib/providers.js","../../../node_modules/next-auth/core/lib/default-callbacks.js","../../../node_modules/next-auth/core/lib/csrf-token.js","../../../node_modules/next-auth/core/lib/callback-url.js","../../../node_modules/next-auth/utils/parse-url.js","../../../node_modules/next-auth/core/init.js","../../../node_modules/next-auth/core/lib/assert.js","../../../node_modules/cookie/index.js","../../../node_modules/next-auth/core/index.js","../../../node_modules/next-auth/next/utils.js","../../../node_modules/next/src/shared/lib/action-revalidation-kind.ts","../../../node_modules/next/src/server/web/spec-extension/adapters/request-cookies.ts","../../../node_modules/next/src/server/create-deduped-by-callsite-server-error-logger.ts","../../../node_modules/next/src/server/request/cookies.ts","../../../node_modules/next/src/server/web/spec-extension/adapters/headers.ts","../../../node_modules/next/src/server/request/headers.ts","../../../node_modules/next/src/server/request/draft-mode.ts","../../../node_modules/next/headers.js","../../../node_modules/next-auth/next/index.js","../../../node_modules/next-auth/index.js","../../../node_modules/next-auth/providers/google.js","../../../node_modules/next/dist/esm/build/templates/app-route.js","../../../src/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});","function _interopRequireDefault(e) {\n  return e && e.__esModule ? e : {\n    \"default\": e\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _OverloadYield(e, d) {\n  this.v = e, this.k = d;\n}\nmodule.exports = _OverloadYield, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _regeneratorDefine(e, r, n, t) {\n  var i = Object.defineProperty;\n  try {\n    i({}, \"\", {});\n  } catch (e) {\n    i = 0;\n  }\n  module.exports = _regeneratorDefine = function regeneratorDefine(e, r, n, t) {\n    function o(r, n) {\n      _regeneratorDefine(e, r, function (e) {\n        return this._invoke(r, n, e);\n      });\n    }\n    r ? i ? i(e, r, {\n      value: n,\n      enumerable: !t,\n      configurable: !t,\n      writable: !t\n    }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2));\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _regeneratorDefine(e, r, n, t);\n}\nmodule.exports = _regeneratorDefine, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regeneratorDefine = require(\"./regeneratorDefine.js\");\nfunction _regenerator() {\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */\n  var e,\n    t,\n    r = \"function\" == typeof Symbol ? Symbol : {},\n    n = r.iterator || \"@@iterator\",\n    o = r.toStringTag || \"@@toStringTag\";\n  function i(r, n, o, i) {\n    var c = n && n.prototype instanceof Generator ? n : Generator,\n      u = Object.create(c.prototype);\n    return regeneratorDefine(u, \"_invoke\", function (r, n, o) {\n      var i,\n        c,\n        u,\n        f = 0,\n        p = o || [],\n        y = !1,\n        G = {\n          p: 0,\n          n: 0,\n          v: e,\n          a: d,\n          f: d.bind(e, 4),\n          d: function d(t, r) {\n            return i = t, c = 0, u = e, G.n = r, a;\n          }\n        };\n      function d(r, n) {\n        for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) {\n          var o,\n            i = p[t],\n            d = G.p,\n            l = i[2];\n          r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0));\n        }\n        if (o || r > 1) return a;\n        throw y = !0, n;\n      }\n      return function (o, p, l) {\n        if (f > 1) throw TypeError(\"Generator is already running\");\n        for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) {\n          i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u);\n          try {\n            if (f = 2, i) {\n              if (c || (o = \"next\"), t = i[o]) {\n                if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\");\n                if (!t.done) return t;\n                u = t.value, c < 2 && (c = 0);\n              } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1);\n              i = e;\n            } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break;\n          } catch (t) {\n            i = e, c = 1, u = t;\n          } finally {\n            f = 1;\n          }\n        }\n        return {\n          value: t,\n          done: y\n        };\n      };\n    }(r, o, i), !0), u;\n  }\n  var a = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  t = Object.getPrototypeOf;\n  var c = [][n] ? t(t([][n]())) : (regeneratorDefine(t = {}, n, function () {\n      return this;\n    }), t),\n    u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c);\n  function f(e) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, regeneratorDefine(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e;\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, regeneratorDefine(u, \"constructor\", GeneratorFunctionPrototype), regeneratorDefine(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", regeneratorDefine(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), regeneratorDefine(u), regeneratorDefine(u, o, \"Generator\"), regeneratorDefine(u, n, function () {\n    return this;\n  }), regeneratorDefine(u, \"toString\", function () {\n    return \"[object Generator]\";\n  }), (module.exports = _regenerator = function _regenerator() {\n    return {\n      w: i,\n      m: f\n    };\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _regenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var OverloadYield = require(\"./OverloadYield.js\");\nvar regeneratorDefine = require(\"./regeneratorDefine.js\");\nfunction AsyncIterator(t, e) {\n  function n(r, o, i, f) {\n    try {\n      var c = t[r](o),\n        u = c.value;\n      return u instanceof OverloadYield ? e.resolve(u.v).then(function (t) {\n        n(\"next\", t, i, f);\n      }, function (t) {\n        n(\"throw\", t, i, f);\n      }) : e.resolve(u).then(function (t) {\n        c.value = t, i(c);\n      }, function (t) {\n        return n(\"throw\", t, i, f);\n      });\n    } catch (t) {\n      f(t);\n    }\n  }\n  var r;\n  this.next || (regeneratorDefine(AsyncIterator.prototype), regeneratorDefine(AsyncIterator.prototype, \"function\" == typeof Symbol && Symbol.asyncIterator || \"@asyncIterator\", function () {\n    return this;\n  })), regeneratorDefine(this, \"_invoke\", function (t, o, i) {\n    function f() {\n      return new e(function (e, r) {\n        n(t, i, e, r);\n      });\n    }\n    return r = r ? r.then(f, f) : f();\n  }, !0);\n}\nmodule.exports = AsyncIterator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regenerator = require(\"./regenerator.js\");\nvar regeneratorAsyncIterator = require(\"./regeneratorAsyncIterator.js\");\nfunction _regeneratorAsyncGen(r, e, t, o, n) {\n  return new regeneratorAsyncIterator(regenerator().w(r, e, t, o), n || Promise);\n}\nmodule.exports = _regeneratorAsyncGen, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regeneratorAsyncGen = require(\"./regeneratorAsyncGen.js\");\nfunction _regeneratorAsync(n, e, r, t, o) {\n  var a = regeneratorAsyncGen(n, e, r, t, o);\n  return a.next().then(function (n) {\n    return n.done ? n.value : a.next();\n  });\n}\nmodule.exports = _regeneratorAsync, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _regeneratorKeys(e) {\n  var n = Object(e),\n    r = [];\n  for (var t in n) r.unshift(t);\n  return function e() {\n    for (; r.length;) if ((t = r.pop()) in n) return e.value = t, e.done = !1, e;\n    return e.done = !0, e;\n  };\n}\nmodule.exports = _regeneratorKeys, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorValues(e) {\n  if (null != e) {\n    var t = e[\"function\" == typeof Symbol && Symbol.iterator || \"@@iterator\"],\n      r = 0;\n    if (t) return t.call(e);\n    if (\"function\" == typeof e.next) return e;\n    if (!isNaN(e.length)) return {\n      next: function next() {\n        return e && r >= e.length && (e = void 0), {\n          value: e && e[r++],\n          done: !e\n        };\n      }\n    };\n  }\n  throw new TypeError(_typeof(e) + \" is not iterable\");\n}\nmodule.exports = _regeneratorValues, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var OverloadYield = require(\"./OverloadYield.js\");\nvar regenerator = require(\"./regenerator.js\");\nvar regeneratorAsync = require(\"./regeneratorAsync.js\");\nvar regeneratorAsyncGen = require(\"./regeneratorAsyncGen.js\");\nvar regeneratorAsyncIterator = require(\"./regeneratorAsyncIterator.js\");\nvar regeneratorKeys = require(\"./regeneratorKeys.js\");\nvar regeneratorValues = require(\"./regeneratorValues.js\");\nfunction _regeneratorRuntime() {\n  \"use strict\";\n\n  var r = regenerator(),\n    e = r.m(_regeneratorRuntime),\n    t = (Object.getPrototypeOf ? Object.getPrototypeOf(e) : e.__proto__).constructor;\n  function n(r) {\n    var e = \"function\" == typeof r && r.constructor;\n    return !!e && (e === t || \"GeneratorFunction\" === (e.displayName || e.name));\n  }\n  var o = {\n    \"throw\": 1,\n    \"return\": 2,\n    \"break\": 3,\n    \"continue\": 3\n  };\n  function a(r) {\n    var e, t;\n    return function (n) {\n      e || (e = {\n        stop: function stop() {\n          return t(n.a, 2);\n        },\n        \"catch\": function _catch() {\n          return n.v;\n        },\n        abrupt: function abrupt(r, e) {\n          return t(n.a, o[r], e);\n        },\n        delegateYield: function delegateYield(r, o, a) {\n          return e.resultName = o, t(n.d, regeneratorValues(r), a);\n        },\n        finish: function finish(r) {\n          return t(n.f, r);\n        }\n      }, t = function t(r, _t, o) {\n        n.p = e.prev, n.n = e.next;\n        try {\n          return r(_t, o);\n        } finally {\n          e.next = n.n;\n        }\n      }), e.resultName && (e[e.resultName] = n.v, e.resultName = void 0), e.sent = n.v, e.next = n.n;\n      try {\n        return r.call(this, e);\n      } finally {\n        n.p = e.prev, n.n = e.next;\n      }\n    };\n  }\n  return (module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return {\n      wrap: function wrap(e, t, n, o) {\n        return r.w(a(e), t, n, o && o.reverse());\n      },\n      isGeneratorFunction: n,\n      mark: r.m,\n      awrap: function awrap(r, e) {\n        return new OverloadYield(r, e);\n      },\n      AsyncIterator: regeneratorAsyncIterator,\n      async: function async(r, e, t, o, u) {\n        return (n(e) ? regeneratorAsyncGen : regeneratorAsync)(a(r), e, t, o, u);\n      },\n      keys: regeneratorKeys,\n      values: regeneratorValues\n    };\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(t) {\n  return module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _getPrototypeOf(t);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(t, e) {\n  return module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _setPrototypeOf(t, e);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(t) {\n  try {\n    return -1 !== Function.toString.call(t).indexOf(\"[native code]\");\n  } catch (n) {\n    return \"function\" == typeof t;\n  }\n}\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (module.exports = _isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _construct(t, e, r) {\n  if (isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && setPrototypeOf(p, r.prototype), p;\n}\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeFunction = require(\"./isNativeFunction.js\");\nvar construct = require(\"./construct.js\");\nfunction _wrapNativeSuper(t) {\n  var r = \"function\" == typeof Map ? new Map() : void 0;\n  return module.exports = _wrapNativeSuper = function _wrapNativeSuper(t) {\n    if (null === t || !isNativeFunction(t)) return t;\n    if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n    if (void 0 !== r) {\n      if (r.has(t)) return r.get(t);\n      r.set(t, Wrapper);\n    }\n    function Wrapper() {\n      return construct(t, arguments, getPrototypeOf(this).constructor);\n    }\n    return Wrapper.prototype = Object.create(t.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), setPrototypeOf(Wrapper, t);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _wrapNativeSuper(t);\n}\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnsupportedStrategy = exports.UnknownError = exports.OAuthCallbackError = exports.MissingSecret = exports.MissingAuthorize = exports.MissingAdapterMethods = exports.MissingAdapter = exports.MissingAPIRoute = exports.InvalidCallbackUrl = exports.AccountNotLinkedError = void 0;\nexports.adapterErrorHandler = adapterErrorHandler;\nexports.capitalize = capitalize;\nexports.eventsErrorHandler = eventsErrorHandler;\nexports.upperSnake = upperSnake;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/wrapNativeSuper\"));\nfunction _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nvar UnknownError = exports.UnknownError = function (_Error) {\n  function UnknownError(error) {\n    var _message;\n    var _this;\n    (0, _classCallCheck2.default)(this, UnknownError);\n    _this = _callSuper(this, UnknownError, [(_message = error === null || error === void 0 ? void 0 : error.message) !== null && _message !== void 0 ? _message : error]);\n    _this.name = \"UnknownError\";\n    _this.code = error.code;\n    if (error instanceof Error) {\n      _this.stack = error.stack;\n    }\n    return _this;\n  }\n  (0, _inherits2.default)(UnknownError, _Error);\n  return (0, _createClass2.default)(UnknownError, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        name: this.name,\n        message: this.message,\n        stack: this.stack\n      };\n    }\n  }]);\n}((0, _wrapNativeSuper2.default)(Error));\nvar OAuthCallbackError = exports.OAuthCallbackError = function (_UnknownError) {\n  function OAuthCallbackError() {\n    var _this2;\n    (0, _classCallCheck2.default)(this, OAuthCallbackError);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this2 = _callSuper(this, OAuthCallbackError, [].concat(args));\n    (0, _defineProperty2.default)(_this2, \"name\", \"OAuthCallbackError\");\n    return _this2;\n  }\n  (0, _inherits2.default)(OAuthCallbackError, _UnknownError);\n  return (0, _createClass2.default)(OAuthCallbackError);\n}(UnknownError);\nvar AccountNotLinkedError = exports.AccountNotLinkedError = function (_UnknownError2) {\n  function AccountNotLinkedError() {\n    var _this3;\n    (0, _classCallCheck2.default)(this, AccountNotLinkedError);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    _this3 = _callSuper(this, AccountNotLinkedError, [].concat(args));\n    (0, _defineProperty2.default)(_this3, \"name\", \"AccountNotLinkedError\");\n    return _this3;\n  }\n  (0, _inherits2.default)(AccountNotLinkedError, _UnknownError2);\n  return (0, _createClass2.default)(AccountNotLinkedError);\n}(UnknownError);\nvar MissingAPIRoute = exports.MissingAPIRoute = function (_UnknownError3) {\n  function MissingAPIRoute() {\n    var _this4;\n    (0, _classCallCheck2.default)(this, MissingAPIRoute);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this4 = _callSuper(this, MissingAPIRoute, [].concat(args));\n    (0, _defineProperty2.default)(_this4, \"name\", \"MissingAPIRouteError\");\n    (0, _defineProperty2.default)(_this4, \"code\", \"MISSING_NEXTAUTH_API_ROUTE_ERROR\");\n    return _this4;\n  }\n  (0, _inherits2.default)(MissingAPIRoute, _UnknownError3);\n  return (0, _createClass2.default)(MissingAPIRoute);\n}(UnknownError);\nvar MissingSecret = exports.MissingSecret = function (_UnknownError4) {\n  function MissingSecret() {\n    var _this5;\n    (0, _classCallCheck2.default)(this, MissingSecret);\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    _this5 = _callSuper(this, MissingSecret, [].concat(args));\n    (0, _defineProperty2.default)(_this5, \"name\", \"MissingSecretError\");\n    (0, _defineProperty2.default)(_this5, \"code\", \"NO_SECRET\");\n    return _this5;\n  }\n  (0, _inherits2.default)(MissingSecret, _UnknownError4);\n  return (0, _createClass2.default)(MissingSecret);\n}(UnknownError);\nvar MissingAuthorize = exports.MissingAuthorize = function (_UnknownError5) {\n  function MissingAuthorize() {\n    var _this6;\n    (0, _classCallCheck2.default)(this, MissingAuthorize);\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    _this6 = _callSuper(this, MissingAuthorize, [].concat(args));\n    (0, _defineProperty2.default)(_this6, \"name\", \"MissingAuthorizeError\");\n    (0, _defineProperty2.default)(_this6, \"code\", \"CALLBACK_CREDENTIALS_HANDLER_ERROR\");\n    return _this6;\n  }\n  (0, _inherits2.default)(MissingAuthorize, _UnknownError5);\n  return (0, _createClass2.default)(MissingAuthorize);\n}(UnknownError);\nvar MissingAdapter = exports.MissingAdapter = function (_UnknownError6) {\n  function MissingAdapter() {\n    var _this7;\n    (0, _classCallCheck2.default)(this, MissingAdapter);\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n    _this7 = _callSuper(this, MissingAdapter, [].concat(args));\n    (0, _defineProperty2.default)(_this7, \"name\", \"MissingAdapterError\");\n    (0, _defineProperty2.default)(_this7, \"code\", \"EMAIL_REQUIRES_ADAPTER_ERROR\");\n    return _this7;\n  }\n  (0, _inherits2.default)(MissingAdapter, _UnknownError6);\n  return (0, _createClass2.default)(MissingAdapter);\n}(UnknownError);\nvar MissingAdapterMethods = exports.MissingAdapterMethods = function (_UnknownError7) {\n  function MissingAdapterMethods() {\n    var _this8;\n    (0, _classCallCheck2.default)(this, MissingAdapterMethods);\n    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n    _this8 = _callSuper(this, MissingAdapterMethods, [].concat(args));\n    (0, _defineProperty2.default)(_this8, \"name\", \"MissingAdapterMethodsError\");\n    (0, _defineProperty2.default)(_this8, \"code\", \"MISSING_ADAPTER_METHODS_ERROR\");\n    return _this8;\n  }\n  (0, _inherits2.default)(MissingAdapterMethods, _UnknownError7);\n  return (0, _createClass2.default)(MissingAdapterMethods);\n}(UnknownError);\nvar UnsupportedStrategy = exports.UnsupportedStrategy = function (_UnknownError8) {\n  function UnsupportedStrategy() {\n    var _this9;\n    (0, _classCallCheck2.default)(this, UnsupportedStrategy);\n    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      args[_key8] = arguments[_key8];\n    }\n    _this9 = _callSuper(this, UnsupportedStrategy, [].concat(args));\n    (0, _defineProperty2.default)(_this9, \"name\", \"UnsupportedStrategyError\");\n    (0, _defineProperty2.default)(_this9, \"code\", \"CALLBACK_CREDENTIALS_JWT_ERROR\");\n    return _this9;\n  }\n  (0, _inherits2.default)(UnsupportedStrategy, _UnknownError8);\n  return (0, _createClass2.default)(UnsupportedStrategy);\n}(UnknownError);\nvar InvalidCallbackUrl = exports.InvalidCallbackUrl = function (_UnknownError9) {\n  function InvalidCallbackUrl() {\n    var _this10;\n    (0, _classCallCheck2.default)(this, InvalidCallbackUrl);\n    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      args[_key9] = arguments[_key9];\n    }\n    _this10 = _callSuper(this, InvalidCallbackUrl, [].concat(args));\n    (0, _defineProperty2.default)(_this10, \"name\", \"InvalidCallbackUrl\");\n    (0, _defineProperty2.default)(_this10, \"code\", \"INVALID_CALLBACK_URL_ERROR\");\n    return _this10;\n  }\n  (0, _inherits2.default)(InvalidCallbackUrl, _UnknownError9);\n  return (0, _createClass2.default)(InvalidCallbackUrl);\n}(UnknownError);\nfunction upperSnake(s) {\n  return s.replace(/([A-Z])/g, \"_$1\").toUpperCase();\n}\nfunction capitalize(s) {\n  return \"\".concat(s[0].toUpperCase()).concat(s.slice(1));\n}\nfunction eventsErrorHandler(methods, logger) {\n  return Object.keys(methods).reduce(function (acc, name) {\n    acc[name] = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee() {\n      var method,\n        _args = arguments;\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            method = methods[name];\n            _context.next = 4;\n            return method.apply(void 0, _args);\n          case 4:\n            return _context.abrupt(\"return\", _context.sent);\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            logger.error(\"\".concat(upperSnake(name), \"_EVENT_ERROR\"), _context.t0);\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n    return acc;\n  }, {});\n}\nfunction adapterErrorHandler(adapter, logger) {\n  if (!adapter) return;\n  return Object.keys(adapter).reduce(function (acc, name) {\n    acc[name] = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee2() {\n      var _len10,\n        args,\n        _key10,\n        method,\n        e,\n        _args2 = arguments;\n      return _regenerator.default.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            for (_len10 = _args2.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n              args[_key10] = _args2[_key10];\n            }\n            logger.debug(\"adapter_\".concat(name), {\n              args: args\n            });\n            method = adapter[name];\n            _context2.next = 6;\n            return method.apply(void 0, args);\n          case 6:\n            return _context2.abrupt(\"return\", _context2.sent);\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            logger.error(\"adapter_error_\".concat(name), _context2.t0);\n            e = new UnknownError(_context2.t0);\n            e.name = \"\".concat(capitalize(name), \"Error\");\n            throw e;\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n    return acc;\n  }, {});\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.proxyLogger = proxyLogger;\nexports.setLogger = setLogger;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _errors = require(\"../core/errors\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction formatError(o) {\n  if (o instanceof Error && !(o instanceof _errors.UnknownError)) {\n    return {\n      message: o.message,\n      stack: o.stack,\n      name: o.name\n    };\n  }\n  if (hasErrorProperty(o)) {\n    var _o$message;\n    o.error = formatError(o.error);\n    o.message = (_o$message = o.message) !== null && _o$message !== void 0 ? _o$message : o.error.message;\n  }\n  return o;\n}\nfunction hasErrorProperty(x) {\n  return !!(x !== null && x !== void 0 && x.error);\n}\nvar _logger = {\n  error: function error(code, metadata) {\n    metadata = formatError(metadata);\n    console.error(\"[next-auth][error][\".concat(code, \"]\"), \"\\nhttps://next-auth.js.org/errors#\".concat(code.toLowerCase()), metadata.message, metadata);\n  },\n  warn: function warn(code) {\n    console.warn(\"[next-auth][warn][\".concat(code, \"]\"), \"\\nhttps://next-auth.js.org/warnings#\".concat(code.toLowerCase()));\n  },\n  debug: function debug(code, metadata) {\n    console.log(\"[next-auth][debug][\".concat(code, \"]\"), metadata);\n  }\n};\nfunction setLogger() {\n  var newLogger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var debug = arguments.length > 1 ? arguments[1] : undefined;\n  if (!debug) _logger.debug = function () {};\n  if (newLogger.error) _logger.error = newLogger.error;\n  if (newLogger.warn) _logger.warn = newLogger.warn;\n  if (newLogger.debug) _logger.debug = newLogger.debug;\n}\nvar _default = exports.default = _logger;\nfunction proxyLogger() {\n  var logger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _logger;\n  var basePath = arguments.length > 1 ? arguments[1] : undefined;\n  try {\n    if (typeof window === \"undefined\") {\n      return logger;\n    }\n    var clientLogger = {};\n    var _loop = function _loop(level) {\n      clientLogger[level] = function () {\n        var _ref = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee(code, metadata) {\n          var url, body;\n          return _regenerator.default.wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _logger[level](code, metadata);\n                if (level === \"error\") {\n                  metadata = formatError(metadata);\n                }\n                ;\n                metadata.client = true;\n                url = \"\".concat(basePath, \"/_log\");\n                body = new URLSearchParams(_objectSpread({\n                  level: level,\n                  code: code\n                }, metadata));\n                if (!navigator.sendBeacon) {\n                  _context.next = 8;\n                  break;\n                }\n                return _context.abrupt(\"return\", navigator.sendBeacon(url, body));\n              case 8:\n                _context.next = 10;\n                return fetch(url, {\n                  method: \"POST\",\n                  body: body,\n                  keepalive: true\n                });\n              case 10:\n                return _context.abrupt(\"return\", _context.sent);\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n    };\n    for (var level in logger) {\n      _loop(level);\n    }\n    return clientLogger;\n  } catch (_unused) {\n    return _logger;\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detectOrigin = detectOrigin;\nfunction detectOrigin(forwardedHost, protocol) {\n  var _process$env$VERCEL;\n  if ((_process$env$VERCEL = process.env.VERCEL) !== null && _process$env$VERCEL !== void 0 ? _process$env$VERCEL : process.env.AUTH_TRUST_HOST) return `${protocol === \"http\" ? \"http\" : \"https\"}://${forwardedHost}`;\n  return process.env.NEXTAUTH_URL;\n}","const { format } = require('util');\n\nclass OPError extends Error {\n  constructor({ error_description, error, error_uri, session_state, state, scope }, response) {\n    super(!error_description ? error : `${error} (${error_description})`);\n\n    Object.assign(\n      this,\n      { error },\n      error_description && { error_description },\n      error_uri && { error_uri },\n      state && { state },\n      scope && { scope },\n      session_state && { session_state },\n    );\n\n    if (response) {\n      Object.defineProperty(this, 'response', {\n        value: response,\n      });\n    }\n\n    this.name = this.constructor.name;\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n\nclass RPError extends Error {\n  constructor(...args) {\n    if (typeof args[0] === 'string') {\n      super(format(...args));\n    } else {\n      const { message, printf, response, ...rest } = args[0];\n      if (printf) {\n        super(format(...printf));\n      } else {\n        super(message);\n      }\n      Object.assign(this, rest);\n      if (response) {\n        Object.defineProperty(this, 'response', {\n          value: response,\n        });\n      }\n    }\n\n    this.name = this.constructor.name;\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n\nmodule.exports = {\n  OPError,\n  RPError,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst digest = (algorithm, data) => (0, crypto_1.createHash)(algorithm).update(data).digest();\nexports.default = digest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.concatKdf = exports.lengthAndInput = exports.uint32be = exports.uint64be = exports.p2s = exports.concat = exports.decoder = exports.encoder = void 0;\nconst digest_js_1 = require(\"../runtime/digest.js\");\nexports.encoder = new TextEncoder();\nexports.decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nfunction concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    buffers.forEach((buffer) => {\n        buf.set(buffer, i);\n        i += buffer.length;\n    });\n    return buf;\n}\nexports.concat = concat;\nfunction p2s(alg, p2sInput) {\n    return concat(exports.encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nexports.p2s = p2s;\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nfunction uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexports.uint64be = uint64be;\nfunction uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexports.uint32be = uint32be;\nfunction lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexports.lengthAndInput = lengthAndInput;\nasync function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await (0, digest_js_1.default)('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\nexports.concatKdf = concatKdf;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decode = exports.encode = exports.encodeBase64 = exports.decodeBase64 = void 0;\nconst buffer_1 = require(\"buffer\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nlet encode;\nfunction normalize(input) {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = buffer_utils_js_1.decoder.decode(encoded);\n    }\n    return encoded;\n}\nif (buffer_1.Buffer.isEncoding('base64url')) {\n    exports.encode = encode = (input) => buffer_1.Buffer.from(input).toString('base64url');\n}\nelse {\n    exports.encode = encode = (input) => buffer_1.Buffer.from(input).toString('base64').replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nconst decodeBase64 = (input) => buffer_1.Buffer.from(input, 'base64');\nexports.decodeBase64 = decodeBase64;\nconst encodeBase64 = (input) => buffer_1.Buffer.from(input).toString('base64');\nexports.encodeBase64 = encodeBase64;\nconst decode = (input) => buffer_1.Buffer.from(normalize(input), 'base64');\nexports.decode = decode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JWSSignatureVerificationFailed = exports.JWKSTimeout = exports.JWKSMultipleMatchingKeys = exports.JWKSNoMatchingKey = exports.JWKSInvalid = exports.JWKInvalid = exports.JWTInvalid = exports.JWSInvalid = exports.JWEInvalid = exports.JWEDecompressionFailed = exports.JWEDecryptionFailed = exports.JOSENotSupported = exports.JOSEAlgNotAllowed = exports.JWTExpired = exports.JWTClaimValidationFailed = exports.JOSEError = void 0;\nclass JOSEError extends Error {\n    static get code() {\n        return 'ERR_JOSE_GENERIC';\n    }\n    constructor(message) {\n        var _a;\n        super(message);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        (_a = Error.captureStackTrace) === null || _a === void 0 ? void 0 : _a.call(Error, this, this.constructor);\n    }\n}\nexports.JOSEError = JOSEError;\nclass JWTClaimValidationFailed extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexports.JWTClaimValidationFailed = JWTClaimValidationFailed;\nclass JWTExpired extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_EXPIRED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexports.JWTExpired = JWTExpired;\nclass JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n    static get code() {\n        return 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nexports.JOSEAlgNotAllowed = JOSEAlgNotAllowed;\nclass JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n    static get code() {\n        return 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nexports.JOSENotSupported = JOSENotSupported;\nclass JWEDecryptionFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n        this.message = 'decryption operation failed';\n    }\n    static get code() {\n        return 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nexports.JWEDecryptionFailed = JWEDecryptionFailed;\nclass JWEDecompressionFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_DECOMPRESSION_FAILED';\n        this.message = 'decompression operation failed';\n    }\n    static get code() {\n        return 'ERR_JWE_DECOMPRESSION_FAILED';\n    }\n}\nexports.JWEDecompressionFailed = JWEDecompressionFailed;\nclass JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWE_INVALID';\n    }\n}\nexports.JWEInvalid = JWEInvalid;\nclass JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWS_INVALID';\n    }\n}\nexports.JWSInvalid = JWSInvalid;\nclass JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWT_INVALID';\n    }\n}\nexports.JWTInvalid = JWTInvalid;\nclass JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWK_INVALID';\n    }\n}\nexports.JWKInvalid = JWKInvalid;\nclass JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWKS_INVALID';\n    }\n}\nexports.JWKSInvalid = JWKSInvalid;\nclass JWKSNoMatchingKey extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n        this.message = 'no applicable key found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nexports.JWKSNoMatchingKey = JWKSNoMatchingKey;\nclass JWKSMultipleMatchingKeys extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n        this.message = 'multiple matching keys found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nexports.JWKSMultipleMatchingKeys = JWKSMultipleMatchingKeys;\nSymbol.asyncIterator;\nclass JWKSTimeout extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_TIMEOUT';\n        this.message = 'request timed out';\n    }\n    static get code() {\n        return 'ERR_JWKS_TIMEOUT';\n    }\n}\nexports.JWKSTimeout = JWKSTimeout;\nclass JWSSignatureVerificationFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n        this.message = 'signature verification failed';\n    }\n    static get code() {\n        return 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\nexports.JWSSignatureVerificationFailed = JWSSignatureVerificationFailed;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar crypto_1 = require(\"crypto\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return crypto_1.randomFillSync; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bitLength = void 0;\nconst errors_js_1 = require(\"../util/errors.js\");\nconst random_js_1 = require(\"../runtime/random.js\");\nfunction bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A128GCMKW':\n        case 'A192GCM':\n        case 'A192GCMKW':\n        case 'A256GCM':\n        case 'A256GCMKW':\n            return 96;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return 128;\n        default:\n            throw new errors_js_1.JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexports.bitLength = bitLength;\nexports.default = (alg) => (0, random_js_1.default)(new Uint8Array(bitLength(alg) >> 3));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nconst iv_js_1 = require(\"./iv.js\");\nconst checkIvLength = (enc, iv) => {\n    if (iv.length << 3 !== (0, iv_js_1.bitLength)(enc)) {\n        throw new errors_js_1.JWEInvalid('Invalid Initialization Vector length');\n    }\n};\nexports.default = checkIvLength;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst util = require(\"util\");\nexports.default = util.types.isKeyObject\n    ? (obj) => util.types.isKeyObject(obj)\n    : (obj) => obj != null && obj instanceof crypto_1.KeyObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst checkCekLength = (enc, cek) => {\n    let expected;\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            expected = parseInt(enc.slice(-3), 10);\n            break;\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            expected = parseInt(enc.slice(1, 4), 10);\n            break;\n        default:\n            throw new errors_js_1.JOSENotSupported(`Content Encryption Algorithm ${enc} is not supported either by JOSE or your javascript runtime`);\n    }\n    if (cek instanceof Uint8Array) {\n        const actual = cek.byteLength << 3;\n        if (actual !== expected) {\n            throw new errors_js_1.JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n        }\n        return;\n    }\n    if ((0, is_key_object_js_1.default)(cek) && cek.type === 'secret') {\n        const actual = cek.symmetricKeySize << 3;\n        if (actual !== expected) {\n            throw new errors_js_1.JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n        }\n        return;\n    }\n    throw new TypeError('Invalid Content Encryption Key type');\n};\nexports.default = checkCekLength;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst timingSafeEqual = crypto_1.timingSafeEqual;\nexports.default = timingSafeEqual;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nfunction cbcTag(aad, iv, ciphertext, macSize, macKey, keySize) {\n    const macData = (0, buffer_utils_js_1.concat)(aad, iv, ciphertext, (0, buffer_utils_js_1.uint64be)(aad.length << 3));\n    const hmac = (0, crypto_1.createHmac)(`sha${macSize}`, macKey);\n    hmac.update(macData);\n    return hmac.digest().slice(0, keySize >> 3);\n}\nexports.default = cbcTag;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isCryptoKey = void 0;\nconst crypto = require(\"crypto\");\nconst util = require(\"util\");\nconst webcrypto = crypto.webcrypto;\nexports.default = webcrypto;\nexports.isCryptoKey = util.types.isCryptoKey\n    ? (key) => util.types.isCryptoKey(key)\n    :\n        (key) => false;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkEncCryptoKey = exports.checkSigCryptoKey = void 0;\nfunction unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nfunction checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'EdDSA': {\n            if (key.algorithm.name !== 'Ed25519' && key.algorithm.name !== 'Ed448') {\n                throw unusable('Ed25519 or Ed448');\n            }\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexports.checkSigCryptoKey = checkSigCryptoKey;\nfunction checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                case 'X448':\n                    break;\n                default:\n                    throw unusable('ECDH, X25519, or X448');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexports.checkEncCryptoKey = checkEncCryptoKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withAlg = void 0;\nfunction message(msg, actual, ...types) {\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor && actual.constructor.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexports.default = (actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n};\nfunction withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\nexports.withAlg = withAlg;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nlet ciphers;\nexports.default = (algorithm) => {\n    ciphers || (ciphers = new Set((0, crypto_1.getCiphers)()));\n    return ciphers.has(algorithm);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.types = void 0;\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nexports.default = (key) => (0, is_key_object_js_1.default)(key) || (0, webcrypto_js_1.isCryptoKey)(key);\nconst types = ['KeyObject'];\nexports.types = types;\nif (globalThis.CryptoKey || (webcrypto_js_1.default === null || webcrypto_js_1.default === void 0 ? void 0 : webcrypto_js_1.default.CryptoKey)) {\n    types.push('CryptoKey');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst check_iv_length_js_1 = require(\"../lib/check_iv_length.js\");\nconst check_cek_length_js_1 = require(\"./check_cek_length.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst timing_safe_equal_js_1 = require(\"./timing_safe_equal.js\");\nconst cbc_tag_js_1 = require(\"./cbc_tag.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst ciphers_js_1 = require(\"./ciphers.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction cbcDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    if ((0, is_key_object_js_1.default)(cek)) {\n        cek = cek.export();\n    }\n    const encKey = cek.subarray(keySize >> 3);\n    const macKey = cek.subarray(0, keySize >> 3);\n    const macSize = parseInt(enc.slice(-3), 10);\n    const algorithm = `aes-${keySize}-cbc`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    const expectedTag = (0, cbc_tag_js_1.default)(aad, iv, ciphertext, macSize, macKey, keySize);\n    let macCheckPassed;\n    try {\n        macCheckPassed = (0, timing_safe_equal_js_1.default)(tag, expectedTag);\n    }\n    catch {\n    }\n    if (!macCheckPassed) {\n        throw new errors_js_1.JWEDecryptionFailed();\n    }\n    let plaintext;\n    try {\n        const decipher = (0, crypto_1.createDecipheriv)(algorithm, encKey, iv);\n        plaintext = (0, buffer_utils_js_1.concat)(decipher.update(ciphertext), decipher.final());\n    }\n    catch {\n    }\n    if (!plaintext) {\n        throw new errors_js_1.JWEDecryptionFailed();\n    }\n    return plaintext;\n}\nfunction gcmDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const algorithm = `aes-${keySize}-gcm`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    try {\n        const decipher = (0, crypto_1.createDecipheriv)(algorithm, cek, iv, { authTagLength: 16 });\n        decipher.setAuthTag(tag);\n        if (aad.byteLength) {\n            decipher.setAAD(aad, { plaintextLength: ciphertext.length });\n        }\n        const plaintext = decipher.update(ciphertext);\n        decipher.final();\n        return plaintext;\n    }\n    catch {\n        throw new errors_js_1.JWEDecryptionFailed();\n    }\n}\nconst decrypt = (enc, cek, ciphertext, iv, tag, aad) => {\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(cek)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(cek, enc, 'decrypt');\n        key = crypto_1.KeyObject.from(cek);\n    }\n    else if (cek instanceof Uint8Array || (0, is_key_object_js_1.default)(cek)) {\n        key = cek;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(cek, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    (0, check_cek_length_js_1.default)(enc, key);\n    (0, check_iv_length_js_1.default)(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return cbcDecrypt(enc, key, ciphertext, iv, tag, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            return gcmDecrypt(enc, key, ciphertext, iv, tag, aad);\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexports.default = decrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deflate = exports.inflate = void 0;\nconst util_1 = require(\"util\");\nconst zlib_1 = require(\"zlib\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst inflateRaw = (0, util_1.promisify)(zlib_1.inflateRaw);\nconst deflateRaw = (0, util_1.promisify)(zlib_1.deflateRaw);\nconst inflate = (input) => inflateRaw(input, { maxOutputLength: 250000 }).catch(() => {\n    throw new errors_js_1.JWEDecompressionFailed();\n});\nexports.inflate = inflate;\nconst deflate = (input) => deflateRaw(input);\nexports.deflate = deflate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexports.default = isDisjoint;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nfunction isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\nexports.default = isObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unwrap = exports.wrap = void 0;\nconst buffer_1 = require(\"buffer\");\nconst crypto_1 = require(\"crypto\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst ciphers_js_1 = require(\"./ciphers.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction checkKeySize(key, alg) {\n    if (key.symmetricKeySize << 3 !== parseInt(alg.slice(1, 4), 10)) {\n        throw new TypeError(`Invalid key size for alg: ${alg}`);\n    }\n}\nfunction ensureKeyObject(key, alg, usage) {\n    if ((0, is_key_object_js_1.default)(key)) {\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        return (0, crypto_1.createSecretKey)(key);\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(key, alg, usage);\n        return crypto_1.KeyObject.from(key);\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n}\nconst wrap = (alg, key, cek) => {\n    const size = parseInt(alg.slice(1, 4), 10);\n    const algorithm = `aes${size}-wrap`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n    const keyObject = ensureKeyObject(key, alg, 'wrapKey');\n    checkKeySize(keyObject, alg);\n    const cipher = (0, crypto_1.createCipheriv)(algorithm, keyObject, buffer_1.Buffer.alloc(8, 0xa6));\n    return (0, buffer_utils_js_1.concat)(cipher.update(cek), cipher.final());\n};\nexports.wrap = wrap;\nconst unwrap = (alg, key, encryptedKey) => {\n    const size = parseInt(alg.slice(1, 4), 10);\n    const algorithm = `aes${size}-wrap`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n    const keyObject = ensureKeyObject(key, alg, 'unwrapKey');\n    checkKeySize(keyObject, alg);\n    const cipher = (0, crypto_1.createDecipheriv)(algorithm, keyObject, buffer_1.Buffer.alloc(8, 0xa6));\n    return (0, buffer_utils_js_1.concat)(cipher.update(encryptedKey), cipher.final());\n};\nexports.unwrap = unwrap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setCurve = exports.weakMap = void 0;\nconst buffer_1 = require(\"buffer\");\nconst crypto_1 = require(\"crypto\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst p256 = buffer_1.Buffer.from([42, 134, 72, 206, 61, 3, 1, 7]);\nconst p384 = buffer_1.Buffer.from([43, 129, 4, 0, 34]);\nconst p521 = buffer_1.Buffer.from([43, 129, 4, 0, 35]);\nconst secp256k1 = buffer_1.Buffer.from([43, 129, 4, 0, 10]);\nexports.weakMap = new WeakMap();\nconst namedCurveToJOSE = (namedCurve) => {\n    switch (namedCurve) {\n        case 'prime256v1':\n            return 'P-256';\n        case 'secp384r1':\n            return 'P-384';\n        case 'secp521r1':\n            return 'P-521';\n        case 'secp256k1':\n            return 'secp256k1';\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported key curve for this operation');\n    }\n};\nconst getNamedCurve = (kee, raw) => {\n    var _a;\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(kee)) {\n        key = crypto_1.KeyObject.from(kee);\n    }\n    else if ((0, is_key_object_js_1.default)(kee)) {\n        key = kee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(kee, ...is_key_like_js_1.types));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError('only \"private\" or \"public\" type keys can be used for this operation');\n    }\n    switch (key.asymmetricKeyType) {\n        case 'ed25519':\n        case 'ed448':\n            return `Ed${key.asymmetricKeyType.slice(2)}`;\n        case 'x25519':\n        case 'x448':\n            return `X${key.asymmetricKeyType.slice(1)}`;\n        case 'ec': {\n            if (exports.weakMap.has(key)) {\n                return exports.weakMap.get(key);\n            }\n            let namedCurve = (_a = key.asymmetricKeyDetails) === null || _a === void 0 ? void 0 : _a.namedCurve;\n            if (!namedCurve && key.type === 'private') {\n                namedCurve = getNamedCurve((0, crypto_1.createPublicKey)(key), true);\n            }\n            else if (!namedCurve) {\n                const buf = key.export({ format: 'der', type: 'spki' });\n                const i = buf[1] < 128 ? 14 : 15;\n                const len = buf[i];\n                const curveOid = buf.slice(i + 1, i + 1 + len);\n                if (curveOid.equals(p256)) {\n                    namedCurve = 'prime256v1';\n                }\n                else if (curveOid.equals(p384)) {\n                    namedCurve = 'secp384r1';\n                }\n                else if (curveOid.equals(p521)) {\n                    namedCurve = 'secp521r1';\n                }\n                else if (curveOid.equals(secp256k1)) {\n                    namedCurve = 'secp256k1';\n                }\n                else {\n                    throw new errors_js_1.JOSENotSupported('Unsupported key curve for this operation');\n                }\n            }\n            if (raw)\n                return namedCurve;\n            const curve = namedCurveToJOSE(namedCurve);\n            exports.weakMap.set(key, curve);\n            return curve;\n        }\n        default:\n            throw new TypeError('Invalid asymmetric key type for this operation');\n    }\n};\nfunction setCurve(keyObject, curve) {\n    exports.weakMap.set(keyObject, curve);\n}\nexports.setCurve = setCurve;\nexports.default = getNamedCurve;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ecdhAllowed = exports.generateEpk = exports.deriveKey = void 0;\nconst crypto_1 = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst generateKeyPair = (0, util_1.promisify)(crypto_1.generateKeyPair);\nasync function deriveKey(publicKee, privateKee, algorithm, keyLength, apu = new Uint8Array(0), apv = new Uint8Array(0)) {\n    let publicKey;\n    if ((0, webcrypto_js_1.isCryptoKey)(publicKee)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(publicKee, 'ECDH');\n        publicKey = crypto_1.KeyObject.from(publicKee);\n    }\n    else if ((0, is_key_object_js_1.default)(publicKee)) {\n        publicKey = publicKee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(publicKee, ...is_key_like_js_1.types));\n    }\n    let privateKey;\n    if ((0, webcrypto_js_1.isCryptoKey)(privateKee)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(privateKee, 'ECDH', 'deriveBits');\n        privateKey = crypto_1.KeyObject.from(privateKee);\n    }\n    else if ((0, is_key_object_js_1.default)(privateKee)) {\n        privateKey = privateKee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(privateKee, ...is_key_like_js_1.types));\n    }\n    const value = (0, buffer_utils_js_1.concat)((0, buffer_utils_js_1.lengthAndInput)(buffer_utils_js_1.encoder.encode(algorithm)), (0, buffer_utils_js_1.lengthAndInput)(apu), (0, buffer_utils_js_1.lengthAndInput)(apv), (0, buffer_utils_js_1.uint32be)(keyLength));\n    const sharedSecret = (0, crypto_1.diffieHellman)({ privateKey, publicKey });\n    return (0, buffer_utils_js_1.concatKdf)(sharedSecret, keyLength, value);\n}\nexports.deriveKey = deriveKey;\nasync function generateEpk(kee) {\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(kee)) {\n        key = crypto_1.KeyObject.from(kee);\n    }\n    else if ((0, is_key_object_js_1.default)(kee)) {\n        key = kee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(kee, ...is_key_like_js_1.types));\n    }\n    switch (key.asymmetricKeyType) {\n        case 'x25519':\n            return generateKeyPair('x25519');\n        case 'x448': {\n            return generateKeyPair('x448');\n        }\n        case 'ec': {\n            const namedCurve = (0, get_named_curve_js_1.default)(key);\n            return generateKeyPair('ec', { namedCurve });\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported EPK');\n    }\n}\nexports.generateEpk = generateEpk;\nconst ecdhAllowed = (key) => ['P-256', 'P-384', 'P-521', 'X25519', 'X448'].includes((0, get_named_curve_js_1.default)(key));\nexports.ecdhAllowed = ecdhAllowed;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction checkP2s(p2s) {\n    if (!(p2s instanceof Uint8Array) || p2s.length < 8) {\n        throw new errors_js_1.JWEInvalid('PBES2 Salt Input must be 8 or more octets');\n    }\n}\nexports.default = checkP2s;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst util_1 = require(\"util\");\nconst crypto_1 = require(\"crypto\");\nconst random_js_1 = require(\"./random.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst base64url_js_1 = require(\"./base64url.js\");\nconst aeskw_js_1 = require(\"./aeskw.js\");\nconst check_p2s_js_1 = require(\"../lib/check_p2s.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst pbkdf2 = (0, util_1.promisify)(crypto_1.pbkdf2);\nfunction getPassword(key, alg) {\n    if ((0, is_key_object_js_1.default)(key)) {\n        return key.export();\n    }\n    if (key instanceof Uint8Array) {\n        return key;\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(key, alg, 'deriveBits', 'deriveKey');\n        return crypto_1.KeyObject.from(key).export();\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n}\nconst encrypt = async (alg, key, cek, p2c = 2048, p2s = (0, random_js_1.default)(new Uint8Array(16))) => {\n    (0, check_p2s_js_1.default)(p2s);\n    const salt = (0, buffer_utils_js_1.p2s)(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10) >> 3;\n    const password = getPassword(key, alg);\n    const derivedKey = await pbkdf2(password, salt, p2c, keylen, `sha${alg.slice(8, 11)}`);\n    const encryptedKey = await (0, aeskw_js_1.wrap)(alg.slice(-6), derivedKey, cek);\n    return { encryptedKey, p2c, p2s: (0, base64url_js_1.encode)(p2s) };\n};\nexports.encrypt = encrypt;\nconst decrypt = async (alg, key, encryptedKey, p2c, p2s) => {\n    (0, check_p2s_js_1.default)(p2s);\n    const salt = (0, buffer_utils_js_1.p2s)(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10) >> 3;\n    const password = getPassword(key, alg);\n    const derivedKey = await pbkdf2(password, salt, p2c, keylen, `sha${alg.slice(8, 11)}`);\n    return (0, aeskw_js_1.unwrap)(alg.slice(-6), derivedKey, encryptedKey);\n};\nexports.decrypt = decrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setModulusLength = exports.weakMap = void 0;\nexports.weakMap = new WeakMap();\nconst getLength = (buf, index) => {\n    let len = buf.readUInt8(1);\n    if ((len & 0x80) === 0) {\n        if (index === 0) {\n            return len;\n        }\n        return getLength(buf.subarray(2 + len), index - 1);\n    }\n    const num = len & 0x7f;\n    len = 0;\n    for (let i = 0; i < num; i++) {\n        len <<= 8;\n        const j = buf.readUInt8(2 + i);\n        len |= j;\n    }\n    if (index === 0) {\n        return len;\n    }\n    return getLength(buf.subarray(2 + len), index - 1);\n};\nconst getLengthOfSeqIndex = (sequence, index) => {\n    const len = sequence.readUInt8(1);\n    if ((len & 0x80) === 0) {\n        return getLength(sequence.subarray(2), index);\n    }\n    const num = len & 0x7f;\n    return getLength(sequence.subarray(2 + num), index);\n};\nconst getModulusLength = (key) => {\n    var _a, _b;\n    if (exports.weakMap.has(key)) {\n        return exports.weakMap.get(key);\n    }\n    const modulusLength = (_b = (_a = key.asymmetricKeyDetails) === null || _a === void 0 ? void 0 : _a.modulusLength) !== null && _b !== void 0 ? _b : (getLengthOfSeqIndex(key.export({ format: 'der', type: 'pkcs1' }), key.type === 'private' ? 1 : 0) -\n        1) <<\n        3;\n    exports.weakMap.set(key, modulusLength);\n    return modulusLength;\n};\nconst setModulusLength = (keyObject, modulusLength) => {\n    exports.weakMap.set(keyObject, modulusLength);\n};\nexports.setModulusLength = setModulusLength;\nexports.default = (key, alg) => {\n    if (getModulusLength(key) < 2048) {\n        throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst crypto_1 = require(\"crypto\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst checkKey = (key, alg) => {\n    if (key.asymmetricKeyType !== 'rsa') {\n        throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa');\n    }\n    (0, check_modulus_length_js_1.default)(key, alg);\n};\nconst resolvePadding = (alg) => {\n    switch (alg) {\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            return crypto_1.constants.RSA_PKCS1_OAEP_PADDING;\n        case 'RSA1_5':\n            return crypto_1.constants.RSA_PKCS1_PADDING;\n        default:\n            return undefined;\n    }\n};\nconst resolveOaepHash = (alg) => {\n    switch (alg) {\n        case 'RSA-OAEP':\n            return 'sha1';\n        case 'RSA-OAEP-256':\n            return 'sha256';\n        case 'RSA-OAEP-384':\n            return 'sha384';\n        case 'RSA-OAEP-512':\n            return 'sha512';\n        default:\n            return undefined;\n    }\n};\nfunction ensureKeyObject(key, alg, ...usages) {\n    if ((0, is_key_object_js_1.default)(key)) {\n        return key;\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(key, alg, ...usages);\n        return crypto_1.KeyObject.from(key);\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types));\n}\nconst encrypt = (alg, key, cek) => {\n    const padding = resolvePadding(alg);\n    const oaepHash = resolveOaepHash(alg);\n    const keyObject = ensureKeyObject(key, alg, 'wrapKey', 'encrypt');\n    checkKey(keyObject, alg);\n    return (0, crypto_1.publicEncrypt)({ key: keyObject, oaepHash, padding }, cek);\n};\nexports.encrypt = encrypt;\nconst decrypt = (alg, key, encryptedKey) => {\n    const padding = resolvePadding(alg);\n    const oaepHash = resolveOaepHash(alg);\n    const keyObject = ensureKeyObject(key, alg, 'unwrapKey', 'decrypt');\n    checkKey(keyObject, alg);\n    return (0, crypto_1.privateDecrypt)({ key: keyObject, oaepHash, padding }, encryptedKey);\n};\nexports.decrypt = decrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bitLength = void 0;\nconst errors_js_1 = require(\"../util/errors.js\");\nconst random_js_1 = require(\"../runtime/random.js\");\nfunction bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n            return 128;\n        case 'A192GCM':\n            return 192;\n        case 'A256GCM':\n        case 'A128CBC-HS256':\n            return 256;\n        case 'A192CBC-HS384':\n            return 384;\n        case 'A256CBC-HS512':\n            return 512;\n        default:\n            throw new errors_js_1.JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexports.bitLength = bitLength;\nexports.default = (alg) => (0, random_js_1.default)(new Uint8Array(bitLength(alg) >> 3));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromX509 = exports.fromSPKI = exports.fromPKCS8 = exports.toPKCS8 = exports.toSPKI = void 0;\nconst crypto_1 = require(\"crypto\");\nconst buffer_1 = require(\"buffer\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst genericExport = (keyType, keyFormat, key) => {\n    let keyObject;\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        if (!key.extractable) {\n            throw new TypeError('CryptoKey is not extractable');\n        }\n        keyObject = crypto_1.KeyObject.from(key);\n    }\n    else if ((0, is_key_object_js_1.default)(key)) {\n        keyObject = key;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types));\n    }\n    if (keyObject.type !== keyType) {\n        throw new TypeError(`key is not a ${keyType} key`);\n    }\n    return keyObject.export({ format: 'pem', type: keyFormat });\n};\nconst toSPKI = (key) => {\n    return genericExport('public', 'spki', key);\n};\nexports.toSPKI = toSPKI;\nconst toPKCS8 = (key) => {\n    return genericExport('private', 'pkcs8', key);\n};\nexports.toPKCS8 = toPKCS8;\nconst fromPKCS8 = (pem) => (0, crypto_1.createPrivateKey)({\n    key: buffer_1.Buffer.from(pem.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g, ''), 'base64'),\n    type: 'pkcs8',\n    format: 'der',\n});\nexports.fromPKCS8 = fromPKCS8;\nconst fromSPKI = (pem) => (0, crypto_1.createPublicKey)({\n    key: buffer_1.Buffer.from(pem.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\\s)/g, ''), 'base64'),\n    type: 'spki',\n    format: 'der',\n});\nexports.fromSPKI = fromSPKI;\nconst fromX509 = (pem) => (0, crypto_1.createPublicKey)({\n    key: pem,\n    type: 'spki',\n    format: 'pem',\n});\nexports.fromX509 = fromX509;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst tagInteger = 0x02;\nconst tagBitStr = 0x03;\nconst tagOctStr = 0x04;\nconst tagSequence = 0x30;\nconst bZero = buffer_1.Buffer.from([0x00]);\nconst bTagInteger = buffer_1.Buffer.from([tagInteger]);\nconst bTagBitStr = buffer_1.Buffer.from([tagBitStr]);\nconst bTagSequence = buffer_1.Buffer.from([tagSequence]);\nconst bTagOctStr = buffer_1.Buffer.from([tagOctStr]);\nconst encodeLength = (len) => {\n    if (len < 128)\n        return buffer_1.Buffer.from([len]);\n    const buffer = buffer_1.Buffer.alloc(5);\n    buffer.writeUInt32BE(len, 1);\n    let offset = 1;\n    while (buffer[offset] === 0)\n        offset++;\n    buffer[offset - 1] = 0x80 | (5 - offset);\n    return buffer.slice(offset - 1);\n};\nconst oids = new Map([\n    ['P-256', buffer_1.Buffer.from('06 08 2A 86 48 CE 3D 03 01 07'.replace(/ /g, ''), 'hex')],\n    ['secp256k1', buffer_1.Buffer.from('06 05 2B 81 04 00 0A'.replace(/ /g, ''), 'hex')],\n    ['P-384', buffer_1.Buffer.from('06 05 2B 81 04 00 22'.replace(/ /g, ''), 'hex')],\n    ['P-521', buffer_1.Buffer.from('06 05 2B 81 04 00 23'.replace(/ /g, ''), 'hex')],\n    ['ecPublicKey', buffer_1.Buffer.from('06 07 2A 86 48 CE 3D 02 01'.replace(/ /g, ''), 'hex')],\n    ['X25519', buffer_1.Buffer.from('06 03 2B 65 6E'.replace(/ /g, ''), 'hex')],\n    ['X448', buffer_1.Buffer.from('06 03 2B 65 6F'.replace(/ /g, ''), 'hex')],\n    ['Ed25519', buffer_1.Buffer.from('06 03 2B 65 70'.replace(/ /g, ''), 'hex')],\n    ['Ed448', buffer_1.Buffer.from('06 03 2B 65 71'.replace(/ /g, ''), 'hex')],\n]);\nclass DumbAsn1Encoder {\n    constructor() {\n        this.length = 0;\n        this.elements = [];\n    }\n    oidFor(oid) {\n        const bOid = oids.get(oid);\n        if (!bOid) {\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported OID');\n        }\n        this.elements.push(bOid);\n        this.length += bOid.length;\n    }\n    zero() {\n        this.elements.push(bTagInteger, buffer_1.Buffer.from([0x01]), bZero);\n        this.length += 3;\n    }\n    one() {\n        this.elements.push(bTagInteger, buffer_1.Buffer.from([0x01]), buffer_1.Buffer.from([0x01]));\n        this.length += 3;\n    }\n    unsignedInteger(integer) {\n        if (integer[0] & 0x80) {\n            const len = encodeLength(integer.length + 1);\n            this.elements.push(bTagInteger, len, bZero, integer);\n            this.length += 2 + len.length + integer.length;\n        }\n        else {\n            let i = 0;\n            while (integer[i] === 0 && (integer[i + 1] & 0x80) === 0)\n                i++;\n            const len = encodeLength(integer.length - i);\n            this.elements.push(bTagInteger, encodeLength(integer.length - i), integer.slice(i));\n            this.length += 1 + len.length + integer.length - i;\n        }\n    }\n    octStr(octStr) {\n        const len = encodeLength(octStr.length);\n        this.elements.push(bTagOctStr, encodeLength(octStr.length), octStr);\n        this.length += 1 + len.length + octStr.length;\n    }\n    bitStr(bitS) {\n        const len = encodeLength(bitS.length + 1);\n        this.elements.push(bTagBitStr, encodeLength(bitS.length + 1), bZero, bitS);\n        this.length += 1 + len.length + bitS.length + 1;\n    }\n    add(seq) {\n        this.elements.push(seq);\n        this.length += seq.length;\n    }\n    end(tag = bTagSequence) {\n        const len = encodeLength(this.length);\n        return buffer_1.Buffer.concat([tag, len, ...this.elements], 1 + len.length + this.length);\n    }\n}\nexports.default = DumbAsn1Encoder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jwkImport = exports.jwkExport = exports.rsaPssParams = exports.oneShotCallback = void 0;\nconst [major, minor] = process.versions.node.split('.').map((str) => parseInt(str, 10));\nexports.oneShotCallback = major >= 16 || (major === 15 && minor >= 13);\nexports.rsaPssParams = !('electron' in process.versions) && (major >= 17 || (major === 16 && minor >= 9));\nexports.jwkExport = major >= 16 || (major === 15 && minor >= 9);\nexports.jwkImport = major >= 16 || (major === 15 && minor >= 12);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst crypto_1 = require(\"crypto\");\nconst base64url_js_1 = require(\"./base64url.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst asn1_sequence_encoder_js_1 = require(\"./asn1_sequence_encoder.js\");\nconst flags_js_1 = require(\"./flags.js\");\nconst parse = (jwk) => {\n    if (flags_js_1.jwkImport && jwk.kty !== 'oct') {\n        return jwk.d\n            ? (0, crypto_1.createPrivateKey)({ format: 'jwk', key: jwk })\n            : (0, crypto_1.createPublicKey)({ format: 'jwk', key: jwk });\n    }\n    switch (jwk.kty) {\n        case 'oct': {\n            return (0, crypto_1.createSecretKey)((0, base64url_js_1.decode)(jwk.k));\n        }\n        case 'RSA': {\n            const enc = new asn1_sequence_encoder_js_1.default();\n            const isPrivate = jwk.d !== undefined;\n            const modulus = buffer_1.Buffer.from(jwk.n, 'base64');\n            const exponent = buffer_1.Buffer.from(jwk.e, 'base64');\n            if (isPrivate) {\n                enc.zero();\n                enc.unsignedInteger(modulus);\n                enc.unsignedInteger(exponent);\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.d, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.p, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.q, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.dp, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.dq, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.qi, 'base64'));\n            }\n            else {\n                enc.unsignedInteger(modulus);\n                enc.unsignedInteger(exponent);\n            }\n            const der = enc.end();\n            const createInput = {\n                key: der,\n                format: 'der',\n                type: 'pkcs1',\n            };\n            const keyObject = isPrivate ? (0, crypto_1.createPrivateKey)(createInput) : (0, crypto_1.createPublicKey)(createInput);\n            (0, check_modulus_length_js_1.setModulusLength)(keyObject, modulus.length << 3);\n            return keyObject;\n        }\n        case 'EC': {\n            const enc = new asn1_sequence_encoder_js_1.default();\n            const isPrivate = jwk.d !== undefined;\n            const pub = buffer_1.Buffer.concat([\n                buffer_1.Buffer.alloc(1, 4),\n                buffer_1.Buffer.from(jwk.x, 'base64'),\n                buffer_1.Buffer.from(jwk.y, 'base64'),\n            ]);\n            if (isPrivate) {\n                enc.zero();\n                const enc$1 = new asn1_sequence_encoder_js_1.default();\n                enc$1.oidFor('ecPublicKey');\n                enc$1.oidFor(jwk.crv);\n                enc.add(enc$1.end());\n                const enc$2 = new asn1_sequence_encoder_js_1.default();\n                enc$2.one();\n                enc$2.octStr(buffer_1.Buffer.from(jwk.d, 'base64'));\n                const enc$3 = new asn1_sequence_encoder_js_1.default();\n                enc$3.bitStr(pub);\n                const f2 = enc$3.end(buffer_1.Buffer.from([0xa1]));\n                enc$2.add(f2);\n                const f = enc$2.end();\n                const enc$4 = new asn1_sequence_encoder_js_1.default();\n                enc$4.add(f);\n                const f3 = enc$4.end(buffer_1.Buffer.from([0x04]));\n                enc.add(f3);\n                const der = enc.end();\n                const keyObject = (0, crypto_1.createPrivateKey)({ key: der, format: 'der', type: 'pkcs8' });\n                (0, get_named_curve_js_1.setCurve)(keyObject, jwk.crv);\n                return keyObject;\n            }\n            const enc$1 = new asn1_sequence_encoder_js_1.default();\n            enc$1.oidFor('ecPublicKey');\n            enc$1.oidFor(jwk.crv);\n            enc.add(enc$1.end());\n            enc.bitStr(pub);\n            const der = enc.end();\n            const keyObject = (0, crypto_1.createPublicKey)({ key: der, format: 'der', type: 'spki' });\n            (0, get_named_curve_js_1.setCurve)(keyObject, jwk.crv);\n            return keyObject;\n        }\n        case 'OKP': {\n            const enc = new asn1_sequence_encoder_js_1.default();\n            const isPrivate = jwk.d !== undefined;\n            if (isPrivate) {\n                enc.zero();\n                const enc$1 = new asn1_sequence_encoder_js_1.default();\n                enc$1.oidFor(jwk.crv);\n                enc.add(enc$1.end());\n                const enc$2 = new asn1_sequence_encoder_js_1.default();\n                enc$2.octStr(buffer_1.Buffer.from(jwk.d, 'base64'));\n                const f = enc$2.end(buffer_1.Buffer.from([0x04]));\n                enc.add(f);\n                const der = enc.end();\n                return (0, crypto_1.createPrivateKey)({ key: der, format: 'der', type: 'pkcs8' });\n            }\n            const enc$1 = new asn1_sequence_encoder_js_1.default();\n            enc$1.oidFor(jwk.crv);\n            enc.add(enc$1.end());\n            enc.bitStr(buffer_1.Buffer.from(jwk.x, 'base64'));\n            const der = enc.end();\n            return (0, crypto_1.createPublicKey)({ key: der, format: 'der', type: 'spki' });\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n};\nexports.default = parse;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.importJWK = exports.importPKCS8 = exports.importX509 = exports.importSPKI = void 0;\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst asn1_js_1 = require(\"../runtime/asn1.js\");\nconst jwk_to_key_js_1 = require(\"../runtime/jwk_to_key.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nasync function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return (0, asn1_js_1.fromSPKI)(spki, alg, options);\n}\nexports.importSPKI = importSPKI;\nasync function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return (0, asn1_js_1.fromX509)(x509, alg, options);\n}\nexports.importX509 = importX509;\nasync function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return (0, asn1_js_1.fromPKCS8)(pkcs8, alg, options);\n}\nexports.importPKCS8 = importPKCS8;\nasync function importJWK(jwk, alg, octAsKeyObject) {\n    var _a;\n    if (!(0, is_object_js_1.default)(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            octAsKeyObject !== null && octAsKeyObject !== void 0 ? octAsKeyObject : (octAsKeyObject = jwk.ext !== true);\n            if (octAsKeyObject) {\n                return (0, jwk_to_key_js_1.default)({ ...jwk, alg, ext: (_a = jwk.ext) !== null && _a !== void 0 ? _a : false });\n            }\n            return (0, base64url_js_1.decode)(jwk.k);\n        case 'RSA':\n            if (jwk.oth !== undefined) {\n                throw new errors_js_1.JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return (0, jwk_to_key_js_1.default)({ ...jwk, alg });\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\nexports.importJWK = importJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst invalid_key_input_js_1 = require(\"./invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"../runtime/is_key_like.js\");\nconst symmetricTypeCheck = (alg, key) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (!(0, is_key_like_js_1.default)(key)) {\n        throw new TypeError((0, invalid_key_input_js_1.withAlg)(alg, key, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage) => {\n    if (!(0, is_key_like_js_1.default)(key)) {\n        throw new TypeError((0, invalid_key_input_js_1.withAlg)(alg, key, ...is_key_like_js_1.types));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nconst checkKeyType = (alg, key, usage) => {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage);\n    }\n};\nexports.default = checkKeyType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst check_iv_length_js_1 = require(\"../lib/check_iv_length.js\");\nconst check_cek_length_js_1 = require(\"./check_cek_length.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst cbc_tag_js_1 = require(\"./cbc_tag.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst ciphers_js_1 = require(\"./ciphers.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction cbcEncrypt(enc, plaintext, cek, iv, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    if ((0, is_key_object_js_1.default)(cek)) {\n        cek = cek.export();\n    }\n    const encKey = cek.subarray(keySize >> 3);\n    const macKey = cek.subarray(0, keySize >> 3);\n    const algorithm = `aes-${keySize}-cbc`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    const cipher = (0, crypto_1.createCipheriv)(algorithm, encKey, iv);\n    const ciphertext = (0, buffer_utils_js_1.concat)(cipher.update(plaintext), cipher.final());\n    const macSize = parseInt(enc.slice(-3), 10);\n    const tag = (0, cbc_tag_js_1.default)(aad, iv, ciphertext, macSize, macKey, keySize);\n    return { ciphertext, tag };\n}\nfunction gcmEncrypt(enc, plaintext, cek, iv, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const algorithm = `aes-${keySize}-gcm`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    const cipher = (0, crypto_1.createCipheriv)(algorithm, cek, iv, { authTagLength: 16 });\n    if (aad.byteLength) {\n        cipher.setAAD(aad, { plaintextLength: plaintext.length });\n    }\n    const ciphertext = cipher.update(plaintext);\n    cipher.final();\n    const tag = cipher.getAuthTag();\n    return { ciphertext, tag };\n}\nconst encrypt = (enc, plaintext, cek, iv, aad) => {\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(cek)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(cek, enc, 'encrypt');\n        key = crypto_1.KeyObject.from(cek);\n    }\n    else if (cek instanceof Uint8Array || (0, is_key_object_js_1.default)(cek)) {\n        key = cek;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(cek, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    (0, check_cek_length_js_1.default)(enc, key);\n    (0, check_iv_length_js_1.default)(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return cbcEncrypt(enc, plaintext, key, iv, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            return gcmEncrypt(enc, plaintext, key, iv, aad);\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexports.default = encrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unwrap = exports.wrap = void 0;\nconst encrypt_js_1 = require(\"../runtime/encrypt.js\");\nconst decrypt_js_1 = require(\"../runtime/decrypt.js\");\nconst iv_js_1 = require(\"./iv.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nasync function wrap(alg, key, cek, iv) {\n    const jweAlgorithm = alg.slice(0, 7);\n    iv || (iv = (0, iv_js_1.default)(jweAlgorithm));\n    const { ciphertext: encryptedKey, tag } = await (0, encrypt_js_1.default)(jweAlgorithm, cek, key, iv, new Uint8Array(0));\n    return { encryptedKey, iv: (0, base64url_js_1.encode)(iv), tag: (0, base64url_js_1.encode)(tag) };\n}\nexports.wrap = wrap;\nasync function unwrap(alg, key, encryptedKey, iv, tag) {\n    const jweAlgorithm = alg.slice(0, 7);\n    return (0, decrypt_js_1.default)(jweAlgorithm, key, encryptedKey, iv, tag, new Uint8Array(0));\n}\nexports.unwrap = unwrap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst aeskw_js_1 = require(\"../runtime/aeskw.js\");\nconst ECDH = require(\"../runtime/ecdhes.js\");\nconst pbes2kw_js_1 = require(\"../runtime/pbes2kw.js\");\nconst rsaes_js_1 = require(\"../runtime/rsaes.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst cek_js_1 = require(\"../lib/cek.js\");\nconst import_js_1 = require(\"../key/import.js\");\nconst check_key_type_js_1 = require(\"./check_key_type.js\");\nconst is_object_js_1 = require(\"./is_object.js\");\nconst aesgcmkw_js_1 = require(\"./aesgcmkw.js\");\nasync function decryptKeyManagement(alg, key, encryptedKey, joseHeader, options) {\n    (0, check_key_type_js_1.default)(alg, key, 'decrypt');\n    switch (alg) {\n        case 'dir': {\n            if (encryptedKey !== undefined)\n                throw new errors_js_1.JWEInvalid('Encountered unexpected JWE Encrypted Key');\n            return key;\n        }\n        case 'ECDH-ES':\n            if (encryptedKey !== undefined)\n                throw new errors_js_1.JWEInvalid('Encountered unexpected JWE Encrypted Key');\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!(0, is_object_js_1.default)(joseHeader.epk))\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"epk\" (Ephemeral Public Key) missing or invalid`);\n            if (!ECDH.ecdhAllowed(key))\n                throw new errors_js_1.JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            const epk = await (0, import_js_1.importJWK)(joseHeader.epk, alg);\n            let partyUInfo;\n            let partyVInfo;\n            if (joseHeader.apu !== undefined) {\n                if (typeof joseHeader.apu !== 'string')\n                    throw new errors_js_1.JWEInvalid(`JOSE Header \"apu\" (Agreement PartyUInfo) invalid`);\n                try {\n                    partyUInfo = (0, base64url_js_1.decode)(joseHeader.apu);\n                }\n                catch {\n                    throw new errors_js_1.JWEInvalid('Failed to base64url decode the apu');\n                }\n            }\n            if (joseHeader.apv !== undefined) {\n                if (typeof joseHeader.apv !== 'string')\n                    throw new errors_js_1.JWEInvalid(`JOSE Header \"apv\" (Agreement PartyVInfo) invalid`);\n                try {\n                    partyVInfo = (0, base64url_js_1.decode)(joseHeader.apv);\n                }\n                catch {\n                    throw new errors_js_1.JWEInvalid('Failed to base64url decode the apv');\n                }\n            }\n            const sharedSecret = await ECDH.deriveKey(epk, key, alg === 'ECDH-ES' ? joseHeader.enc : alg, alg === 'ECDH-ES' ? (0, cek_js_1.bitLength)(joseHeader.enc) : parseInt(alg.slice(-5, -2), 10), partyUInfo, partyVInfo);\n            if (alg === 'ECDH-ES')\n                return sharedSecret;\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            return (0, aeskw_js_1.unwrap)(alg.slice(-6), sharedSecret, encryptedKey);\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            return (0, rsaes_js_1.decrypt)(alg, key, encryptedKey);\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.p2c !== 'number')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) missing or invalid`);\n            const p2cLimit = (options === null || options === void 0 ? void 0 : options.maxPBES2Count) || 10000;\n            if (joseHeader.p2c > p2cLimit)\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) out is of acceptable bounds`);\n            if (typeof joseHeader.p2s !== 'string')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"p2s\" (PBES2 Salt) missing or invalid`);\n            let p2s;\n            try {\n                p2s = (0, base64url_js_1.decode)(joseHeader.p2s);\n            }\n            catch {\n                throw new errors_js_1.JWEInvalid('Failed to base64url decode the p2s');\n            }\n            return (0, pbes2kw_js_1.decrypt)(alg, key, encryptedKey, joseHeader.p2c, p2s);\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            return (0, aeskw_js_1.unwrap)(alg, key, encryptedKey);\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.iv !== 'string')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"iv\" (Initialization Vector) missing or invalid`);\n            if (typeof joseHeader.tag !== 'string')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"tag\" (Authentication Tag) missing or invalid`);\n            let iv;\n            try {\n                iv = (0, base64url_js_1.decode)(joseHeader.iv);\n            }\n            catch {\n                throw new errors_js_1.JWEInvalid('Failed to base64url decode the iv');\n            }\n            let tag;\n            try {\n                tag = (0, base64url_js_1.decode)(joseHeader.tag);\n            }\n            catch {\n                throw new errors_js_1.JWEInvalid('Failed to base64url decode the tag');\n            }\n            return (0, aesgcmkw_js_1.unwrap)(alg, key, encryptedKey, iv, tag);\n        }\n        default: {\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n}\nexports.default = decryptKeyManagement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new errors_js_1.JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        else if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexports.default = validateCrit;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validateAlgorithms = (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\nexports.default = validateAlgorithms;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.flattenedDecrypt = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst decrypt_js_1 = require(\"../../runtime/decrypt.js\");\nconst zlib_js_1 = require(\"../../runtime/zlib.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nconst decrypt_key_management_js_1 = require(\"../../lib/decrypt_key_management.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst cek_js_1 = require(\"../../lib/cek.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nconst validate_algorithms_js_1 = require(\"../../lib/validate_algorithms.js\");\nasync function flattenedDecrypt(jwe, key, options) {\n    var _a;\n    if (!(0, is_object_js_1.default)(jwe)) {\n        throw new errors_js_1.JWEInvalid('Flattened JWE must be an object');\n    }\n    if (jwe.protected === undefined && jwe.header === undefined && jwe.unprotected === undefined) {\n        throw new errors_js_1.JWEInvalid('JOSE Header missing');\n    }\n    if (typeof jwe.iv !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Initialization Vector missing or incorrect type');\n    }\n    if (typeof jwe.ciphertext !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Ciphertext missing or incorrect type');\n    }\n    if (typeof jwe.tag !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Authentication Tag missing or incorrect type');\n    }\n    if (jwe.protected !== undefined && typeof jwe.protected !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Protected Header incorrect type');\n    }\n    if (jwe.encrypted_key !== undefined && typeof jwe.encrypted_key !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Encrypted Key incorrect type');\n    }\n    if (jwe.aad !== undefined && typeof jwe.aad !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE AAD incorrect type');\n    }\n    if (jwe.header !== undefined && !(0, is_object_js_1.default)(jwe.header)) {\n        throw new errors_js_1.JWEInvalid('JWE Shared Unprotected Header incorrect type');\n    }\n    if (jwe.unprotected !== undefined && !(0, is_object_js_1.default)(jwe.unprotected)) {\n        throw new errors_js_1.JWEInvalid('JWE Per-Recipient Unprotected Header incorrect type');\n    }\n    let parsedProt;\n    if (jwe.protected) {\n        try {\n            const protectedHeader = (0, base64url_js_1.decode)(jwe.protected);\n            parsedProt = JSON.parse(buffer_utils_js_1.decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new errors_js_1.JWEInvalid('JWE Protected Header is invalid');\n        }\n    }\n    if (!(0, is_disjoint_js_1.default)(parsedProt, jwe.header, jwe.unprotected)) {\n        throw new errors_js_1.JWEInvalid('JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jwe.header,\n        ...jwe.unprotected,\n    };\n    (0, validate_crit_js_1.default)(errors_js_1.JWEInvalid, new Map(), options === null || options === void 0 ? void 0 : options.crit, parsedProt, joseHeader);\n    if (joseHeader.zip !== undefined) {\n        if (!parsedProt || !parsedProt.zip) {\n            throw new errors_js_1.JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n        }\n        if (joseHeader.zip !== 'DEF') {\n            throw new errors_js_1.JOSENotSupported('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n        }\n    }\n    const { alg, enc } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new errors_js_1.JWEInvalid('missing JWE Algorithm (alg) in JWE Header');\n    }\n    if (typeof enc !== 'string' || !enc) {\n        throw new errors_js_1.JWEInvalid('missing JWE Encryption Algorithm (enc) in JWE Header');\n    }\n    const keyManagementAlgorithms = options && (0, validate_algorithms_js_1.default)('keyManagementAlgorithms', options.keyManagementAlgorithms);\n    const contentEncryptionAlgorithms = options &&\n        (0, validate_algorithms_js_1.default)('contentEncryptionAlgorithms', options.contentEncryptionAlgorithms);\n    if (keyManagementAlgorithms && !keyManagementAlgorithms.has(alg)) {\n        throw new errors_js_1.JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter not allowed');\n    }\n    if (contentEncryptionAlgorithms && !contentEncryptionAlgorithms.has(enc)) {\n        throw new errors_js_1.JOSEAlgNotAllowed('\"enc\" (Encryption Algorithm) Header Parameter not allowed');\n    }\n    let encryptedKey;\n    if (jwe.encrypted_key !== undefined) {\n        try {\n            encryptedKey = (0, base64url_js_1.decode)(jwe.encrypted_key);\n        }\n        catch {\n            throw new errors_js_1.JWEInvalid('Failed to base64url decode the encrypted_key');\n        }\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jwe);\n        resolvedKey = true;\n    }\n    let cek;\n    try {\n        cek = await (0, decrypt_key_management_js_1.default)(alg, key, encryptedKey, joseHeader, options);\n    }\n    catch (err) {\n        if (err instanceof TypeError || err instanceof errors_js_1.JWEInvalid || err instanceof errors_js_1.JOSENotSupported) {\n            throw err;\n        }\n        cek = (0, cek_js_1.default)(enc);\n    }\n    let iv;\n    let tag;\n    try {\n        iv = (0, base64url_js_1.decode)(jwe.iv);\n    }\n    catch {\n        throw new errors_js_1.JWEInvalid('Failed to base64url decode the iv');\n    }\n    try {\n        tag = (0, base64url_js_1.decode)(jwe.tag);\n    }\n    catch {\n        throw new errors_js_1.JWEInvalid('Failed to base64url decode the tag');\n    }\n    const protectedHeader = buffer_utils_js_1.encoder.encode((_a = jwe.protected) !== null && _a !== void 0 ? _a : '');\n    let additionalData;\n    if (jwe.aad !== undefined) {\n        additionalData = (0, buffer_utils_js_1.concat)(protectedHeader, buffer_utils_js_1.encoder.encode('.'), buffer_utils_js_1.encoder.encode(jwe.aad));\n    }\n    else {\n        additionalData = protectedHeader;\n    }\n    let ciphertext;\n    try {\n        ciphertext = (0, base64url_js_1.decode)(jwe.ciphertext);\n    }\n    catch {\n        throw new errors_js_1.JWEInvalid('Failed to base64url decode the ciphertext');\n    }\n    let plaintext = await (0, decrypt_js_1.default)(enc, cek, ciphertext, iv, tag, additionalData);\n    if (joseHeader.zip === 'DEF') {\n        plaintext = await ((options === null || options === void 0 ? void 0 : options.inflateRaw) || zlib_js_1.inflate)(plaintext);\n    }\n    const result = { plaintext };\n    if (jwe.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jwe.aad !== undefined) {\n        try {\n            result.additionalAuthenticatedData = (0, base64url_js_1.decode)(jwe.aad);\n        }\n        catch {\n            throw new errors_js_1.JWEInvalid('Failed to base64url decode the aad');\n        }\n    }\n    if (jwe.unprotected !== undefined) {\n        result.sharedUnprotectedHeader = jwe.unprotected;\n    }\n    if (jwe.header !== undefined) {\n        result.unprotectedHeader = jwe.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\nexports.flattenedDecrypt = flattenedDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compactDecrypt = void 0;\nconst decrypt_js_1 = require(\"../flattened/decrypt.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nasync function compactDecrypt(jwe, key, options) {\n    if (jwe instanceof Uint8Array) {\n        jwe = buffer_utils_js_1.decoder.decode(jwe);\n    }\n    if (typeof jwe !== 'string') {\n        throw new errors_js_1.JWEInvalid('Compact JWE must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: encryptedKey, 2: iv, 3: ciphertext, 4: tag, length, } = jwe.split('.');\n    if (length !== 5) {\n        throw new errors_js_1.JWEInvalid('Invalid Compact JWE');\n    }\n    const decrypted = await (0, decrypt_js_1.flattenedDecrypt)({\n        ciphertext,\n        iv: (iv || undefined),\n        protected: protectedHeader || undefined,\n        tag: (tag || undefined),\n        encrypted_key: encryptedKey || undefined,\n    }, key, options);\n    const result = { plaintext: decrypted.plaintext, protectedHeader: decrypted.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\nexports.compactDecrypt = compactDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generalDecrypt = void 0;\nconst decrypt_js_1 = require(\"../flattened/decrypt.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nasync function generalDecrypt(jwe, key, options) {\n    if (!(0, is_object_js_1.default)(jwe)) {\n        throw new errors_js_1.JWEInvalid('General JWE must be an object');\n    }\n    if (!Array.isArray(jwe.recipients) || !jwe.recipients.every(is_object_js_1.default)) {\n        throw new errors_js_1.JWEInvalid('JWE Recipients missing or incorrect type');\n    }\n    if (!jwe.recipients.length) {\n        throw new errors_js_1.JWEInvalid('JWE Recipients has no members');\n    }\n    for (const recipient of jwe.recipients) {\n        try {\n            return await (0, decrypt_js_1.flattenedDecrypt)({\n                aad: jwe.aad,\n                ciphertext: jwe.ciphertext,\n                encrypted_key: recipient.encrypted_key,\n                header: recipient.header,\n                iv: jwe.iv,\n                protected: jwe.protected,\n                tag: jwe.tag,\n                unprotected: jwe.unprotected,\n            }, key, options);\n        }\n        catch {\n        }\n    }\n    throw new errors_js_1.JWEDecryptionFailed();\n}\nexports.generalDecrypt = generalDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tagInteger = 0x02;\nconst tagSequence = 0x30;\nclass Asn1SequenceDecoder {\n    constructor(buffer) {\n        if (buffer[0] !== tagSequence) {\n            throw new TypeError();\n        }\n        this.buffer = buffer;\n        this.offset = 1;\n        const len = this.decodeLength();\n        if (len !== buffer.length - this.offset) {\n            throw new TypeError();\n        }\n    }\n    decodeLength() {\n        let length = this.buffer[this.offset++];\n        if (length & 0x80) {\n            const nBytes = length & ~0x80;\n            length = 0;\n            for (let i = 0; i < nBytes; i++)\n                length = (length << 8) | this.buffer[this.offset + i];\n            this.offset += nBytes;\n        }\n        return length;\n    }\n    unsignedInteger() {\n        if (this.buffer[this.offset++] !== tagInteger) {\n            throw new TypeError();\n        }\n        let length = this.decodeLength();\n        if (this.buffer[this.offset] === 0) {\n            this.offset++;\n            length--;\n        }\n        const result = this.buffer.slice(this.offset, this.offset + length);\n        this.offset += length;\n        return result;\n    }\n    end() {\n        if (this.offset !== this.buffer.length) {\n            throw new TypeError();\n        }\n    }\n}\nexports.default = Asn1SequenceDecoder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst base64url_js_1 = require(\"./base64url.js\");\nconst asn1_sequence_decoder_js_1 = require(\"./asn1_sequence_decoder.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst flags_js_1 = require(\"./flags.js\");\nconst keyToJWK = (key) => {\n    let keyObject;\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        if (!key.extractable) {\n            throw new TypeError('CryptoKey is not extractable');\n        }\n        keyObject = crypto_1.KeyObject.from(key);\n    }\n    else if ((0, is_key_object_js_1.default)(key)) {\n        keyObject = key;\n    }\n    else if (key instanceof Uint8Array) {\n        return {\n            kty: 'oct',\n            k: (0, base64url_js_1.encode)(key),\n        };\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    if (flags_js_1.jwkExport) {\n        if (keyObject.type !== 'secret' &&\n            !['rsa', 'ec', 'ed25519', 'x25519', 'ed448', 'x448'].includes(keyObject.asymmetricKeyType)) {\n            throw new errors_js_1.JOSENotSupported('Unsupported key asymmetricKeyType');\n        }\n        return keyObject.export({ format: 'jwk' });\n    }\n    switch (keyObject.type) {\n        case 'secret':\n            return {\n                kty: 'oct',\n                k: (0, base64url_js_1.encode)(keyObject.export()),\n            };\n        case 'private':\n        case 'public': {\n            switch (keyObject.asymmetricKeyType) {\n                case 'rsa': {\n                    const der = keyObject.export({ format: 'der', type: 'pkcs1' });\n                    const dec = new asn1_sequence_decoder_js_1.default(der);\n                    if (keyObject.type === 'private') {\n                        dec.unsignedInteger();\n                    }\n                    const n = (0, base64url_js_1.encode)(dec.unsignedInteger());\n                    const e = (0, base64url_js_1.encode)(dec.unsignedInteger());\n                    let jwk;\n                    if (keyObject.type === 'private') {\n                        jwk = {\n                            d: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            p: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            q: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            dp: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            dq: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            qi: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                        };\n                    }\n                    dec.end();\n                    return { kty: 'RSA', n, e, ...jwk };\n                }\n                case 'ec': {\n                    const crv = (0, get_named_curve_js_1.default)(keyObject);\n                    let len;\n                    let offset;\n                    let correction;\n                    switch (crv) {\n                        case 'secp256k1':\n                            len = 64;\n                            offset = 31 + 2;\n                            correction = -1;\n                            break;\n                        case 'P-256':\n                            len = 64;\n                            offset = 34 + 2;\n                            correction = -1;\n                            break;\n                        case 'P-384':\n                            len = 96;\n                            offset = 33 + 2;\n                            correction = -3;\n                            break;\n                        case 'P-521':\n                            len = 132;\n                            offset = 33 + 2;\n                            correction = -3;\n                            break;\n                        default:\n                            throw new errors_js_1.JOSENotSupported('Unsupported curve');\n                    }\n                    if (keyObject.type === 'public') {\n                        const der = keyObject.export({ type: 'spki', format: 'der' });\n                        return {\n                            kty: 'EC',\n                            crv,\n                            x: (0, base64url_js_1.encode)(der.subarray(-len, -len / 2)),\n                            y: (0, base64url_js_1.encode)(der.subarray(-len / 2)),\n                        };\n                    }\n                    const der = keyObject.export({ type: 'pkcs8', format: 'der' });\n                    if (der.length < 100) {\n                        offset += correction;\n                    }\n                    return {\n                        ...keyToJWK((0, crypto_1.createPublicKey)(keyObject)),\n                        d: (0, base64url_js_1.encode)(der.subarray(offset, offset + len / 2)),\n                    };\n                }\n                case 'ed25519':\n                case 'x25519': {\n                    const crv = (0, get_named_curve_js_1.default)(keyObject);\n                    if (keyObject.type === 'public') {\n                        const der = keyObject.export({ type: 'spki', format: 'der' });\n                        return {\n                            kty: 'OKP',\n                            crv,\n                            x: (0, base64url_js_1.encode)(der.subarray(-32)),\n                        };\n                    }\n                    const der = keyObject.export({ type: 'pkcs8', format: 'der' });\n                    return {\n                        ...keyToJWK((0, crypto_1.createPublicKey)(keyObject)),\n                        d: (0, base64url_js_1.encode)(der.subarray(-32)),\n                    };\n                }\n                case 'ed448':\n                case 'x448': {\n                    const crv = (0, get_named_curve_js_1.default)(keyObject);\n                    if (keyObject.type === 'public') {\n                        const der = keyObject.export({ type: 'spki', format: 'der' });\n                        return {\n                            kty: 'OKP',\n                            crv,\n                            x: (0, base64url_js_1.encode)(der.subarray(crv === 'Ed448' ? -57 : -56)),\n                        };\n                    }\n                    const der = keyObject.export({ type: 'pkcs8', format: 'der' });\n                    return {\n                        ...keyToJWK((0, crypto_1.createPublicKey)(keyObject)),\n                        d: (0, base64url_js_1.encode)(der.subarray(crv === 'Ed448' ? -57 : -56)),\n                    };\n                }\n                default:\n                    throw new errors_js_1.JOSENotSupported('Unsupported key asymmetricKeyType');\n            }\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported key type');\n    }\n};\nexports.default = keyToJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.exportJWK = exports.exportPKCS8 = exports.exportSPKI = void 0;\nconst asn1_js_1 = require(\"../runtime/asn1.js\");\nconst asn1_js_2 = require(\"../runtime/asn1.js\");\nconst key_to_jwk_js_1 = require(\"../runtime/key_to_jwk.js\");\nasync function exportSPKI(key) {\n    return (0, asn1_js_1.toSPKI)(key);\n}\nexports.exportSPKI = exportSPKI;\nasync function exportPKCS8(key) {\n    return (0, asn1_js_2.toPKCS8)(key);\n}\nexports.exportPKCS8 = exportPKCS8;\nasync function exportJWK(key) {\n    return (0, key_to_jwk_js_1.default)(key);\n}\nexports.exportJWK = exportJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst aeskw_js_1 = require(\"../runtime/aeskw.js\");\nconst ECDH = require(\"../runtime/ecdhes.js\");\nconst pbes2kw_js_1 = require(\"../runtime/pbes2kw.js\");\nconst rsaes_js_1 = require(\"../runtime/rsaes.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst cek_js_1 = require(\"../lib/cek.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst export_js_1 = require(\"../key/export.js\");\nconst check_key_type_js_1 = require(\"./check_key_type.js\");\nconst aesgcmkw_js_1 = require(\"./aesgcmkw.js\");\nasync function encryptKeyManagement(alg, enc, key, providedCek, providedParameters = {}) {\n    let encryptedKey;\n    let parameters;\n    let cek;\n    (0, check_key_type_js_1.default)(alg, key, 'encrypt');\n    switch (alg) {\n        case 'dir': {\n            cek = key;\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!ECDH.ecdhAllowed(key)) {\n                throw new errors_js_1.JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            }\n            const { apu, apv } = providedParameters;\n            let { epk: ephemeralKey } = providedParameters;\n            ephemeralKey || (ephemeralKey = (await ECDH.generateEpk(key)).privateKey);\n            const { x, y, crv, kty } = await (0, export_js_1.exportJWK)(ephemeralKey);\n            const sharedSecret = await ECDH.deriveKey(key, ephemeralKey, alg === 'ECDH-ES' ? enc : alg, alg === 'ECDH-ES' ? (0, cek_js_1.bitLength)(enc) : parseInt(alg.slice(-5, -2), 10), apu, apv);\n            parameters = { epk: { x, crv, kty } };\n            if (kty === 'EC')\n                parameters.epk.y = y;\n            if (apu)\n                parameters.apu = (0, base64url_js_1.encode)(apu);\n            if (apv)\n                parameters.apv = (0, base64url_js_1.encode)(apv);\n            if (alg === 'ECDH-ES') {\n                cek = sharedSecret;\n                break;\n            }\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            const kwAlg = alg.slice(-6);\n            encryptedKey = await (0, aeskw_js_1.wrap)(kwAlg, sharedSecret, cek);\n            break;\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            encryptedKey = await (0, rsaes_js_1.encrypt)(alg, key, cek);\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            const { p2c, p2s } = providedParameters;\n            ({ encryptedKey, ...parameters } = await (0, pbes2kw_js_1.encrypt)(alg, key, cek, p2c, p2s));\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            encryptedKey = await (0, aeskw_js_1.wrap)(alg, key, cek);\n            break;\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            const { iv } = providedParameters;\n            ({ encryptedKey, ...parameters } = await (0, aesgcmkw_js_1.wrap)(alg, key, cek, iv));\n            break;\n        }\n        default: {\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n    return { cek, encryptedKey, parameters };\n}\nexports.default = encryptKeyManagement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlattenedEncrypt = exports.unprotected = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst encrypt_js_1 = require(\"../../runtime/encrypt.js\");\nconst zlib_js_1 = require(\"../../runtime/zlib.js\");\nconst iv_js_1 = require(\"../../lib/iv.js\");\nconst encrypt_key_management_js_1 = require(\"../../lib/encrypt_key_management.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nexports.unprotected = Symbol();\nclass FlattenedEncrypt {\n    constructor(plaintext) {\n        if (!(plaintext instanceof Uint8Array)) {\n            throw new TypeError('plaintext must be an instance of Uint8Array');\n        }\n        this._plaintext = plaintext;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._sharedUnprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._sharedUnprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    async encrypt(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader && !this._sharedUnprotectedHeader) {\n            throw new errors_js_1.JWEInvalid('either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()');\n        }\n        if (!(0, is_disjoint_js_1.default)(this._protectedHeader, this._unprotectedHeader, this._sharedUnprotectedHeader)) {\n            throw new errors_js_1.JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n            ...this._sharedUnprotectedHeader,\n        };\n        (0, validate_crit_js_1.default)(errors_js_1.JWEInvalid, new Map(), options === null || options === void 0 ? void 0 : options.crit, this._protectedHeader, joseHeader);\n        if (joseHeader.zip !== undefined) {\n            if (!this._protectedHeader || !this._protectedHeader.zip) {\n                throw new errors_js_1.JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n            }\n            if (joseHeader.zip !== 'DEF') {\n                throw new errors_js_1.JOSENotSupported('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n            }\n        }\n        const { alg, enc } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new errors_js_1.JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        if (typeof enc !== 'string' || !enc) {\n            throw new errors_js_1.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n        }\n        let encryptedKey;\n        if (alg === 'dir') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Encryption');\n            }\n        }\n        else if (alg === 'ECDH-ES') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Key Agreement');\n            }\n        }\n        let cek;\n        {\n            let parameters;\n            ({ cek, encryptedKey, parameters } = await (0, encrypt_key_management_js_1.default)(alg, enc, key, this._cek, this._keyManagementParameters));\n            if (parameters) {\n                if (options && exports.unprotected in options) {\n                    if (!this._unprotectedHeader) {\n                        this.setUnprotectedHeader(parameters);\n                    }\n                    else {\n                        this._unprotectedHeader = { ...this._unprotectedHeader, ...parameters };\n                    }\n                }\n                else {\n                    if (!this._protectedHeader) {\n                        this.setProtectedHeader(parameters);\n                    }\n                    else {\n                        this._protectedHeader = { ...this._protectedHeader, ...parameters };\n                    }\n                }\n            }\n        }\n        this._iv || (this._iv = (0, iv_js_1.default)(enc));\n        let additionalData;\n        let protectedHeader;\n        let aadMember;\n        if (this._protectedHeader) {\n            protectedHeader = buffer_utils_js_1.encoder.encode((0, base64url_js_1.encode)(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = buffer_utils_js_1.encoder.encode('');\n        }\n        if (this._aad) {\n            aadMember = (0, base64url_js_1.encode)(this._aad);\n            additionalData = (0, buffer_utils_js_1.concat)(protectedHeader, buffer_utils_js_1.encoder.encode('.'), buffer_utils_js_1.encoder.encode(aadMember));\n        }\n        else {\n            additionalData = protectedHeader;\n        }\n        let ciphertext;\n        let tag;\n        if (joseHeader.zip === 'DEF') {\n            const deflated = await ((options === null || options === void 0 ? void 0 : options.deflateRaw) || zlib_js_1.deflate)(this._plaintext);\n            ({ ciphertext, tag } = await (0, encrypt_js_1.default)(enc, deflated, cek, this._iv, additionalData));\n        }\n        else {\n            ;\n            ({ ciphertext, tag } = await (0, encrypt_js_1.default)(enc, this._plaintext, cek, this._iv, additionalData));\n        }\n        const jwe = {\n            ciphertext: (0, base64url_js_1.encode)(ciphertext),\n            iv: (0, base64url_js_1.encode)(this._iv),\n            tag: (0, base64url_js_1.encode)(tag),\n        };\n        if (encryptedKey) {\n            jwe.encrypted_key = (0, base64url_js_1.encode)(encryptedKey);\n        }\n        if (aadMember) {\n            jwe.aad = aadMember;\n        }\n        if (this._protectedHeader) {\n            jwe.protected = buffer_utils_js_1.decoder.decode(protectedHeader);\n        }\n        if (this._sharedUnprotectedHeader) {\n            jwe.unprotected = this._sharedUnprotectedHeader;\n        }\n        if (this._unprotectedHeader) {\n            jwe.header = this._unprotectedHeader;\n        }\n        return jwe;\n    }\n}\nexports.FlattenedEncrypt = FlattenedEncrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GeneralEncrypt = void 0;\nconst encrypt_js_1 = require(\"../flattened/encrypt.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst cek_js_1 = require(\"../../lib/cek.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst encrypt_key_management_js_1 = require(\"../../lib/encrypt_key_management.js\");\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nclass IndividualRecipient {\n    constructor(enc, key, options) {\n        this.parent = enc;\n        this.key = key;\n        this.options = options;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addRecipient(...args) {\n        return this.parent.addRecipient(...args);\n    }\n    encrypt(...args) {\n        return this.parent.encrypt(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nclass GeneralEncrypt {\n    constructor(plaintext) {\n        this._recipients = [];\n        this._plaintext = plaintext;\n    }\n    addRecipient(key, options) {\n        const recipient = new IndividualRecipient(this, key, { crit: options === null || options === void 0 ? void 0 : options.crit });\n        this._recipients.push(recipient);\n        return recipient;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    async encrypt(options) {\n        var _a, _b, _c;\n        if (!this._recipients.length) {\n            throw new errors_js_1.JWEInvalid('at least one recipient must be added');\n        }\n        options = { deflateRaw: options === null || options === void 0 ? void 0 : options.deflateRaw };\n        if (this._recipients.length === 1) {\n            const [recipient] = this._recipients;\n            const flattened = await new encrypt_js_1.FlattenedEncrypt(this._plaintext)\n                .setAdditionalAuthenticatedData(this._aad)\n                .setProtectedHeader(this._protectedHeader)\n                .setSharedUnprotectedHeader(this._unprotectedHeader)\n                .setUnprotectedHeader(recipient.unprotectedHeader)\n                .encrypt(recipient.key, { ...recipient.options, ...options });\n            let jwe = {\n                ciphertext: flattened.ciphertext,\n                iv: flattened.iv,\n                recipients: [{}],\n                tag: flattened.tag,\n            };\n            if (flattened.aad)\n                jwe.aad = flattened.aad;\n            if (flattened.protected)\n                jwe.protected = flattened.protected;\n            if (flattened.unprotected)\n                jwe.unprotected = flattened.unprotected;\n            if (flattened.encrypted_key)\n                jwe.recipients[0].encrypted_key = flattened.encrypted_key;\n            if (flattened.header)\n                jwe.recipients[0].header = flattened.header;\n            return jwe;\n        }\n        let enc;\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            if (!(0, is_disjoint_js_1.default)(this._protectedHeader, this._unprotectedHeader, recipient.unprotectedHeader)) {\n                throw new errors_js_1.JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n            }\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const { alg } = joseHeader;\n            if (typeof alg !== 'string' || !alg) {\n                throw new errors_js_1.JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n            }\n            if (alg === 'dir' || alg === 'ECDH-ES') {\n                throw new errors_js_1.JWEInvalid('\"dir\" and \"ECDH-ES\" alg may only be used with a single recipient');\n            }\n            if (typeof joseHeader.enc !== 'string' || !joseHeader.enc) {\n                throw new errors_js_1.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n            }\n            if (!enc) {\n                enc = joseHeader.enc;\n            }\n            else if (enc !== joseHeader.enc) {\n                throw new errors_js_1.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter must be the same for all recipients');\n            }\n            (0, validate_crit_js_1.default)(errors_js_1.JWEInvalid, new Map(), recipient.options.crit, this._protectedHeader, joseHeader);\n            if (joseHeader.zip !== undefined) {\n                if (!this._protectedHeader || !this._protectedHeader.zip) {\n                    throw new errors_js_1.JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n                }\n            }\n        }\n        const cek = (0, cek_js_1.default)(enc);\n        let jwe = {\n            ciphertext: '',\n            iv: '',\n            recipients: [],\n            tag: '',\n        };\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            const target = {};\n            jwe.recipients.push(target);\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const p2c = joseHeader.alg.startsWith('PBES2') ? 2048 + i : undefined;\n            if (i === 0) {\n                const flattened = await new encrypt_js_1.FlattenedEncrypt(this._plaintext)\n                    .setAdditionalAuthenticatedData(this._aad)\n                    .setContentEncryptionKey(cek)\n                    .setProtectedHeader(this._protectedHeader)\n                    .setSharedUnprotectedHeader(this._unprotectedHeader)\n                    .setUnprotectedHeader(recipient.unprotectedHeader)\n                    .setKeyManagementParameters({ p2c })\n                    .encrypt(recipient.key, {\n                    ...recipient.options,\n                    ...options,\n                    [encrypt_js_1.unprotected]: true,\n                });\n                jwe.ciphertext = flattened.ciphertext;\n                jwe.iv = flattened.iv;\n                jwe.tag = flattened.tag;\n                if (flattened.aad)\n                    jwe.aad = flattened.aad;\n                if (flattened.protected)\n                    jwe.protected = flattened.protected;\n                if (flattened.unprotected)\n                    jwe.unprotected = flattened.unprotected;\n                target.encrypted_key = flattened.encrypted_key;\n                if (flattened.header)\n                    target.header = flattened.header;\n                continue;\n            }\n            const { encryptedKey, parameters } = await (0, encrypt_key_management_js_1.default)(((_a = recipient.unprotectedHeader) === null || _a === void 0 ? void 0 : _a.alg) ||\n                ((_b = this._protectedHeader) === null || _b === void 0 ? void 0 : _b.alg) ||\n                ((_c = this._unprotectedHeader) === null || _c === void 0 ? void 0 : _c.alg), enc, recipient.key, cek, { p2c });\n            target.encrypted_key = (0, base64url_js_1.encode)(encryptedKey);\n            if (recipient.unprotectedHeader || parameters)\n                target.header = { ...recipient.unprotectedHeader, ...parameters };\n        }\n        return jwe;\n    }\n}\nexports.GeneralEncrypt = GeneralEncrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction dsaDigest(alg) {\n    switch (alg) {\n        case 'PS256':\n        case 'RS256':\n        case 'ES256':\n        case 'ES256K':\n            return 'sha256';\n        case 'PS384':\n        case 'RS384':\n        case 'ES384':\n            return 'sha384';\n        case 'PS512':\n        case 'RS512':\n        case 'ES512':\n            return 'sha512';\n        case 'EdDSA':\n            return undefined;\n        default:\n            throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\nexports.default = dsaDigest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst flags_js_1 = require(\"./flags.js\");\nconst PSS = {\n    padding: crypto_1.constants.RSA_PKCS1_PSS_PADDING,\n    saltLength: crypto_1.constants.RSA_PSS_SALTLEN_DIGEST,\n};\nconst ecCurveAlgMap = new Map([\n    ['ES256', 'P-256'],\n    ['ES256K', 'secp256k1'],\n    ['ES384', 'P-384'],\n    ['ES512', 'P-521'],\n]);\nfunction keyForCrypto(alg, key) {\n    switch (alg) {\n        case 'EdDSA':\n            if (!['ed25519', 'ed448'].includes(key.asymmetricKeyType)) {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448');\n            }\n            return key;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            if (key.asymmetricKeyType !== 'rsa') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa');\n            }\n            (0, check_modulus_length_js_1.default)(key, alg);\n            return key;\n        case flags_js_1.rsaPssParams && 'PS256':\n        case flags_js_1.rsaPssParams && 'PS384':\n        case flags_js_1.rsaPssParams && 'PS512':\n            if (key.asymmetricKeyType === 'rsa-pss') {\n                const { hashAlgorithm, mgf1HashAlgorithm, saltLength } = key.asymmetricKeyDetails;\n                const length = parseInt(alg.slice(-3), 10);\n                if (hashAlgorithm !== undefined &&\n                    (hashAlgorithm !== `sha${length}` || mgf1HashAlgorithm !== hashAlgorithm)) {\n                    throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of \"alg\" ${alg}`);\n                }\n                if (saltLength !== undefined && saltLength > length >> 3) {\n                    throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of \"alg\" ${alg}`);\n                }\n            }\n            else if (key.asymmetricKeyType !== 'rsa') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss');\n            }\n            (0, check_modulus_length_js_1.default)(key, alg);\n            return { key, ...PSS };\n        case !flags_js_1.rsaPssParams && 'PS256':\n        case !flags_js_1.rsaPssParams && 'PS384':\n        case !flags_js_1.rsaPssParams && 'PS512':\n            if (key.asymmetricKeyType !== 'rsa') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa');\n            }\n            (0, check_modulus_length_js_1.default)(key, alg);\n            return { key, ...PSS };\n        case 'ES256':\n        case 'ES256K':\n        case 'ES384':\n        case 'ES512': {\n            if (key.asymmetricKeyType !== 'ec') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be ec');\n            }\n            const actual = (0, get_named_curve_js_1.default)(key);\n            const expected = ecCurveAlgMap.get(alg);\n            if (actual !== expected) {\n                throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${expected}, got ${actual}`);\n            }\n            return { dsaEncoding: 'ieee-p1363', key };\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\nexports.default = keyForCrypto;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction hmacDigest(alg) {\n    switch (alg) {\n        case 'HS256':\n            return 'sha256';\n        case 'HS384':\n            return 'sha384';\n        case 'HS512':\n            return 'sha512';\n        default:\n            throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\nexports.default = hmacDigest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction getSignVerifyKey(alg, key, usage) {\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types));\n        }\n        return (0, crypto_1.createSecretKey)(key);\n    }\n    if (key instanceof crypto_1.KeyObject) {\n        return key;\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkSigCryptoKey)(key, alg, usage);\n        return crypto_1.KeyObject.from(key);\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n}\nexports.default = getSignVerifyKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst dsa_digest_js_1 = require(\"./dsa_digest.js\");\nconst hmac_digest_js_1 = require(\"./hmac_digest.js\");\nconst node_key_js_1 = require(\"./node_key.js\");\nconst get_sign_verify_key_js_1 = require(\"./get_sign_verify_key.js\");\nlet oneShotSign;\nif (crypto.sign.length > 3) {\n    oneShotSign = (0, util_1.promisify)(crypto.sign);\n}\nelse {\n    oneShotSign = crypto.sign;\n}\nconst sign = async (alg, key, data) => {\n    const keyObject = (0, get_sign_verify_key_js_1.default)(alg, key, 'sign');\n    if (alg.startsWith('HS')) {\n        const hmac = crypto.createHmac((0, hmac_digest_js_1.default)(alg), keyObject);\n        hmac.update(data);\n        return hmac.digest();\n    }\n    return oneShotSign((0, dsa_digest_js_1.default)(alg), data, (0, node_key_js_1.default)(alg, keyObject));\n};\nexports.default = sign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst dsa_digest_js_1 = require(\"./dsa_digest.js\");\nconst node_key_js_1 = require(\"./node_key.js\");\nconst sign_js_1 = require(\"./sign.js\");\nconst get_sign_verify_key_js_1 = require(\"./get_sign_verify_key.js\");\nconst flags_js_1 = require(\"./flags.js\");\nlet oneShotVerify;\nif (crypto.verify.length > 4 && flags_js_1.oneShotCallback) {\n    oneShotVerify = (0, util_1.promisify)(crypto.verify);\n}\nelse {\n    oneShotVerify = crypto.verify;\n}\nconst verify = async (alg, key, signature, data) => {\n    const keyObject = (0, get_sign_verify_key_js_1.default)(alg, key, 'verify');\n    if (alg.startsWith('HS')) {\n        const expected = await (0, sign_js_1.default)(alg, keyObject, data);\n        const actual = signature;\n        try {\n            return crypto.timingSafeEqual(actual, expected);\n        }\n        catch {\n            return false;\n        }\n    }\n    const algorithm = (0, dsa_digest_js_1.default)(alg);\n    const keyInput = (0, node_key_js_1.default)(alg, keyObject);\n    try {\n        return await oneShotVerify(algorithm, data, keyInput, signature);\n    }\n    catch {\n        return false;\n    }\n};\nexports.default = verify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.flattenedVerify = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst verify_js_1 = require(\"../../runtime/verify.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nconst check_key_type_js_1 = require(\"../../lib/check_key_type.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nconst validate_algorithms_js_1 = require(\"../../lib/validate_algorithms.js\");\nasync function flattenedVerify(jws, key, options) {\n    var _a;\n    if (!(0, is_object_js_1.default)(jws)) {\n        throw new errors_js_1.JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new errors_js_1.JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new errors_js_1.JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new errors_js_1.JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new errors_js_1.JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !(0, is_object_js_1.default)(jws.header)) {\n        throw new errors_js_1.JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = (0, base64url_js_1.decode)(jws.protected);\n            parsedProt = JSON.parse(buffer_utils_js_1.decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new errors_js_1.JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!(0, is_disjoint_js_1.default)(parsedProt, jws.header)) {\n        throw new errors_js_1.JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = (0, validate_crit_js_1.default)(errors_js_1.JWSInvalid, new Map([['b64', true]]), options === null || options === void 0 ? void 0 : options.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new errors_js_1.JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new errors_js_1.JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && (0, validate_algorithms_js_1.default)('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new errors_js_1.JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new errors_js_1.JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new errors_js_1.JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n    }\n    (0, check_key_type_js_1.default)(alg, key, 'verify');\n    const data = (0, buffer_utils_js_1.concat)(buffer_utils_js_1.encoder.encode((_a = jws.protected) !== null && _a !== void 0 ? _a : ''), buffer_utils_js_1.encoder.encode('.'), typeof jws.payload === 'string' ? buffer_utils_js_1.encoder.encode(jws.payload) : jws.payload);\n    let signature;\n    try {\n        signature = (0, base64url_js_1.decode)(jws.signature);\n    }\n    catch {\n        throw new errors_js_1.JWSInvalid('Failed to base64url decode the signature');\n    }\n    const verified = await (0, verify_js_1.default)(alg, key, signature, data);\n    if (!verified) {\n        throw new errors_js_1.JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = (0, base64url_js_1.decode)(jws.payload);\n        }\n        catch {\n            throw new errors_js_1.JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = buffer_utils_js_1.encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\nexports.flattenedVerify = flattenedVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compactVerify = void 0;\nconst verify_js_1 = require(\"../flattened/verify.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nasync function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = buffer_utils_js_1.decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new errors_js_1.JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new errors_js_1.JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await (0, verify_js_1.flattenedVerify)({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\nexports.compactVerify = compactVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generalVerify = void 0;\nconst verify_js_1 = require(\"../flattened/verify.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nasync function generalVerify(jws, key, options) {\n    if (!(0, is_object_js_1.default)(jws)) {\n        throw new errors_js_1.JWSInvalid('General JWS must be an object');\n    }\n    if (!Array.isArray(jws.signatures) || !jws.signatures.every(is_object_js_1.default)) {\n        throw new errors_js_1.JWSInvalid('JWS Signatures missing or incorrect type');\n    }\n    for (const signature of jws.signatures) {\n        try {\n            return await (0, verify_js_1.flattenedVerify)({\n                header: signature.header,\n                payload: jws.payload,\n                protected: signature.protected,\n                signature: signature.signature,\n            }, key, options);\n        }\n        catch {\n        }\n    }\n    throw new errors_js_1.JWSSignatureVerificationFailed();\n}\nexports.generalVerify = generalVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (date) => Math.floor(date.getTime() / 1000);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;\nexports.default = (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[1]);\n    const unit = matched[2].toLowerCase();\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            return Math.round(value);\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            return Math.round(value * minute);\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            return Math.round(value * hour);\n        case 'day':\n        case 'days':\n        case 'd':\n            return Math.round(value * day);\n        case 'week':\n        case 'weeks':\n        case 'w':\n            return Math.round(value * week);\n        default:\n            return Math.round(value * year);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"./buffer_utils.js\");\nconst epoch_js_1 = require(\"./epoch.js\");\nconst secs_js_1 = require(\"./secs.js\");\nconst is_object_js_1 = require(\"./is_object.js\");\nconst normalizeTyp = (value) => value.toLowerCase().replace(/^application\\//, '');\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexports.default = (protectedHeader, encodedPayload, options = {}) => {\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"typ\" JWT header value', 'typ', 'check_failed');\n    }\n    let payload;\n    try {\n        payload = JSON.parse(buffer_utils_js_1.decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!(0, is_object_js_1.default)(payload)) {\n        throw new errors_js_1.JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    if (maxTokenAge !== undefined)\n        requiredClaims.push('iat');\n    if (audience !== undefined)\n        requiredClaims.push('aud');\n    if (subject !== undefined)\n        requiredClaims.push('sub');\n    if (issuer !== undefined)\n        requiredClaims.push('iss');\n    for (const claim of new Set(requiredClaims.reverse())) {\n        if (!(claim in payload)) {\n            throw new errors_js_1.JWTClaimValidationFailed(`missing required \"${claim}\" claim`, claim, 'missing');\n        }\n    }\n    if (issuer && !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"iss\" claim value', 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"sub\" claim value', 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"aud\" claim value', 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = (0, secs_js_1.default)(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = (0, epoch_js_1.default)(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new errors_js_1.JWTClaimValidationFailed('\"iat\" claim must be a number', 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new errors_js_1.JWTClaimValidationFailed('\"nbf\" claim must be a number', 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new errors_js_1.JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new errors_js_1.JWTClaimValidationFailed('\"exp\" claim must be a number', 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new errors_js_1.JWTExpired('\"exp\" claim timestamp check failed', 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : (0, secs_js_1.default)(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new errors_js_1.JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new errors_js_1.JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', 'iat', 'check_failed');\n        }\n    }\n    return payload;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jwtVerify = void 0;\nconst verify_js_1 = require(\"../jws/compact/verify.js\");\nconst jwt_claims_set_js_1 = require(\"../lib/jwt_claims_set.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nasync function jwtVerify(jwt, key, options) {\n    var _a;\n    const verified = await (0, verify_js_1.compactVerify)(jwt, key, options);\n    if (((_a = verified.protectedHeader.crit) === null || _a === void 0 ? void 0 : _a.includes('b64')) && verified.protectedHeader.b64 === false) {\n        throw new errors_js_1.JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = (0, jwt_claims_set_js_1.default)(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\nexports.jwtVerify = jwtVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jwtDecrypt = void 0;\nconst decrypt_js_1 = require(\"../jwe/compact/decrypt.js\");\nconst jwt_claims_set_js_1 = require(\"../lib/jwt_claims_set.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nasync function jwtDecrypt(jwt, key, options) {\n    const decrypted = await (0, decrypt_js_1.compactDecrypt)(jwt, key, options);\n    const payload = (0, jwt_claims_set_js_1.default)(decrypted.protectedHeader, decrypted.plaintext, options);\n    const { protectedHeader } = decrypted;\n    if (protectedHeader.iss !== undefined && protectedHeader.iss !== payload.iss) {\n        throw new errors_js_1.JWTClaimValidationFailed('replicated \"iss\" claim header parameter mismatch', 'iss', 'mismatch');\n    }\n    if (protectedHeader.sub !== undefined && protectedHeader.sub !== payload.sub) {\n        throw new errors_js_1.JWTClaimValidationFailed('replicated \"sub\" claim header parameter mismatch', 'sub', 'mismatch');\n    }\n    if (protectedHeader.aud !== undefined &&\n        JSON.stringify(protectedHeader.aud) !== JSON.stringify(payload.aud)) {\n        throw new errors_js_1.JWTClaimValidationFailed('replicated \"aud\" claim header parameter mismatch', 'aud', 'mismatch');\n    }\n    const result = { payload, protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\nexports.jwtDecrypt = jwtDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompactEncrypt = void 0;\nconst encrypt_js_1 = require(\"../flattened/encrypt.js\");\nclass CompactEncrypt {\n    constructor(plaintext) {\n        this._flattened = new encrypt_js_1.FlattenedEncrypt(plaintext);\n    }\n    setContentEncryptionKey(cek) {\n        this._flattened.setContentEncryptionKey(cek);\n        return this;\n    }\n    setInitializationVector(iv) {\n        this._flattened.setInitializationVector(iv);\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        this._flattened.setKeyManagementParameters(parameters);\n        return this;\n    }\n    async encrypt(key, options) {\n        const jwe = await this._flattened.encrypt(key, options);\n        return [jwe.protected, jwe.encrypted_key, jwe.iv, jwe.ciphertext, jwe.tag].join('.');\n    }\n}\nexports.CompactEncrypt = CompactEncrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlattenedSign = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst sign_js_1 = require(\"../../runtime/sign.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst check_key_type_js_1 = require(\"../../lib/check_key_type.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nclass FlattenedSign {\n    constructor(payload) {\n        if (!(payload instanceof Uint8Array)) {\n            throw new TypeError('payload must be an instance of Uint8Array');\n        }\n        this._payload = payload;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader) {\n            throw new errors_js_1.JWSInvalid('either setProtectedHeader or setUnprotectedHeader must be called before #sign()');\n        }\n        if (!(0, is_disjoint_js_1.default)(this._protectedHeader, this._unprotectedHeader)) {\n            throw new errors_js_1.JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n        };\n        const extensions = (0, validate_crit_js_1.default)(errors_js_1.JWSInvalid, new Map([['b64', true]]), options === null || options === void 0 ? void 0 : options.crit, this._protectedHeader, joseHeader);\n        let b64 = true;\n        if (extensions.has('b64')) {\n            b64 = this._protectedHeader.b64;\n            if (typeof b64 !== 'boolean') {\n                throw new errors_js_1.JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n            }\n        }\n        const { alg } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new errors_js_1.JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        (0, check_key_type_js_1.default)(alg, key, 'sign');\n        let payload = this._payload;\n        if (b64) {\n            payload = buffer_utils_js_1.encoder.encode((0, base64url_js_1.encode)(payload));\n        }\n        let protectedHeader;\n        if (this._protectedHeader) {\n            protectedHeader = buffer_utils_js_1.encoder.encode((0, base64url_js_1.encode)(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = buffer_utils_js_1.encoder.encode('');\n        }\n        const data = (0, buffer_utils_js_1.concat)(protectedHeader, buffer_utils_js_1.encoder.encode('.'), payload);\n        const signature = await (0, sign_js_1.default)(alg, key, data);\n        const jws = {\n            signature: (0, base64url_js_1.encode)(signature),\n            payload: '',\n        };\n        if (b64) {\n            jws.payload = buffer_utils_js_1.decoder.decode(payload);\n        }\n        if (this._unprotectedHeader) {\n            jws.header = this._unprotectedHeader;\n        }\n        if (this._protectedHeader) {\n            jws.protected = buffer_utils_js_1.decoder.decode(protectedHeader);\n        }\n        return jws;\n    }\n}\nexports.FlattenedSign = FlattenedSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompactSign = void 0;\nconst sign_js_1 = require(\"../flattened/sign.js\");\nclass CompactSign {\n    constructor(payload) {\n        this._flattened = new sign_js_1.FlattenedSign(payload);\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    async sign(key, options) {\n        const jws = await this._flattened.sign(key, options);\n        if (jws.payload === undefined) {\n            throw new TypeError('use the flattened module for creating JWS with b64: false');\n        }\n        return `${jws.protected}.${jws.payload}.${jws.signature}`;\n    }\n}\nexports.CompactSign = CompactSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GeneralSign = void 0;\nconst sign_js_1 = require(\"../flattened/sign.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nclass IndividualSignature {\n    constructor(sig, key, options) {\n        this.parent = sig;\n        this.key = key;\n        this.options = options;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this.protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this.protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addSignature(...args) {\n        return this.parent.addSignature(...args);\n    }\n    sign(...args) {\n        return this.parent.sign(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nclass GeneralSign {\n    constructor(payload) {\n        this._signatures = [];\n        this._payload = payload;\n    }\n    addSignature(key, options) {\n        const signature = new IndividualSignature(this, key, options);\n        this._signatures.push(signature);\n        return signature;\n    }\n    async sign() {\n        if (!this._signatures.length) {\n            throw new errors_js_1.JWSInvalid('at least one signature must be added');\n        }\n        const jws = {\n            signatures: [],\n            payload: '',\n        };\n        for (let i = 0; i < this._signatures.length; i++) {\n            const signature = this._signatures[i];\n            const flattened = new sign_js_1.FlattenedSign(this._payload);\n            flattened.setProtectedHeader(signature.protectedHeader);\n            flattened.setUnprotectedHeader(signature.unprotectedHeader);\n            const { payload, ...rest } = await flattened.sign(signature.key, signature.options);\n            if (i === 0) {\n                jws.payload = payload;\n            }\n            else if (jws.payload !== payload) {\n                throw new errors_js_1.JWSInvalid('inconsistent use of JWS Unencoded Payload (RFC7797)');\n            }\n            jws.signatures.push(rest);\n        }\n        return jws;\n    }\n}\nexports.GeneralSign = GeneralSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProduceJWT = void 0;\nconst epoch_js_1 = require(\"../lib/epoch.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst secs_js_1 = require(\"../lib/secs.js\");\nclass ProduceJWT {\n    constructor(payload) {\n        if (!(0, is_object_js_1.default)(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this._payload = payload;\n    }\n    setIssuer(issuer) {\n        this._payload = { ...this._payload, iss: issuer };\n        return this;\n    }\n    setSubject(subject) {\n        this._payload = { ...this._payload, sub: subject };\n        return this;\n    }\n    setAudience(audience) {\n        this._payload = { ...this._payload, aud: audience };\n        return this;\n    }\n    setJti(jwtId) {\n        this._payload = { ...this._payload, jti: jwtId };\n        return this;\n    }\n    setNotBefore(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, nbf: input };\n        }\n        else {\n            this._payload = { ...this._payload, nbf: (0, epoch_js_1.default)(new Date()) + (0, secs_js_1.default)(input) };\n        }\n        return this;\n    }\n    setExpirationTime(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, exp: input };\n        }\n        else {\n            this._payload = { ...this._payload, exp: (0, epoch_js_1.default)(new Date()) + (0, secs_js_1.default)(input) };\n        }\n        return this;\n    }\n    setIssuedAt(input) {\n        if (typeof input === 'undefined') {\n            this._payload = { ...this._payload, iat: (0, epoch_js_1.default)(new Date()) };\n        }\n        else {\n            this._payload = { ...this._payload, iat: input };\n        }\n        return this;\n    }\n}\nexports.ProduceJWT = ProduceJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignJWT = void 0;\nconst sign_js_1 = require(\"../jws/compact/sign.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst produce_js_1 = require(\"./produce.js\");\nclass SignJWT extends produce_js_1.ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        var _a;\n        const sig = new sign_js_1.CompactSign(buffer_utils_js_1.encoder.encode(JSON.stringify(this._payload)));\n        sig.setProtectedHeader(this._protectedHeader);\n        if (Array.isArray((_a = this._protectedHeader) === null || _a === void 0 ? void 0 : _a.crit) &&\n            this._protectedHeader.crit.includes('b64') &&\n            this._protectedHeader.b64 === false) {\n            throw new errors_js_1.JWTInvalid('JWTs MUST NOT use unencoded payload');\n        }\n        return sig.sign(key, options);\n    }\n}\nexports.SignJWT = SignJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EncryptJWT = void 0;\nconst encrypt_js_1 = require(\"../jwe/compact/encrypt.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst produce_js_1 = require(\"./produce.js\");\nclass EncryptJWT extends produce_js_1.ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    replicateIssuerAsHeader() {\n        this._replicateIssuerAsHeader = true;\n        return this;\n    }\n    replicateSubjectAsHeader() {\n        this._replicateSubjectAsHeader = true;\n        return this;\n    }\n    replicateAudienceAsHeader() {\n        this._replicateAudienceAsHeader = true;\n        return this;\n    }\n    async encrypt(key, options) {\n        const enc = new encrypt_js_1.CompactEncrypt(buffer_utils_js_1.encoder.encode(JSON.stringify(this._payload)));\n        if (this._replicateIssuerAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, iss: this._payload.iss };\n        }\n        if (this._replicateSubjectAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, sub: this._payload.sub };\n        }\n        if (this._replicateAudienceAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, aud: this._payload.aud };\n        }\n        enc.setProtectedHeader(this._protectedHeader);\n        if (this._iv) {\n            enc.setInitializationVector(this._iv);\n        }\n        if (this._cek) {\n            enc.setContentEncryptionKey(this._cek);\n        }\n        if (this._keyManagementParameters) {\n            enc.setKeyManagementParameters(this._keyManagementParameters);\n        }\n        return enc.encrypt(key, options);\n    }\n}\nexports.EncryptJWT = EncryptJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calculateJwkThumbprintUri = exports.calculateJwkThumbprint = void 0;\nconst digest_js_1 = require(\"../runtime/digest.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst check = (value, description) => {\n    if (typeof value !== 'string' || !value) {\n        throw new errors_js_1.JWKInvalid(`${description} missing or invalid`);\n    }\n};\nasync function calculateJwkThumbprint(jwk, digestAlgorithm) {\n    if (!(0, is_object_js_1.default)(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    digestAlgorithm !== null && digestAlgorithm !== void 0 ? digestAlgorithm : (digestAlgorithm = 'sha256');\n    if (digestAlgorithm !== 'sha256' &&\n        digestAlgorithm !== 'sha384' &&\n        digestAlgorithm !== 'sha512') {\n        throw new TypeError('digestAlgorithm must one of \"sha256\", \"sha384\", or \"sha512\"');\n    }\n    let components;\n    switch (jwk.kty) {\n        case 'EC':\n            check(jwk.crv, '\"crv\" (Curve) Parameter');\n            check(jwk.x, '\"x\" (X Coordinate) Parameter');\n            check(jwk.y, '\"y\" (Y Coordinate) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x, y: jwk.y };\n            break;\n        case 'OKP':\n            check(jwk.crv, '\"crv\" (Subtype of Key Pair) Parameter');\n            check(jwk.x, '\"x\" (Public Key) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x };\n            break;\n        case 'RSA':\n            check(jwk.e, '\"e\" (Exponent) Parameter');\n            check(jwk.n, '\"n\" (Modulus) Parameter');\n            components = { e: jwk.e, kty: jwk.kty, n: jwk.n };\n            break;\n        case 'oct':\n            check(jwk.k, '\"k\" (Key Value) Parameter');\n            components = { k: jwk.k, kty: jwk.kty };\n            break;\n        default:\n            throw new errors_js_1.JOSENotSupported('\"kty\" (Key Type) Parameter missing or unsupported');\n    }\n    const data = buffer_utils_js_1.encoder.encode(JSON.stringify(components));\n    return (0, base64url_js_1.encode)(await (0, digest_js_1.default)(digestAlgorithm, data));\n}\nexports.calculateJwkThumbprint = calculateJwkThumbprint;\nasync function calculateJwkThumbprintUri(jwk, digestAlgorithm) {\n    digestAlgorithm !== null && digestAlgorithm !== void 0 ? digestAlgorithm : (digestAlgorithm = 'sha256');\n    const thumbprint = await calculateJwkThumbprint(jwk, digestAlgorithm);\n    return `urn:ietf:params:oauth:jwk-thumbprint:sha-${digestAlgorithm.slice(-3)}:${thumbprint}`;\n}\nexports.calculateJwkThumbprintUri = calculateJwkThumbprintUri;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmbeddedJWK = void 0;\nconst import_js_1 = require(\"../key/import.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nasync function EmbeddedJWK(protectedHeader, token) {\n    const joseHeader = {\n        ...protectedHeader,\n        ...token === null || token === void 0 ? void 0 : token.header,\n    };\n    if (!(0, is_object_js_1.default)(joseHeader.jwk)) {\n        throw new errors_js_1.JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a JSON object');\n    }\n    const key = await (0, import_js_1.importJWK)({ ...joseHeader.jwk, ext: true }, joseHeader.alg, true);\n    if (key instanceof Uint8Array || key.type !== 'public') {\n        throw new errors_js_1.JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a public key');\n    }\n    return key;\n}\nexports.EmbeddedJWK = EmbeddedJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createLocalJWKSet = exports.LocalJWKSet = exports.isJWKSLike = void 0;\nconst import_js_1 = require(\"../key/import.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nfunction isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nexports.isJWKSLike = isJWKSLike;\nfunction isJWKLike(key) {\n    return (0, is_object_js_1.default)(key);\n}\nfunction clone(obj) {\n    if (typeof structuredClone === 'function') {\n        return structuredClone(obj);\n    }\n    return JSON.parse(JSON.stringify(obj));\n}\nclass LocalJWKSet {\n    constructor(jwks) {\n        this._cached = new WeakMap();\n        if (!isJWKSLike(jwks)) {\n            throw new errors_js_1.JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this._jwks = clone(jwks);\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token === null || token === void 0 ? void 0 : token.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this._jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && typeof jwk.alg === 'string') {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate && alg === 'EdDSA') {\n                candidate = jwk.crv === 'Ed25519' || jwk.crv === 'Ed448';\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES256K':\n                        candidate = jwk.crv === 'secp256k1';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new errors_js_1.JWKSNoMatchingKey();\n        }\n        else if (length !== 1) {\n            const error = new errors_js_1.JWKSMultipleMatchingKeys();\n            const { _cached } = this;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch {\n                        continue;\n                    }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this._cached, jwk, alg);\n    }\n}\nexports.LocalJWKSet = LocalJWKSet;\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await (0, import_js_1.importJWK)({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new errors_js_1.JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nfunction createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    return async function (protectedHeader, token) {\n        return set.getKey(protectedHeader, token);\n    };\n}\nexports.createLocalJWKSet = createLocalJWKSet;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst http = require(\"http\");\nconst https = require(\"https\");\nconst events_1 = require(\"events\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst fetchJwks = async (url, timeout, options) => {\n    let get;\n    switch (url.protocol) {\n        case 'https:':\n            get = https.get;\n            break;\n        case 'http:':\n            get = http.get;\n            break;\n        default:\n            throw new TypeError('Unsupported URL protocol.');\n    }\n    const { agent, headers } = options;\n    const req = get(url.href, {\n        agent,\n        timeout,\n        headers,\n    });\n    const [response] = (await Promise.race([(0, events_1.once)(req, 'response'), (0, events_1.once)(req, 'timeout')]));\n    if (!response) {\n        req.destroy();\n        throw new errors_js_1.JWKSTimeout();\n    }\n    if (response.statusCode !== 200) {\n        throw new errors_js_1.JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    const parts = [];\n    for await (const part of response) {\n        parts.push(part);\n    }\n    try {\n        return JSON.parse(buffer_utils_js_1.decoder.decode((0, buffer_utils_js_1.concat)(...parts)));\n    }\n    catch {\n        throw new errors_js_1.JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n};\nexports.default = fetchJwks;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createRemoteJWKSet = void 0;\nconst fetch_jwks_js_1 = require(\"../runtime/fetch_jwks.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst local_js_1 = require(\"./local.js\");\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        (typeof EdgeRuntime !== 'undefined' && EdgeRuntime === 'vercel'));\n}\nclass RemoteJWKSet extends local_js_1.LocalJWKSet {\n    constructor(url, options) {\n        super({ keys: [] });\n        this._jwks = undefined;\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this._url = new URL(url.href);\n        this._options = { agent: options === null || options === void 0 ? void 0 : options.agent, headers: options === null || options === void 0 ? void 0 : options.headers };\n        this._timeoutDuration =\n            typeof (options === null || options === void 0 ? void 0 : options.timeoutDuration) === 'number' ? options === null || options === void 0 ? void 0 : options.timeoutDuration : 5000;\n        this._cooldownDuration =\n            typeof (options === null || options === void 0 ? void 0 : options.cooldownDuration) === 'number' ? options === null || options === void 0 ? void 0 : options.cooldownDuration : 30000;\n        this._cacheMaxAge = typeof (options === null || options === void 0 ? void 0 : options.cacheMaxAge) === 'number' ? options === null || options === void 0 ? void 0 : options.cacheMaxAge : 600000;\n    }\n    coolingDown() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cacheMaxAge\n            : false;\n    }\n    async getKey(protectedHeader, token) {\n        if (!this._jwks || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await super.getKey(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof errors_js_1.JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return super.getKey(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this._pendingFetch && isCloudflareWorkers()) {\n            this._pendingFetch = undefined;\n        }\n        this._pendingFetch || (this._pendingFetch = (0, fetch_jwks_js_1.default)(this._url, this._timeoutDuration, this._options)\n            .then((json) => {\n            if (!(0, local_js_1.isJWKSLike)(json)) {\n                throw new errors_js_1.JWKSInvalid('JSON Web Key Set malformed');\n            }\n            this._jwks = { keys: json.keys };\n            this._jwksTimestamp = Date.now();\n            this._pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this._pendingFetch = undefined;\n            throw err;\n        }));\n        await this._pendingFetch;\n    }\n}\nfunction createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    return async function (protectedHeader, token) {\n        return set.getKey(protectedHeader, token);\n    };\n}\nexports.createRemoteJWKSet = createRemoteJWKSet;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnsecuredJWT = void 0;\nconst base64url = require(\"../runtime/base64url.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst jwt_claims_set_js_1 = require(\"../lib/jwt_claims_set.js\");\nconst produce_js_1 = require(\"./produce.js\");\nclass UnsecuredJWT extends produce_js_1.ProduceJWT {\n    encode() {\n        const header = base64url.encode(JSON.stringify({ alg: 'none' }));\n        const payload = base64url.encode(JSON.stringify(this._payload));\n        return `${header}.${payload}.`;\n    }\n    static decode(jwt, options) {\n        if (typeof jwt !== 'string') {\n            throw new errors_js_1.JWTInvalid('Unsecured JWT must be a string');\n        }\n        const { 0: encodedHeader, 1: encodedPayload, 2: signature, length } = jwt.split('.');\n        if (length !== 3 || signature !== '') {\n            throw new errors_js_1.JWTInvalid('Invalid Unsecured JWT');\n        }\n        let header;\n        try {\n            header = JSON.parse(buffer_utils_js_1.decoder.decode(base64url.decode(encodedHeader)));\n            if (header.alg !== 'none')\n                throw new Error();\n        }\n        catch {\n            throw new errors_js_1.JWTInvalid('Invalid Unsecured JWT');\n        }\n        const payload = (0, jwt_claims_set_js_1.default)(header, base64url.decode(encodedPayload), options);\n        return { payload, header };\n    }\n}\nexports.UnsecuredJWT = UnsecuredJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decode = exports.encode = void 0;\nconst base64url = require(\"../runtime/base64url.js\");\nexports.encode = base64url.encode;\nexports.decode = base64url.decode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeProtectedHeader = void 0;\nconst base64url_js_1 = require(\"./base64url.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nfunction decodeProtectedHeader(token) {\n    let protectedB64u;\n    if (typeof token === 'string') {\n        const parts = token.split('.');\n        if (parts.length === 3 || parts.length === 5) {\n            ;\n            [protectedB64u] = parts;\n        }\n    }\n    else if (typeof token === 'object' && token) {\n        if ('protected' in token) {\n            protectedB64u = token.protected;\n        }\n        else {\n            throw new TypeError('Token does not contain a Protected Header');\n        }\n    }\n    try {\n        if (typeof protectedB64u !== 'string' || !protectedB64u) {\n            throw new Error();\n        }\n        const result = JSON.parse(buffer_utils_js_1.decoder.decode((0, base64url_js_1.decode)(protectedB64u)));\n        if (!(0, is_object_js_1.default)(result)) {\n            throw new Error();\n        }\n        return result;\n    }\n    catch {\n        throw new TypeError('Invalid Token or Protected Header formatting');\n    }\n}\nexports.decodeProtectedHeader = decodeProtectedHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeJwt = void 0;\nconst base64url_js_1 = require(\"./base64url.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst errors_js_1 = require(\"./errors.js\");\nfunction decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new errors_js_1.JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new errors_js_1.JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new errors_js_1.JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new errors_js_1.JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = (0, base64url_js_1.decode)(payload);\n    }\n    catch {\n        throw new errors_js_1.JWTInvalid('Failed to base64url decode the payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(buffer_utils_js_1.decoder.decode(decoded));\n    }\n    catch {\n        throw new errors_js_1.JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!(0, is_object_js_1.default)(result))\n        throw new errors_js_1.JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\nexports.decodeJwt = decodeJwt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateKeyPair = exports.generateSecret = void 0;\nconst crypto_1 = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst random_js_1 = require(\"./random.js\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst generate = (0, util_1.promisify)(crypto_1.generateKeyPair);\nasync function generateSecret(alg, options) {\n    let length;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            length = parseInt(alg.slice(-3), 10);\n            break;\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW':\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW':\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            length = parseInt(alg.slice(1, 4), 10);\n            break;\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n    return (0, crypto_1.createSecretKey)((0, random_js_1.default)(new Uint8Array(length >> 3)));\n}\nexports.generateSecret = generateSecret;\nasync function generateKeyPair(alg, options) {\n    var _a, _b;\n    switch (alg) {\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n        case 'RSA1_5': {\n            const modulusLength = (_a = options === null || options === void 0 ? void 0 : options.modulusLength) !== null && _a !== void 0 ? _a : 2048;\n            if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n                throw new errors_js_1.JOSENotSupported('Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used');\n            }\n            const keypair = await generate('rsa', {\n                modulusLength,\n                publicExponent: 0x10001,\n            });\n            (0, check_modulus_length_js_1.setModulusLength)(keypair.privateKey, modulusLength);\n            (0, check_modulus_length_js_1.setModulusLength)(keypair.publicKey, modulusLength);\n            return keypair;\n        }\n        case 'ES256':\n            return generate('ec', { namedCurve: 'P-256' });\n        case 'ES256K':\n            return generate('ec', { namedCurve: 'secp256k1' });\n        case 'ES384':\n            return generate('ec', { namedCurve: 'P-384' });\n        case 'ES512':\n            return generate('ec', { namedCurve: 'P-521' });\n        case 'EdDSA': {\n            switch (options === null || options === void 0 ? void 0 : options.crv) {\n                case undefined:\n                case 'Ed25519':\n                    return generate('ed25519');\n                case 'Ed448':\n                    return generate('ed448');\n                default:\n                    throw new errors_js_1.JOSENotSupported('Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448');\n            }\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW':\n            const crv = (_b = options === null || options === void 0 ? void 0 : options.crv) !== null && _b !== void 0 ? _b : 'P-256';\n            switch (crv) {\n                case undefined:\n                case 'P-256':\n                case 'P-384':\n                case 'P-521':\n                    return generate('ec', { namedCurve: crv });\n                case 'X25519':\n                    return generate('x25519');\n                case 'X448':\n                    return generate('x448');\n                default:\n                    throw new errors_js_1.JOSENotSupported('Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448');\n            }\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n}\nexports.generateKeyPair = generateKeyPair;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateKeyPair = void 0;\nconst generate_js_1 = require(\"../runtime/generate.js\");\nasync function generateKeyPair(alg, options) {\n    return (0, generate_js_1.generateKeyPair)(alg, options);\n}\nexports.generateKeyPair = generateKeyPair;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateSecret = void 0;\nconst generate_js_1 = require(\"../runtime/generate.js\");\nasync function generateSecret(alg, options) {\n    return (0, generate_js_1.generateSecret)(alg, options);\n}\nexports.generateSecret = generateSecret;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = 'node:crypto';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst runtime_js_1 = require(\"../runtime/runtime.js\");\nexports.default = runtime_js_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cryptoRuntime = exports.base64url = exports.generateSecret = exports.generateKeyPair = exports.errors = exports.decodeJwt = exports.decodeProtectedHeader = exports.importJWK = exports.importX509 = exports.importPKCS8 = exports.importSPKI = exports.exportJWK = exports.exportSPKI = exports.exportPKCS8 = exports.UnsecuredJWT = exports.createRemoteJWKSet = exports.createLocalJWKSet = exports.EmbeddedJWK = exports.calculateJwkThumbprintUri = exports.calculateJwkThumbprint = exports.EncryptJWT = exports.SignJWT = exports.GeneralSign = exports.FlattenedSign = exports.CompactSign = exports.FlattenedEncrypt = exports.CompactEncrypt = exports.jwtDecrypt = exports.jwtVerify = exports.generalVerify = exports.flattenedVerify = exports.compactVerify = exports.GeneralEncrypt = exports.generalDecrypt = exports.flattenedDecrypt = exports.compactDecrypt = void 0;\nvar decrypt_js_1 = require(\"./jwe/compact/decrypt.js\");\nObject.defineProperty(exports, \"compactDecrypt\", { enumerable: true, get: function () { return decrypt_js_1.compactDecrypt; } });\nvar decrypt_js_2 = require(\"./jwe/flattened/decrypt.js\");\nObject.defineProperty(exports, \"flattenedDecrypt\", { enumerable: true, get: function () { return decrypt_js_2.flattenedDecrypt; } });\nvar decrypt_js_3 = require(\"./jwe/general/decrypt.js\");\nObject.defineProperty(exports, \"generalDecrypt\", { enumerable: true, get: function () { return decrypt_js_3.generalDecrypt; } });\nvar encrypt_js_1 = require(\"./jwe/general/encrypt.js\");\nObject.defineProperty(exports, \"GeneralEncrypt\", { enumerable: true, get: function () { return encrypt_js_1.GeneralEncrypt; } });\nvar verify_js_1 = require(\"./jws/compact/verify.js\");\nObject.defineProperty(exports, \"compactVerify\", { enumerable: true, get: function () { return verify_js_1.compactVerify; } });\nvar verify_js_2 = require(\"./jws/flattened/verify.js\");\nObject.defineProperty(exports, \"flattenedVerify\", { enumerable: true, get: function () { return verify_js_2.flattenedVerify; } });\nvar verify_js_3 = require(\"./jws/general/verify.js\");\nObject.defineProperty(exports, \"generalVerify\", { enumerable: true, get: function () { return verify_js_3.generalVerify; } });\nvar verify_js_4 = require(\"./jwt/verify.js\");\nObject.defineProperty(exports, \"jwtVerify\", { enumerable: true, get: function () { return verify_js_4.jwtVerify; } });\nvar decrypt_js_4 = require(\"./jwt/decrypt.js\");\nObject.defineProperty(exports, \"jwtDecrypt\", { enumerable: true, get: function () { return decrypt_js_4.jwtDecrypt; } });\nvar encrypt_js_2 = require(\"./jwe/compact/encrypt.js\");\nObject.defineProperty(exports, \"CompactEncrypt\", { enumerable: true, get: function () { return encrypt_js_2.CompactEncrypt; } });\nvar encrypt_js_3 = require(\"./jwe/flattened/encrypt.js\");\nObject.defineProperty(exports, \"FlattenedEncrypt\", { enumerable: true, get: function () { return encrypt_js_3.FlattenedEncrypt; } });\nvar sign_js_1 = require(\"./jws/compact/sign.js\");\nObject.defineProperty(exports, \"CompactSign\", { enumerable: true, get: function () { return sign_js_1.CompactSign; } });\nvar sign_js_2 = require(\"./jws/flattened/sign.js\");\nObject.defineProperty(exports, \"FlattenedSign\", { enumerable: true, get: function () { return sign_js_2.FlattenedSign; } });\nvar sign_js_3 = require(\"./jws/general/sign.js\");\nObject.defineProperty(exports, \"GeneralSign\", { enumerable: true, get: function () { return sign_js_3.GeneralSign; } });\nvar sign_js_4 = require(\"./jwt/sign.js\");\nObject.defineProperty(exports, \"SignJWT\", { enumerable: true, get: function () { return sign_js_4.SignJWT; } });\nvar encrypt_js_4 = require(\"./jwt/encrypt.js\");\nObject.defineProperty(exports, \"EncryptJWT\", { enumerable: true, get: function () { return encrypt_js_4.EncryptJWT; } });\nvar thumbprint_js_1 = require(\"./jwk/thumbprint.js\");\nObject.defineProperty(exports, \"calculateJwkThumbprint\", { enumerable: true, get: function () { return thumbprint_js_1.calculateJwkThumbprint; } });\nObject.defineProperty(exports, \"calculateJwkThumbprintUri\", { enumerable: true, get: function () { return thumbprint_js_1.calculateJwkThumbprintUri; } });\nvar embedded_js_1 = require(\"./jwk/embedded.js\");\nObject.defineProperty(exports, \"EmbeddedJWK\", { enumerable: true, get: function () { return embedded_js_1.EmbeddedJWK; } });\nvar local_js_1 = require(\"./jwks/local.js\");\nObject.defineProperty(exports, \"createLocalJWKSet\", { enumerable: true, get: function () { return local_js_1.createLocalJWKSet; } });\nvar remote_js_1 = require(\"./jwks/remote.js\");\nObject.defineProperty(exports, \"createRemoteJWKSet\", { enumerable: true, get: function () { return remote_js_1.createRemoteJWKSet; } });\nvar unsecured_js_1 = require(\"./jwt/unsecured.js\");\nObject.defineProperty(exports, \"UnsecuredJWT\", { enumerable: true, get: function () { return unsecured_js_1.UnsecuredJWT; } });\nvar export_js_1 = require(\"./key/export.js\");\nObject.defineProperty(exports, \"exportPKCS8\", { enumerable: true, get: function () { return export_js_1.exportPKCS8; } });\nObject.defineProperty(exports, \"exportSPKI\", { enumerable: true, get: function () { return export_js_1.exportSPKI; } });\nObject.defineProperty(exports, \"exportJWK\", { enumerable: true, get: function () { return export_js_1.exportJWK; } });\nvar import_js_1 = require(\"./key/import.js\");\nObject.defineProperty(exports, \"importSPKI\", { enumerable: true, get: function () { return import_js_1.importSPKI; } });\nObject.defineProperty(exports, \"importPKCS8\", { enumerable: true, get: function () { return import_js_1.importPKCS8; } });\nObject.defineProperty(exports, \"importX509\", { enumerable: true, get: function () { return import_js_1.importX509; } });\nObject.defineProperty(exports, \"importJWK\", { enumerable: true, get: function () { return import_js_1.importJWK; } });\nvar decode_protected_header_js_1 = require(\"./util/decode_protected_header.js\");\nObject.defineProperty(exports, \"decodeProtectedHeader\", { enumerable: true, get: function () { return decode_protected_header_js_1.decodeProtectedHeader; } });\nvar decode_jwt_js_1 = require(\"./util/decode_jwt.js\");\nObject.defineProperty(exports, \"decodeJwt\", { enumerable: true, get: function () { return decode_jwt_js_1.decodeJwt; } });\nexports.errors = require(\"./util/errors.js\");\nvar generate_key_pair_js_1 = require(\"./key/generate_key_pair.js\");\nObject.defineProperty(exports, \"generateKeyPair\", { enumerable: true, get: function () { return generate_key_pair_js_1.generateKeyPair; } });\nvar generate_secret_js_1 = require(\"./key/generate_secret.js\");\nObject.defineProperty(exports, \"generateSecret\", { enumerable: true, get: function () { return generate_secret_js_1.generateSecret; } });\nexports.base64url = require(\"./util/base64url.js\");\nvar runtime_js_1 = require(\"./util/runtime.js\");\nObject.defineProperty(exports, \"cryptoRuntime\", { enumerable: true, get: function () { return runtime_js_1.default; } });\n","const { strict: assert } = require('assert');\nconst { createHash } = require('crypto');\nconst { format } = require('util');\n\nlet encode;\nif (Buffer.isEncoding('base64url')) {\n  encode = (input) => input.toString('base64url');\n} else {\n  const fromBase64 = (base64) => base64.replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n  encode = (input) => fromBase64(input.toString('base64'));\n}\n\n/** SPECIFICATION\n * Its (_hash) value is the base64url encoding of the left-most half of the hash of the octets of\n * the ASCII representation of the token value, where the hash algorithm used is the hash algorithm\n * used in the alg Header Parameter of the ID Token's JOSE Header. For instance, if the alg is\n * RS256, hash the token value with SHA-256, then take the left-most 128 bits and base64url encode\n * them. The _hash value is a case sensitive string.\n */\n\n/**\n * @name getHash\n * @api private\n *\n * returns the sha length based off the JOSE alg heade value, defaults to sha256\n *\n * @param token {String} token value to generate the hash from\n * @param alg {String} ID Token JOSE header alg value (i.e. RS256, HS384, ES512, PS256)\n * @param [crv] {String} For EdDSA the curve decides what hash algorithm is used. Required for EdDSA\n */\nfunction getHash(alg, crv) {\n  switch (alg) {\n    case 'HS256':\n    case 'RS256':\n    case 'PS256':\n    case 'ES256':\n    case 'ES256K':\n      return createHash('sha256');\n\n    case 'HS384':\n    case 'RS384':\n    case 'PS384':\n    case 'ES384':\n      return createHash('sha384');\n\n    case 'HS512':\n    case 'RS512':\n    case 'PS512':\n    case 'ES512':\n    case 'Ed25519':\n      return createHash('sha512');\n\n    case 'Ed448':\n      return createHash('shake256', { outputLength: 114 });\n\n    case 'ML-DSA-44':\n    case 'ML-DSA-65':\n    case 'ML-DSA-87':\n      return createHash('shake256', { outputLength: 64 });\n\n    case 'EdDSA':\n      switch (crv) {\n        case 'Ed25519':\n          return createHash('sha512');\n        case 'Ed448':\n          return createHash('shake256', { outputLength: 114 });\n        default:\n          throw new TypeError('unrecognized or invalid EdDSA curve provided');\n      }\n\n    default:\n      throw new TypeError('unrecognized or invalid JWS algorithm provided');\n  }\n}\n\nfunction generate(token, alg, crv) {\n  const digest = getHash(alg, crv).update(token).digest();\n  return encode(digest.slice(0, digest.length / 2));\n}\n\nfunction validate(names, actual, source, alg, crv) {\n  if (typeof names.claim !== 'string' || !names.claim) {\n    throw new TypeError('names.claim must be a non-empty string');\n  }\n\n  if (typeof names.source !== 'string' || !names.source) {\n    throw new TypeError('names.source must be a non-empty string');\n  }\n\n  assert(typeof actual === 'string' && actual, `${names.claim} must be a non-empty string`);\n  assert(typeof source === 'string' && source, `${names.source} must be a non-empty string`);\n\n  let expected;\n  let msg;\n  try {\n    expected = generate(source, alg, crv);\n  } catch (err) {\n    msg = format('%s could not be validated (%s)', names.claim, err.message);\n  }\n\n  msg = msg || format('%s mismatch, expected %s, got: %s', names.claim, expected, actual);\n\n  assert.equal(expected, actual, msg);\n}\n\nmodule.exports = {\n  validate,\n  generate,\n};\n","const util = require('util');\nconst crypto = require('crypto');\n\nmodule.exports = util.types.isKeyObject || ((obj) => obj && obj instanceof crypto.KeyObject);\n","let encode;\nif (Buffer.isEncoding('base64url')) {\n  encode = (input, encoding = 'utf8') => Buffer.from(input, encoding).toString('base64url');\n} else {\n  const fromBase64 = (base64) => base64.replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n  encode = (input, encoding = 'utf8') =>\n    fromBase64(Buffer.from(input, encoding).toString('base64'));\n}\n\nconst decode = (input) => Buffer.from(input, 'base64');\n\nmodule.exports.decode = decode;\nmodule.exports.encode = encode;\n","const base64url = require('./base64url');\n\nmodule.exports = (token) => {\n  if (typeof token !== 'string' || !token) {\n    throw new TypeError('JWT must be a string');\n  }\n\n  const { 0: header, 1: payload, 2: signature, length } = token.split('.');\n\n  if (length === 5) {\n    throw new TypeError('encrypted JWTs cannot be decoded');\n  }\n\n  if (length !== 3) {\n    throw new Error('JWTs must have three components');\n  }\n\n  try {\n    return {\n      header: JSON.parse(base64url.decode(header)),\n      payload: JSON.parse(base64url.decode(payload)),\n      signature,\n    };\n  } catch (err) {\n    throw new Error('JWT is malformed');\n  }\n};\n","module.exports = (a) => !!a && a.constructor === Object;\n","const isPlainObject = require('./is_plain_object');\n\nfunction defaults(deep, target, ...sources) {\n  for (const source of sources) {\n    if (!isPlainObject(source)) {\n      continue;\n    }\n    for (const [key, value] of Object.entries(source)) {\n      /* istanbul ignore if */\n      if (key === '__proto__' || key === 'constructor') {\n        continue;\n      }\n      if (typeof target[key] === 'undefined' && typeof value !== 'undefined') {\n        target[key] = value;\n      }\n\n      if (deep && isPlainObject(target[key]) && isPlainObject(value)) {\n        defaults(true, target[key], value);\n      }\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = defaults.bind(undefined, false);\nmodule.exports.deep = defaults.bind(undefined, true);\n","const REGEXP = /(\\w+)=(\"[^\"]*\")/g;\n\nmodule.exports = (wwwAuthenticate) => {\n  const params = {};\n  try {\n    while (REGEXP.exec(wwwAuthenticate) !== null) {\n      if (RegExp.$1 && RegExp.$2) {\n        params[RegExp.$1] = RegExp.$2.slice(1, -1);\n      }\n    }\n  } catch (err) {}\n\n  return params;\n};\n","function assertSigningAlgValuesSupport(endpoint, issuer, properties) {\n  if (!issuer[`${endpoint}_endpoint`]) return;\n\n  const eam = `${endpoint}_endpoint_auth_method`;\n  const easa = `${endpoint}_endpoint_auth_signing_alg`;\n  const easavs = `${endpoint}_endpoint_auth_signing_alg_values_supported`;\n\n  if (properties[eam] && properties[eam].endsWith('_jwt') && !properties[easa] && !issuer[easavs]) {\n    throw new TypeError(\n      `${easavs} must be configured on the issuer if ${easa} is not defined on a client`,\n    );\n  }\n}\n\nfunction assertIssuerConfiguration(issuer, endpoint) {\n  if (!issuer[endpoint]) {\n    throw new TypeError(`${endpoint} must be configured on the issuer`);\n  }\n}\n\nmodule.exports = {\n  assertSigningAlgValuesSupport,\n  assertIssuerConfiguration,\n};\n","module.exports = function pick(object, ...paths) {\n  const obj = {};\n  for (const path of paths) {\n    if (object[path] !== undefined) {\n      obj[path] = object[path];\n    }\n  }\n  return obj;\n};\n","const { STATUS_CODES } = require('http');\nconst { format } = require('util');\n\nconst { OPError } = require('../errors');\nconst parseWwwAuthenticate = require('./www_authenticate_parser');\n\nconst throwAuthenticateErrors = (response) => {\n  const params = parseWwwAuthenticate(response.headers['www-authenticate']);\n\n  if (params.error) {\n    throw new OPError(params, response);\n  }\n};\n\nconst isStandardBodyError = (response) => {\n  let result = false;\n  try {\n    let jsonbody;\n    if (typeof response.body !== 'object' || Buffer.isBuffer(response.body)) {\n      jsonbody = JSON.parse(response.body);\n    } else {\n      jsonbody = response.body;\n    }\n    result = typeof jsonbody.error === 'string' && jsonbody.error.length;\n    if (result) Object.defineProperty(response, 'body', { value: jsonbody, configurable: true });\n  } catch (err) {}\n\n  return result;\n};\n\nfunction processResponse(response, { statusCode = 200, body = true, bearer = false } = {}) {\n  if (response.statusCode !== statusCode) {\n    if (bearer) {\n      throwAuthenticateErrors(response);\n    }\n\n    if (isStandardBodyError(response)) {\n      throw new OPError(response.body, response);\n    }\n\n    throw new OPError(\n      {\n        error: format(\n          'expected %i %s, got: %i %s',\n          statusCode,\n          STATUS_CODES[statusCode],\n          response.statusCode,\n          STATUS_CODES[response.statusCode],\n        ),\n      },\n      response,\n    );\n  }\n\n  if (body && !response.body) {\n    throw new OPError(\n      {\n        error: format(\n          'expected %i %s with body but no body was returned',\n          statusCode,\n          STATUS_CODES[statusCode],\n        ),\n      },\n      response,\n    );\n  }\n\n  return response.body;\n}\n\nmodule.exports = processResponse;\n","module.exports = () => Math.floor(Date.now() / 1000);\n","const base64url = require('./helpers/base64url');\nconst now = require('./helpers/unix_timestamp');\n\nclass TokenSet {\n  constructor(values) {\n    Object.assign(this, values);\n    const { constructor, ...properties } = Object.getOwnPropertyDescriptors(\n      this.constructor.prototype,\n    );\n\n    Object.defineProperties(this, properties);\n  }\n\n  set expires_in(value) {\n    this.expires_at = now() + Number(value);\n  }\n\n  get expires_in() {\n    return Math.max.apply(null, [this.expires_at - now(), 0]);\n  }\n\n  expired() {\n    return this.expires_in === 0;\n  }\n\n  claims() {\n    if (!this.id_token) {\n      throw new TypeError('id_token not present in TokenSet');\n    }\n\n    return JSON.parse(base64url.decode(this.id_token.split('.')[1]));\n  }\n}\n\nmodule.exports = TokenSet;\n","const { createHash, randomBytes } = require('crypto');\n\nconst base64url = require('./base64url');\n\nconst random = (bytes = 32) => base64url.encode(randomBytes(bytes));\n\nmodule.exports = {\n  random,\n  state: random,\n  nonce: random,\n  codeVerifier: random,\n  codeChallenge: (codeVerifier) =>\n    base64url.encode(createHash('sha256').update(codeVerifier).digest()),\n};\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","{\"name\":\"openid-client\",\"version\":\"5.7.1\",\"description\":\"OpenID Connect Relying Party (RP, Client) implementation for Node.js runtime, supports passportjs\",\"keywords\":[\"auth\",\"authentication\",\"basic\",\"certified\",\"client\",\"connect\",\"dynamic\",\"electron\",\"hybrid\",\"identity\",\"implicit\",\"oauth\",\"oauth2\",\"oidc\",\"openid\",\"passport\",\"relying party\",\"strategy\"],\"homepage\":\"https://github.com/panva/openid-client\",\"repository\":\"panva/openid-client\",\"funding\":{\"url\":\"https://github.com/sponsors/panva\"},\"license\":\"MIT\",\"author\":\"Filip Skokan <panva.ip@gmail.com>\",\"exports\":{\"types\":\"./types/index.d.ts\",\"import\":\"./lib/index.mjs\",\"require\":\"./lib/index.js\"},\"main\":\"./lib/index.js\",\"types\":\"./types/index.d.ts\",\"files\":[\"lib\",\"types/index.d.ts\"],\"scripts\":{\"format\":\"npx prettier --loglevel silent --write ./lib ./test ./certification ./types\",\"test\":\"mocha test/**/*.test.js\"},\"dependencies\":{\"jose\":\"^4.15.9\",\"lru-cache\":\"^6.0.0\",\"object-hash\":\"^2.2.0\",\"oidc-token-hash\":\"^5.0.3\"},\"devDependencies\":{\"@types/node\":\"^16.18.106\",\"@types/passport\":\"^1.0.16\",\"base64url\":\"^3.0.1\",\"chai\":\"^4.5.0\",\"mocha\":\"^10.7.3\",\"nock\":\"^13.5.5\",\"prettier\":\"^2.8.8\",\"readable-mock-req\":\"^0.2.2\",\"sinon\":\"^9.2.4\",\"timekeeper\":\"^2.3.1\"},\"standard-version\":{\"scripts\":{\"postchangelog\":\"sed -i '' -e 's/### \\\\[/## [/g' CHANGELOG.md\"},\"types\":[{\"type\":\"feat\",\"section\":\"Features\"},{\"type\":\"fix\",\"section\":\"Fixes\"},{\"type\":\"chore\",\"hidden\":true},{\"type\":\"docs\",\"hidden\":true},{\"type\":\"style\",\"hidden\":true},{\"type\":\"refactor\",\"section\":\"Refactor\",\"hidden\":false},{\"type\":\"perf\",\"section\":\"Performance\",\"hidden\":false},{\"type\":\"test\",\"hidden\":true}]}}","const HTTP_OPTIONS = Symbol();\nconst CLOCK_TOLERANCE = Symbol();\n\nmodule.exports = {\n  CLOCK_TOLERANCE,\n  HTTP_OPTIONS,\n};\n","const assert = require('assert');\nconst querystring = require('querystring');\nconst http = require('http');\nconst https = require('https');\nconst { once } = require('events');\nconst { URL } = require('url');\n\nconst LRU = require('lru-cache');\n\nconst pkg = require('../../package.json');\nconst { RPError } = require('../errors');\n\nconst pick = require('./pick');\nconst { deep: defaultsDeep } = require('./defaults');\nconst { HTTP_OPTIONS } = require('./consts');\n\nlet DEFAULT_HTTP_OPTIONS;\nconst NQCHAR = /^[\\x21\\x23-\\x5B\\x5D-\\x7E]+$/;\n\nconst allowed = [\n  'agent',\n  'ca',\n  'cert',\n  'crl',\n  'headers',\n  'key',\n  'lookup',\n  'passphrase',\n  'pfx',\n  'timeout',\n];\n\nconst setDefaults = (props, options) => {\n  DEFAULT_HTTP_OPTIONS = defaultsDeep(\n    {},\n    props.length ? pick(options, ...props) : options,\n    DEFAULT_HTTP_OPTIONS,\n  );\n};\n\nsetDefaults([], {\n  headers: {\n    'User-Agent': `${pkg.name}/${pkg.version} (${pkg.homepage})`,\n    'Accept-Encoding': 'identity',\n  },\n  timeout: 3500,\n});\n\nfunction send(req, body, contentType) {\n  if (contentType) {\n    req.removeHeader('content-type');\n    req.setHeader('content-type', contentType);\n  }\n  if (body) {\n    req.removeHeader('content-length');\n    req.setHeader('content-length', Buffer.byteLength(body));\n    req.write(body);\n  }\n  req.end();\n}\n\nconst nonces = new LRU({ max: 100 });\n\nmodule.exports = async function request(options, { accessToken, mTLS = false, DPoP } = {}) {\n  let url;\n  try {\n    url = new URL(options.url);\n    delete options.url;\n    assert(/^(https?:)$/.test(url.protocol));\n  } catch (err) {\n    throw new TypeError('only valid absolute URLs can be requested');\n  }\n  const optsFn = this[HTTP_OPTIONS];\n  let opts = options;\n\n  const nonceKey = `${url.origin}${url.pathname}`;\n  if (DPoP && 'dpopProof' in this) {\n    opts.headers = opts.headers || {};\n    opts.headers.DPoP = await this.dpopProof(\n      {\n        htu: `${url.origin}${url.pathname}`,\n        htm: options.method || 'GET',\n        nonce: nonces.get(nonceKey),\n      },\n      DPoP,\n      accessToken,\n    );\n  }\n\n  let userOptions;\n  if (optsFn) {\n    userOptions = pick(\n      optsFn.call(this, url, defaultsDeep({}, opts, DEFAULT_HTTP_OPTIONS)),\n      ...allowed,\n    );\n  }\n  opts = defaultsDeep({}, userOptions, opts, DEFAULT_HTTP_OPTIONS);\n\n  if (mTLS && !opts.pfx && !(opts.key && opts.cert)) {\n    throw new TypeError('mutual-TLS certificate and key not set');\n  }\n\n  if (opts.searchParams) {\n    for (const [key, value] of Object.entries(opts.searchParams)) {\n      url.searchParams.delete(key);\n      url.searchParams.set(key, value);\n    }\n  }\n\n  let responseType;\n  let form;\n  let json;\n  let body;\n  ({ form, responseType, json, body, ...opts } = opts);\n\n  for (const [key, value] of Object.entries(opts.headers || {})) {\n    if (value === undefined) {\n      delete opts.headers[key];\n    }\n  }\n\n  let response;\n  const req = (url.protocol === 'https:' ? https.request : http.request)(url.href, opts);\n  return (async () => {\n    if (json) {\n      send(req, JSON.stringify(json), 'application/json');\n    } else if (form) {\n      send(req, querystring.stringify(form), 'application/x-www-form-urlencoded');\n    } else if (body) {\n      send(req, body);\n    } else {\n      send(req);\n    }\n\n    [response] = await Promise.race([once(req, 'response'), once(req, 'timeout')]);\n\n    // timeout reached\n    if (!response) {\n      req.destroy();\n      throw new RPError(`outgoing request timed out after ${opts.timeout}ms`);\n    }\n\n    const parts = [];\n\n    for await (const part of response) {\n      parts.push(part);\n    }\n\n    if (parts.length) {\n      switch (responseType) {\n        case 'json': {\n          Object.defineProperty(response, 'body', {\n            get() {\n              let value = Buffer.concat(parts);\n              try {\n                value = JSON.parse(value);\n              } catch (err) {\n                Object.defineProperty(err, 'response', { value: response });\n                throw err;\n              } finally {\n                Object.defineProperty(response, 'body', { value, configurable: true });\n              }\n              return value;\n            },\n            configurable: true,\n          });\n          break;\n        }\n        case undefined:\n        case 'buffer': {\n          Object.defineProperty(response, 'body', {\n            get() {\n              const value = Buffer.concat(parts);\n              Object.defineProperty(response, 'body', { value, configurable: true });\n              return value;\n            },\n            configurable: true,\n          });\n          break;\n        }\n        default:\n          throw new TypeError('unsupported responseType request option');\n      }\n    }\n\n    return response;\n  })()\n    .catch((err) => {\n      if (response) Object.defineProperty(err, 'response', { value: response });\n      throw err;\n    })\n    .finally(() => {\n      const dpopNonce = response && response.headers['dpop-nonce'];\n      if (dpopNonce && NQCHAR.test(dpopNonce)) {\n        nonces.set(nonceKey, dpopNonce);\n      }\n    });\n};\n\nmodule.exports.setDefaults = setDefaults.bind(undefined, allowed);\n","module.exports.keystores = new WeakMap();\n","module.exports = globalThis.structuredClone || ((obj) => JSON.parse(JSON.stringify(obj)));\n","const jose = require('jose');\n\nconst clone = require('./deep_clone');\nconst isPlainObject = require('./is_plain_object');\n\nconst internal = Symbol();\n\nconst keyscore = (key, { alg, use }) => {\n  let score = 0;\n\n  if (alg && key.alg) {\n    score++;\n  }\n\n  if (use && key.use) {\n    score++;\n  }\n\n  return score;\n};\n\nfunction getKtyFromAlg(alg) {\n  switch (typeof alg === 'string' && alg.slice(0, 2)) {\n    case 'RS':\n    case 'PS':\n      return 'RSA';\n    case 'ES':\n      return 'EC';\n    case 'Ed':\n      return 'OKP';\n    default:\n      return undefined;\n  }\n}\n\nfunction getAlgorithms(use, alg, kty, crv) {\n  // Ed25519, Ed448, and secp256k1 always have \"alg\"\n  // OKP always has \"use\"\n  if (alg) {\n    return new Set([alg]);\n  }\n\n  switch (kty) {\n    case 'EC': {\n      let algs = [];\n\n      if (use === 'enc' || use === undefined) {\n        algs = algs.concat(['ECDH-ES', 'ECDH-ES+A128KW', 'ECDH-ES+A192KW', 'ECDH-ES+A256KW']);\n      }\n\n      if (use === 'sig' || use === undefined) {\n        switch (crv) {\n          case 'P-256':\n          case 'P-384':\n            algs = algs.concat([`ES${crv.slice(-3)}`]);\n            break;\n          case 'P-521':\n            algs = algs.concat(['ES512']);\n            break;\n          case 'secp256k1':\n            if (jose.cryptoRuntime === 'node:crypto') {\n              algs = algs.concat(['ES256K']);\n            }\n            break;\n        }\n      }\n\n      return new Set(algs);\n    }\n    case 'OKP': {\n      return new Set(['ECDH-ES', 'ECDH-ES+A128KW', 'ECDH-ES+A192KW', 'ECDH-ES+A256KW']);\n    }\n    case 'RSA': {\n      let algs = [];\n\n      if (use === 'enc' || use === undefined) {\n        algs = algs.concat(['RSA-OAEP', 'RSA-OAEP-256', 'RSA-OAEP-384', 'RSA-OAEP-512']);\n        if (jose.cryptoRuntime === 'node:crypto') {\n          algs = algs.concat(['RSA1_5']);\n        }\n      }\n\n      if (use === 'sig' || use === undefined) {\n        algs = algs.concat(['PS256', 'PS384', 'PS512', 'RS256', 'RS384', 'RS512']);\n      }\n\n      return new Set(algs);\n    }\n    default:\n      throw new Error('unreachable');\n  }\n}\n\nmodule.exports = class KeyStore {\n  #keys;\n\n  constructor(i, keys) {\n    if (i !== internal) throw new Error('invalid constructor call');\n    this.#keys = keys;\n  }\n\n  toJWKS() {\n    return {\n      keys: this.map(({ jwk: { d, p, q, dp, dq, qi, ...jwk } }) => jwk),\n    };\n  }\n\n  all({ alg, kid, use } = {}) {\n    if (!use || !alg) {\n      throw new Error();\n    }\n\n    const kty = getKtyFromAlg(alg);\n\n    const search = { alg, use };\n    return this.filter((key) => {\n      let candidate = true;\n\n      if (candidate && kty !== undefined && key.jwk.kty !== kty) {\n        candidate = false;\n      }\n\n      if (candidate && kid !== undefined && key.jwk.kid !== kid) {\n        candidate = false;\n      }\n\n      if (candidate && use !== undefined && key.jwk.use !== undefined && key.jwk.use !== use) {\n        candidate = false;\n      }\n\n      if (candidate && key.jwk.alg && key.jwk.alg !== alg) {\n        candidate = false;\n      } else if (!key.algorithms.has(alg)) {\n        candidate = false;\n      }\n\n      return candidate;\n    }).sort((first, second) => keyscore(second, search) - keyscore(first, search));\n  }\n\n  get(...args) {\n    return this.all(...args)[0];\n  }\n\n  static async fromJWKS(jwks, { onlyPublic = false, onlyPrivate = false } = {}) {\n    if (\n      !isPlainObject(jwks) ||\n      !Array.isArray(jwks.keys) ||\n      jwks.keys.some((k) => !isPlainObject(k) || !('kty' in k))\n    ) {\n      throw new TypeError('jwks must be a JSON Web Key Set formatted object');\n    }\n\n    const keys = [];\n\n    for (let jwk of jwks.keys) {\n      jwk = clone(jwk);\n      const { kty, kid, crv } = jwk;\n\n      let { alg, use } = jwk;\n\n      if (typeof kty !== 'string' || !kty) {\n        continue;\n      }\n\n      if (use !== undefined && use !== 'sig' && use !== 'enc') {\n        continue;\n      }\n\n      if (typeof alg !== 'string' && alg !== undefined) {\n        continue;\n      }\n\n      if (typeof kid !== 'string' && kid !== undefined) {\n        continue;\n      }\n\n      if (kty === 'EC' && use === 'sig') {\n        switch (crv) {\n          case 'P-256':\n            alg = 'ES256';\n            break;\n          case 'P-384':\n            alg = 'ES384';\n            break;\n          case 'P-521':\n            alg = 'ES512';\n            break;\n          default:\n            break;\n        }\n      }\n\n      if (crv === 'secp256k1') {\n        use = 'sig';\n        alg = 'ES256K';\n      }\n\n      if (kty === 'OKP') {\n        switch (crv) {\n          case 'Ed25519':\n          case 'Ed448':\n            use = 'sig';\n            alg = 'EdDSA';\n            break;\n          case 'X25519':\n          case 'X448':\n            use = 'enc';\n            break;\n          default:\n            break;\n        }\n      }\n\n      if (alg && !use) {\n        switch (true) {\n          case alg.startsWith('ECDH'):\n            use = 'enc';\n            break;\n          case alg.startsWith('RSA'):\n            use = 'enc';\n            break;\n          default:\n            break;\n        }\n      }\n\n      if (onlyPrivate && (jwk.kty === 'oct' || !jwk.d)) {\n        throw new Error('jwks must only contain private keys');\n      }\n\n      if (onlyPublic && (jwk.d || jwk.k)) {\n        continue;\n      }\n\n      keys.push({\n        jwk: { ...jwk, alg, use },\n        async keyObject(alg) {\n          if (this[alg]) {\n            return this[alg];\n          }\n\n          const keyObject = await jose.importJWK(this.jwk, alg);\n          this[alg] = keyObject;\n          return keyObject;\n        },\n        get algorithms() {\n          Object.defineProperty(this, 'algorithms', {\n            value: getAlgorithms(this.jwk.use, this.jwk.alg, this.jwk.kty, this.jwk.crv),\n            enumerable: true,\n            configurable: false,\n          });\n          return this.algorithms;\n        },\n      });\n    }\n\n    return new this(internal, keys);\n  }\n\n  filter(...args) {\n    return this.#keys.filter(...args);\n  }\n\n  find(...args) {\n    return this.#keys.find(...args);\n  }\n\n  every(...args) {\n    return this.#keys.every(...args);\n  }\n\n  some(...args) {\n    return this.#keys.some(...args);\n  }\n\n  map(...args) {\n    return this.#keys.map(...args);\n  }\n\n  forEach(...args) {\n    return this.#keys.forEach(...args);\n  }\n\n  reduce(...args) {\n    return this.#keys.reduce(...args);\n  }\n\n  sort(...args) {\n    return this.#keys.sort(...args);\n  }\n\n  *[Symbol.iterator]() {\n    for (const key of this.#keys) {\n      yield key;\n    }\n  }\n};\n","const isPlainObject = require('./is_plain_object');\n\nfunction merge(target, ...sources) {\n  for (const source of sources) {\n    if (!isPlainObject(source)) {\n      continue;\n    }\n    for (const [key, value] of Object.entries(source)) {\n      /* istanbul ignore if */\n      if (key === '__proto__' || key === 'constructor') {\n        continue;\n      }\n      if (isPlainObject(target[key]) && isPlainObject(value)) {\n        target[key] = merge(target[key], value);\n      } else if (typeof value !== 'undefined') {\n        target[key] = value;\n      }\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = merge;\n","const jose = require('jose');\n\nconst { RPError } = require('../errors');\n\nconst { assertIssuerConfiguration } = require('./assert');\nconst { random } = require('./generators');\nconst now = require('./unix_timestamp');\nconst request = require('./request');\nconst { keystores } = require('./weak_cache');\nconst merge = require('./merge');\n\n// TODO: in v6.x additionally encode the `- _ . ! ~ * ' ( )` characters\n// https://github.com/panva/node-openid-client/commit/5a2ea80ef5e59ec0c03dbd97d82f551e24a9d348\nconst formUrlEncode = (value) => encodeURIComponent(value).replace(/%20/g, '+');\n\nasync function clientAssertion(endpoint, payload) {\n  let alg = this[`${endpoint}_endpoint_auth_signing_alg`];\n  if (!alg) {\n    assertIssuerConfiguration(\n      this.issuer,\n      `${endpoint}_endpoint_auth_signing_alg_values_supported`,\n    );\n  }\n\n  if (this[`${endpoint}_endpoint_auth_method`] === 'client_secret_jwt') {\n    if (!alg) {\n      const supported = this.issuer[`${endpoint}_endpoint_auth_signing_alg_values_supported`];\n      alg =\n        Array.isArray(supported) && supported.find((signAlg) => /^HS(?:256|384|512)/.test(signAlg));\n    }\n\n    if (!alg) {\n      throw new RPError(\n        `failed to determine a JWS Algorithm to use for ${\n          this[`${endpoint}_endpoint_auth_method`]\n        } Client Assertion`,\n      );\n    }\n\n    return new jose.CompactSign(Buffer.from(JSON.stringify(payload)))\n      .setProtectedHeader({ alg })\n      .sign(this.secretForAlg(alg));\n  }\n\n  const keystore = await keystores.get(this);\n\n  if (!keystore) {\n    throw new TypeError('no client jwks provided for signing a client assertion with');\n  }\n\n  if (!alg) {\n    const supported = this.issuer[`${endpoint}_endpoint_auth_signing_alg_values_supported`];\n    alg =\n      Array.isArray(supported) &&\n      supported.find((signAlg) => keystore.get({ alg: signAlg, use: 'sig' }));\n  }\n\n  if (!alg) {\n    throw new RPError(\n      `failed to determine a JWS Algorithm to use for ${\n        this[`${endpoint}_endpoint_auth_method`]\n      } Client Assertion`,\n    );\n  }\n\n  const key = keystore.get({ alg, use: 'sig' });\n  if (!key) {\n    throw new RPError(\n      `no key found in client jwks to sign a client assertion with using alg ${alg}`,\n    );\n  }\n\n  return new jose.CompactSign(Buffer.from(JSON.stringify(payload)))\n    .setProtectedHeader({ alg, kid: key.jwk && key.jwk.kid })\n    .sign(await key.keyObject(alg));\n}\n\nasync function authFor(endpoint, { clientAssertionPayload } = {}) {\n  const authMethod = this[`${endpoint}_endpoint_auth_method`];\n  switch (authMethod) {\n    case 'self_signed_tls_client_auth':\n    case 'tls_client_auth':\n    case 'none':\n      return { form: { client_id: this.client_id } };\n    case 'client_secret_post':\n      if (typeof this.client_secret !== 'string') {\n        throw new TypeError(\n          'client_secret_post client authentication method requires a client_secret',\n        );\n      }\n      return { form: { client_id: this.client_id, client_secret: this.client_secret } };\n    case 'private_key_jwt':\n    case 'client_secret_jwt': {\n      const timestamp = now();\n\n      const assertion = await clientAssertion.call(this, endpoint, {\n        iat: timestamp,\n        exp: timestamp + 60,\n        jti: random(),\n        iss: this.client_id,\n        sub: this.client_id,\n        aud: this.issuer.issuer,\n        ...clientAssertionPayload,\n      });\n\n      return {\n        form: {\n          client_id: this.client_id,\n          client_assertion: assertion,\n          client_assertion_type: 'urn:ietf:params:oauth:client-assertion-type:jwt-bearer',\n        },\n      };\n    }\n    case 'client_secret_basic': {\n      // This is correct behaviour, see https://tools.ietf.org/html/rfc6749#section-2.3.1 and the\n      // related appendix. (also https://github.com/panva/node-openid-client/pull/91)\n      // > The client identifier is encoded using the\n      // > \"application/x-www-form-urlencoded\" encoding algorithm per\n      // > Appendix B, and the encoded value is used as the username; the client\n      // > password is encoded using the same algorithm and used as the\n      // > password.\n      if (typeof this.client_secret !== 'string') {\n        throw new TypeError(\n          'client_secret_basic client authentication method requires a client_secret',\n        );\n      }\n      const encoded = `${formUrlEncode(this.client_id)}:${formUrlEncode(this.client_secret)}`;\n      const value = Buffer.from(encoded).toString('base64');\n      return { headers: { Authorization: `Basic ${value}` } };\n    }\n    default: {\n      throw new TypeError(`missing, or unsupported, ${endpoint}_endpoint_auth_method`);\n    }\n  }\n}\n\nfunction resolveResponseType() {\n  const { length, 0: value } = this.response_types;\n\n  if (length === 1) {\n    return value;\n  }\n\n  return undefined;\n}\n\nfunction resolveRedirectUri() {\n  const { length, 0: value } = this.redirect_uris || [];\n\n  if (length === 1) {\n    return value;\n  }\n\n  return undefined;\n}\n\nasync function authenticatedPost(\n  endpoint,\n  opts,\n  { clientAssertionPayload, endpointAuthMethod = endpoint, DPoP } = {},\n) {\n  const auth = await authFor.call(this, endpointAuthMethod, { clientAssertionPayload });\n  const requestOpts = merge(opts, auth);\n\n  const mTLS =\n    this[`${endpointAuthMethod}_endpoint_auth_method`].includes('tls_client_auth') ||\n    (endpoint === 'token' && this.tls_client_certificate_bound_access_tokens);\n\n  let targetUrl;\n  if (mTLS && this.issuer.mtls_endpoint_aliases) {\n    targetUrl = this.issuer.mtls_endpoint_aliases[`${endpoint}_endpoint`];\n  }\n\n  targetUrl = targetUrl || this.issuer[`${endpoint}_endpoint`];\n\n  if ('form' in requestOpts) {\n    for (const [key, value] of Object.entries(requestOpts.form)) {\n      if (typeof value === 'undefined') {\n        delete requestOpts.form[key];\n      }\n    }\n  }\n\n  return request.call(\n    this,\n    {\n      ...requestOpts,\n      method: 'POST',\n      url: targetUrl,\n      headers: {\n        ...(endpoint !== 'revocation'\n          ? {\n              Accept: 'application/json',\n            }\n          : undefined),\n        ...requestOpts.headers,\n      },\n    },\n    { mTLS, DPoP },\n  );\n}\n\nmodule.exports = {\n  resolveResponseType,\n  resolveRedirectUri,\n  authFor,\n  authenticatedPost,\n};\n","'use strict';\n\nvar crypto = require('crypto');\n\n/**\n * Exported function\n *\n * Options:\n *\n *  - `algorithm` hash algo to be used by this instance: *'sha1', 'md5'\n *  - `excludeValues` {true|*false} hash object keys, values ignored\n *  - `encoding` hash encoding, supports 'buffer', '*hex', 'binary', 'base64'\n *  - `ignoreUnknown` {true|*false} ignore unknown object types\n *  - `replacer` optional function that replaces values before hashing\n *  - `respectFunctionProperties` {*true|false} consider function properties when hashing\n *  - `respectFunctionNames` {*true|false} consider 'name' property of functions for hashing\n *  - `respectType` {*true|false} Respect special properties (prototype, constructor)\n *    when hashing to distinguish between types\n *  - `unorderedArrays` {true|*false} Sort all arrays before hashing\n *  - `unorderedSets` {*true|false} Sort `Set` and `Map` instances before hashing\n *  * = default\n *\n * @param {object} object value to hash\n * @param {object} options hashing options\n * @return {string} hash value\n * @api public\n */\nexports = module.exports = objectHash;\n\nfunction objectHash(object, options){\n  options = applyDefaults(object, options);\n\n  return hash(object, options);\n}\n\n/**\n * Exported sugar methods\n *\n * @param {object} object value to hash\n * @return {string} hash value\n * @api public\n */\nexports.sha1 = function(object){\n  return objectHash(object);\n};\nexports.keys = function(object){\n  return objectHash(object, {excludeValues: true, algorithm: 'sha1', encoding: 'hex'});\n};\nexports.MD5 = function(object){\n  return objectHash(object, {algorithm: 'md5', encoding: 'hex'});\n};\nexports.keysMD5 = function(object){\n  return objectHash(object, {algorithm: 'md5', encoding: 'hex', excludeValues: true});\n};\n\n// Internals\nvar hashes = crypto.getHashes ? crypto.getHashes().slice() : ['sha1', 'md5'];\nhashes.push('passthrough');\nvar encodings = ['buffer', 'hex', 'binary', 'base64'];\n\nfunction applyDefaults(object, sourceOptions){\n  sourceOptions = sourceOptions || {};\n\n  // create a copy rather than mutating\n  var options = {};\n  options.algorithm = sourceOptions.algorithm || 'sha1';\n  options.encoding = sourceOptions.encoding || 'hex';\n  options.excludeValues = sourceOptions.excludeValues ? true : false;\n  options.algorithm = options.algorithm.toLowerCase();\n  options.encoding = options.encoding.toLowerCase();\n  options.ignoreUnknown = sourceOptions.ignoreUnknown !== true ? false : true; // default to false\n  options.respectType = sourceOptions.respectType === false ? false : true; // default to true\n  options.respectFunctionNames = sourceOptions.respectFunctionNames === false ? false : true;\n  options.respectFunctionProperties = sourceOptions.respectFunctionProperties === false ? false : true;\n  options.unorderedArrays = sourceOptions.unorderedArrays !== true ? false : true; // default to false\n  options.unorderedSets = sourceOptions.unorderedSets === false ? false : true; // default to false\n  options.unorderedObjects = sourceOptions.unorderedObjects === false ? false : true; // default to true\n  options.replacer = sourceOptions.replacer || undefined;\n  options.excludeKeys = sourceOptions.excludeKeys || undefined;\n\n  if(typeof object === 'undefined') {\n    throw new Error('Object argument required.');\n  }\n\n  // if there is a case-insensitive match in the hashes list, accept it\n  // (i.e. SHA256 for sha256)\n  for (var i = 0; i < hashes.length; ++i) {\n    if (hashes[i].toLowerCase() === options.algorithm.toLowerCase()) {\n      options.algorithm = hashes[i];\n    }\n  }\n\n  if(hashes.indexOf(options.algorithm) === -1){\n    throw new Error('Algorithm \"' + options.algorithm + '\"  not supported. ' +\n      'supported values: ' + hashes.join(', '));\n  }\n\n  if(encodings.indexOf(options.encoding) === -1 &&\n     options.algorithm !== 'passthrough'){\n    throw new Error('Encoding \"' + options.encoding + '\"  not supported. ' +\n      'supported values: ' + encodings.join(', '));\n  }\n\n  return options;\n}\n\n/** Check if the given function is a native function */\nfunction isNativeFunction(f) {\n  if ((typeof f) !== 'function') {\n    return false;\n  }\n  var exp = /^function\\s+\\w*\\s*\\(\\s*\\)\\s*{\\s+\\[native code\\]\\s+}$/i;\n  return exp.exec(Function.prototype.toString.call(f)) != null;\n}\n\nfunction hash(object, options) {\n  var hashingStream;\n\n  if (options.algorithm !== 'passthrough') {\n    hashingStream = crypto.createHash(options.algorithm);\n  } else {\n    hashingStream = new PassThrough();\n  }\n\n  if (typeof hashingStream.write === 'undefined') {\n    hashingStream.write = hashingStream.update;\n    hashingStream.end   = hashingStream.update;\n  }\n\n  var hasher = typeHasher(options, hashingStream);\n  hasher.dispatch(object);\n  if (!hashingStream.update) {\n    hashingStream.end('');\n  }\n\n  if (hashingStream.digest) {\n    return hashingStream.digest(options.encoding === 'buffer' ? undefined : options.encoding);\n  }\n\n  var buf = hashingStream.read();\n  if (options.encoding === 'buffer') {\n    return buf;\n  }\n\n  return buf.toString(options.encoding);\n}\n\n/**\n * Expose streaming API\n *\n * @param {object} object  Value to serialize\n * @param {object} options  Options, as for hash()\n * @param {object} stream  A stream to write the serializiation to\n * @api public\n */\nexports.writeToStream = function(object, options, stream) {\n  if (typeof stream === 'undefined') {\n    stream = options;\n    options = {};\n  }\n\n  options = applyDefaults(object, options);\n\n  return typeHasher(options, stream).dispatch(object);\n};\n\nfunction typeHasher(options, writeTo, context){\n  context = context || [];\n  var write = function(str) {\n    if (writeTo.update) {\n      return writeTo.update(str, 'utf8');\n    } else {\n      return writeTo.write(str, 'utf8');\n    }\n  };\n\n  return {\n    dispatch: function(value){\n      if (options.replacer) {\n        value = options.replacer(value);\n      }\n\n      var type = typeof value;\n      if (value === null) {\n        type = 'null';\n      }\n\n      //console.log(\"[DEBUG] Dispatch: \", value, \"->\", type, \" -> \", \"_\" + type);\n\n      return this['_' + type](value);\n    },\n    _object: function(object) {\n      var pattern = (/\\[object (.*)\\]/i);\n      var objString = Object.prototype.toString.call(object);\n      var objType = pattern.exec(objString);\n      if (!objType) { // object type did not match [object ...]\n        objType = 'unknown:[' + objString + ']';\n      } else {\n        objType = objType[1]; // take only the class name\n      }\n\n      objType = objType.toLowerCase();\n\n      var objectNumber = null;\n\n      if ((objectNumber = context.indexOf(object)) >= 0) {\n        return this.dispatch('[CIRCULAR:' + objectNumber + ']');\n      } else {\n        context.push(object);\n      }\n\n      if (typeof Buffer !== 'undefined' && Buffer.isBuffer && Buffer.isBuffer(object)) {\n        write('buffer:');\n        return write(object);\n      }\n\n      if(objType !== 'object' && objType !== 'function' && objType !== 'asyncfunction') {\n        if(this['_' + objType]) {\n          this['_' + objType](object);\n        } else if (options.ignoreUnknown) {\n          return write('[' + objType + ']');\n        } else {\n          throw new Error('Unknown object type \"' + objType + '\"');\n        }\n      }else{\n        var keys = Object.keys(object);\n        if (options.unorderedObjects) {\n          keys = keys.sort();\n        }\n        // Make sure to incorporate special properties, so\n        // Types with different prototypes will produce\n        // a different hash and objects derived from\n        // different functions (`new Foo`, `new Bar`) will\n        // produce different hashes.\n        // We never do this for native functions since some\n        // seem to break because of that.\n        if (options.respectType !== false && !isNativeFunction(object)) {\n          keys.splice(0, 0, 'prototype', '__proto__', 'constructor');\n        }\n\n        if (options.excludeKeys) {\n          keys = keys.filter(function(key) { return !options.excludeKeys(key); });\n        }\n\n        write('object:' + keys.length + ':');\n        var self = this;\n        return keys.forEach(function(key){\n          self.dispatch(key);\n          write(':');\n          if(!options.excludeValues) {\n            self.dispatch(object[key]);\n          }\n          write(',');\n        });\n      }\n    },\n    _array: function(arr, unordered){\n      unordered = typeof unordered !== 'undefined' ? unordered :\n        options.unorderedArrays !== false; // default to options.unorderedArrays\n\n      var self = this;\n      write('array:' + arr.length + ':');\n      if (!unordered || arr.length <= 1) {\n        return arr.forEach(function(entry) {\n          return self.dispatch(entry);\n        });\n      }\n\n      // the unordered case is a little more complicated:\n      // since there is no canonical ordering on objects,\n      // i.e. {a:1} < {a:2} and {a:1} > {a:2} are both false,\n      // we first serialize each entry using a PassThrough stream\n      // before sorting.\n      // also: we cant use the same context array for all entries\n      // since the order of hashing should *not* matter. instead,\n      // we keep track of the additions to a copy of the context array\n      // and add all of them to the global context array when were done\n      var contextAdditions = [];\n      var entries = arr.map(function(entry) {\n        var strm = new PassThrough();\n        var localContext = context.slice(); // make copy\n        var hasher = typeHasher(options, strm, localContext);\n        hasher.dispatch(entry);\n        // take only what was added to localContext and append it to contextAdditions\n        contextAdditions = contextAdditions.concat(localContext.slice(context.length));\n        return strm.read().toString();\n      });\n      context = context.concat(contextAdditions);\n      entries.sort();\n      return this._array(entries, false);\n    },\n    _date: function(date){\n      return write('date:' + date.toJSON());\n    },\n    _symbol: function(sym){\n      return write('symbol:' + sym.toString());\n    },\n    _error: function(err){\n      return write('error:' + err.toString());\n    },\n    _boolean: function(bool){\n      return write('bool:' + bool.toString());\n    },\n    _string: function(string){\n      write('string:' + string.length + ':');\n      write(string.toString());\n    },\n    _function: function(fn){\n      write('fn:');\n      if (isNativeFunction(fn)) {\n        this.dispatch('[native]');\n      } else {\n        this.dispatch(fn.toString());\n      }\n\n      if (options.respectFunctionNames !== false) {\n        // Make sure we can still distinguish native functions\n        // by their name, otherwise String and Function will\n        // have the same hash\n        this.dispatch(\"function-name:\" + String(fn.name));\n      }\n\n      if (options.respectFunctionProperties) {\n        this._object(fn);\n      }\n    },\n    _number: function(number){\n      return write('number:' + number.toString());\n    },\n    _xml: function(xml){\n      return write('xml:' + xml.toString());\n    },\n    _null: function() {\n      return write('Null');\n    },\n    _undefined: function() {\n      return write('Undefined');\n    },\n    _regexp: function(regex){\n      return write('regex:' + regex.toString());\n    },\n    _uint8array: function(arr){\n      write('uint8array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint8clampedarray: function(arr){\n      write('uint8clampedarray:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int8array: function(arr){\n      write('uint8array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint16array: function(arr){\n      write('uint16array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int16array: function(arr){\n      write('uint16array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint32array: function(arr){\n      write('uint32array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int32array: function(arr){\n      write('uint32array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _float32array: function(arr){\n      write('float32array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _float64array: function(arr){\n      write('float64array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _arraybuffer: function(arr){\n      write('arraybuffer:');\n      return this.dispatch(new Uint8Array(arr));\n    },\n    _url: function(url) {\n      return write('url:' + url.toString(), 'utf8');\n    },\n    _map: function(map) {\n      write('map:');\n      var arr = Array.from(map);\n      return this._array(arr, options.unorderedSets !== false);\n    },\n    _set: function(set) {\n      write('set:');\n      var arr = Array.from(set);\n      return this._array(arr, options.unorderedSets !== false);\n    },\n    _file: function(file) {\n      write('file:');\n      return this.dispatch([file.name, file.size, file.type, file.lastModfied]);\n    },\n    _blob: function() {\n      if (options.ignoreUnknown) {\n        return write('[blob]');\n      }\n\n      throw Error('Hashing Blob objects is currently not supported\\n' +\n        '(see https://github.com/puleos/object-hash/issues/26)\\n' +\n        'Use \"options.replacer\" or \"options.ignoreUnknown\"\\n');\n    },\n    _domwindow: function() { return write('domwindow'); },\n    _bigint: function(number){\n      return write('bigint:' + number.toString());\n    },\n    /* Node.js standard native objects */\n    _process: function() { return write('process'); },\n    _timer: function() { return write('timer'); },\n    _pipe: function() { return write('pipe'); },\n    _tcp: function() { return write('tcp'); },\n    _udp: function() { return write('udp'); },\n    _tty: function() { return write('tty'); },\n    _statwatcher: function() { return write('statwatcher'); },\n    _securecontext: function() { return write('securecontext'); },\n    _connection: function() { return write('connection'); },\n    _zlib: function() { return write('zlib'); },\n    _context: function() { return write('context'); },\n    _nodescript: function() { return write('nodescript'); },\n    _httpparser: function() { return write('httpparser'); },\n    _dataview: function() { return write('dataview'); },\n    _signal: function() { return write('signal'); },\n    _fsevent: function() { return write('fsevent'); },\n    _tlswrap: function() { return write('tlswrap'); },\n  };\n}\n\n// Mini-implementation of stream.PassThrough\n// We are far from having need for the full implementation, and we can\n// make assumptions like \"many writes, then only one final read\"\n// and we can ignore encoding specifics\nfunction PassThrough() {\n  return {\n    buf: '',\n\n    write: function(b) {\n      this.buf += b;\n    },\n\n    end: function(b) {\n      this.buf += b;\n    },\n\n    read: function() {\n      return this.buf;\n    }\n  };\n}\n","const objectHash = require('object-hash');\nconst LRU = require('lru-cache');\n\nconst { RPError } = require('../errors');\n\nconst { assertIssuerConfiguration } = require('./assert');\nconst KeyStore = require('./keystore');\nconst { keystores } = require('./weak_cache');\nconst processResponse = require('./process_response');\nconst request = require('./request');\n\nconst inFlight = new WeakMap();\nconst caches = new WeakMap();\nconst lrus = (ctx) => {\n  if (!caches.has(ctx)) {\n    caches.set(ctx, new LRU({ max: 100 }));\n  }\n  return caches.get(ctx);\n};\n\nasync function getKeyStore(reload = false) {\n  assertIssuerConfiguration(this, 'jwks_uri');\n\n  const keystore = keystores.get(this);\n  const cache = lrus(this);\n\n  if (reload || !keystore) {\n    if (inFlight.has(this)) {\n      return inFlight.get(this);\n    }\n    cache.reset();\n    inFlight.set(\n      this,\n      (async () => {\n        const response = await request\n          .call(this, {\n            method: 'GET',\n            responseType: 'json',\n            url: this.jwks_uri,\n            headers: {\n              Accept: 'application/json, application/jwk-set+json',\n            },\n          })\n          .finally(() => {\n            inFlight.delete(this);\n          });\n        const jwks = processResponse(response);\n\n        const joseKeyStore = KeyStore.fromJWKS(jwks, { onlyPublic: true });\n        cache.set('throttle', true, 60 * 1000);\n        keystores.set(this, joseKeyStore);\n\n        return joseKeyStore;\n      })(),\n    );\n\n    return inFlight.get(this);\n  }\n\n  return keystore;\n}\n\nasync function queryKeyStore({ kid, kty, alg, use }, { allowMulti = false } = {}) {\n  const cache = lrus(this);\n\n  const def = {\n    kid,\n    kty,\n    alg,\n    use,\n  };\n\n  const defHash = objectHash(def, {\n    algorithm: 'sha256',\n    ignoreUnknown: true,\n    unorderedArrays: true,\n    unorderedSets: true,\n    respectType: false,\n  });\n\n  // refresh keystore on every unknown key but also only upto once every minute\n  const freshJwksUri = cache.get(defHash) || cache.get('throttle');\n\n  const keystore = await getKeyStore.call(this, !freshJwksUri);\n  const keys = keystore.all(def);\n\n  delete def.use;\n  if (keys.length === 0) {\n    throw new RPError({\n      printf: [\"no valid key found in issuer's jwks_uri for key parameters %j\", def],\n      jwks: keystore,\n    });\n  }\n\n  if (!allowMulti && keys.length > 1 && !kid) {\n    throw new RPError({\n      printf: [\n        \"multiple matching keys found in issuer's jwks_uri for key parameters %j, kid must be provided in this case\",\n        def,\n      ],\n      jwks: keystore,\n    });\n  }\n\n  cache.set(defHash, true);\n\n  return keys;\n}\n\nmodule.exports.queryKeyStore = queryKeyStore;\nmodule.exports.keystore = getKeyStore;\n","const { inspect } = require('util');\n\nconst { RPError, OPError } = require('./errors');\nconst now = require('./helpers/unix_timestamp');\n\nclass DeviceFlowHandle {\n  #aborted;\n  #client;\n  #clientAssertionPayload;\n  #DPoP;\n  #exchangeBody;\n  #expires_at;\n  #interval;\n  #maxAge;\n  #response;\n  constructor({ client, exchangeBody, clientAssertionPayload, response, maxAge, DPoP }) {\n    ['verification_uri', 'user_code', 'device_code'].forEach((prop) => {\n      if (typeof response[prop] !== 'string' || !response[prop]) {\n        throw new RPError(\n          `expected ${prop} string to be returned by Device Authorization Response, got %j`,\n          response[prop],\n        );\n      }\n    });\n\n    if (!Number.isSafeInteger(response.expires_in)) {\n      throw new RPError(\n        'expected expires_in number to be returned by Device Authorization Response, got %j',\n        response.expires_in,\n      );\n    }\n\n    this.#expires_at = now() + response.expires_in;\n    this.#client = client;\n    this.#DPoP = DPoP;\n    this.#maxAge = maxAge;\n    this.#exchangeBody = exchangeBody;\n    this.#clientAssertionPayload = clientAssertionPayload;\n    this.#response = response;\n    this.#interval = response.interval * 1000 || 5000;\n  }\n\n  abort() {\n    this.#aborted = true;\n  }\n\n  async poll({ signal } = {}) {\n    if ((signal && signal.aborted) || this.#aborted) {\n      throw new RPError('polling aborted');\n    }\n\n    if (this.expired()) {\n      throw new RPError(\n        'the device code %j has expired and the device authorization session has concluded',\n        this.device_code,\n      );\n    }\n\n    await new Promise((resolve) => setTimeout(resolve, this.#interval));\n\n    let tokenset;\n    try {\n      tokenset = await this.#client.grant(\n        {\n          ...this.#exchangeBody,\n          grant_type: 'urn:ietf:params:oauth:grant-type:device_code',\n          device_code: this.device_code,\n        },\n        { clientAssertionPayload: this.#clientAssertionPayload, DPoP: this.#DPoP },\n      );\n    } catch (err) {\n      switch (err instanceof OPError && err.error) {\n        case 'slow_down':\n          this.#interval += 5000;\n        case 'authorization_pending':\n          return this.poll({ signal });\n        default:\n          throw err;\n      }\n    }\n\n    if ('id_token' in tokenset) {\n      await this.#client.decryptIdToken(tokenset);\n      await this.#client.validateIdToken(tokenset, undefined, 'token', this.#maxAge);\n    }\n\n    return tokenset;\n  }\n\n  get device_code() {\n    return this.#response.device_code;\n  }\n\n  get user_code() {\n    return this.#response.user_code;\n  }\n\n  get verification_uri() {\n    return this.#response.verification_uri;\n  }\n\n  get verification_uri_complete() {\n    return this.#response.verification_uri_complete;\n  }\n\n  get expires_in() {\n    return Math.max.apply(null, [this.#expires_at - now(), 0]);\n  }\n\n  expired() {\n    return this.expires_in === 0;\n  }\n\n  /* istanbul ignore next */\n  [inspect.custom]() {\n    return `${this.constructor.name} ${inspect(this.#response, {\n      depth: Infinity,\n      colors: process.stdout.isTTY,\n      compact: false,\n      sorted: true,\n    })}`;\n  }\n}\n\nmodule.exports = DeviceFlowHandle;\n","const { inspect } = require('util');\nconst stdhttp = require('http');\nconst crypto = require('crypto');\nconst { strict: assert } = require('assert');\nconst querystring = require('querystring');\nconst url = require('url');\nconst { URL, URLSearchParams } = require('url');\n\nconst jose = require('jose');\nconst tokenHash = require('oidc-token-hash');\n\nconst isKeyObject = require('./helpers/is_key_object');\nconst decodeJWT = require('./helpers/decode_jwt');\nconst base64url = require('./helpers/base64url');\nconst defaults = require('./helpers/defaults');\nconst parseWwwAuthenticate = require('./helpers/www_authenticate_parser');\nconst { assertSigningAlgValuesSupport, assertIssuerConfiguration } = require('./helpers/assert');\nconst pick = require('./helpers/pick');\nconst isPlainObject = require('./helpers/is_plain_object');\nconst processResponse = require('./helpers/process_response');\nconst TokenSet = require('./token_set');\nconst { OPError, RPError } = require('./errors');\nconst now = require('./helpers/unix_timestamp');\nconst { random } = require('./helpers/generators');\nconst request = require('./helpers/request');\nconst { CLOCK_TOLERANCE } = require('./helpers/consts');\nconst { keystores } = require('./helpers/weak_cache');\nconst KeyStore = require('./helpers/keystore');\nconst clone = require('./helpers/deep_clone');\nconst { authenticatedPost, resolveResponseType, resolveRedirectUri } = require('./helpers/client');\nconst { queryKeyStore } = require('./helpers/issuer');\nconst DeviceFlowHandle = require('./device_flow_handle');\n\nconst [major, minor] = process.version\n  .slice(1)\n  .split('.')\n  .map((str) => parseInt(str, 10));\n\nconst rsaPssParams = major >= 17 || (major === 16 && minor >= 9);\nconst retryAttempt = Symbol();\nconst skipNonceCheck = Symbol();\nconst skipMaxAgeCheck = Symbol();\n\nfunction pickCb(input) {\n  return pick(\n    input,\n    'access_token', // OAuth 2.0\n    'code', // OAuth 2.0\n    'error_description', // OAuth 2.0\n    'error_uri', // OAuth 2.0\n    'error', // OAuth 2.0\n    'expires_in', // OAuth 2.0\n    'id_token', // OIDC Core 1.0\n    'iss', // draft-ietf-oauth-iss-auth-resp\n    'response', // FAPI JARM\n    'session_state', // OIDC Session Management\n    'state', // OAuth 2.0\n    'token_type', // OAuth 2.0\n  );\n}\n\nfunction authorizationHeaderValue(token, tokenType = 'Bearer') {\n  return `${tokenType} ${token}`;\n}\n\nfunction getSearchParams(input) {\n  const parsed = url.parse(input);\n  if (!parsed.search) return {};\n  return querystring.parse(parsed.search.substring(1));\n}\n\nfunction verifyPresence(payload, jwt, prop) {\n  if (payload[prop] === undefined) {\n    throw new RPError({\n      message: `missing required JWT property ${prop}`,\n      jwt,\n    });\n  }\n}\n\nfunction authorizationParams(params) {\n  const authParams = {\n    client_id: this.client_id,\n    scope: 'openid',\n    response_type: resolveResponseType.call(this),\n    redirect_uri: resolveRedirectUri.call(this),\n    ...params,\n  };\n\n  Object.entries(authParams).forEach(([key, value]) => {\n    if (value === null || value === undefined) {\n      delete authParams[key];\n    } else if (key === 'claims' && typeof value === 'object') {\n      authParams[key] = JSON.stringify(value);\n    } else if (key === 'resource' && Array.isArray(value)) {\n      authParams[key] = value;\n    } else if (typeof value !== 'string') {\n      authParams[key] = String(value);\n    }\n  });\n\n  return authParams;\n}\n\nfunction getKeystore(jwks) {\n  if (\n    !isPlainObject(jwks) ||\n    !Array.isArray(jwks.keys) ||\n    jwks.keys.some((k) => !isPlainObject(k) || !('kty' in k))\n  ) {\n    throw new TypeError('jwks must be a JSON Web Key Set formatted object');\n  }\n\n  return KeyStore.fromJWKS(jwks, { onlyPrivate: true });\n}\n\n// if an OP doesnt support client_secret_basic but supports client_secret_post, use it instead\n// this is in place to take care of most common pitfalls when first using discovered Issuers without\n// the support for default values defined by Discovery 1.0\nfunction checkBasicSupport(client, properties) {\n  try {\n    const supported = client.issuer.token_endpoint_auth_methods_supported;\n    if (!supported.includes(properties.token_endpoint_auth_method)) {\n      if (supported.includes('client_secret_post')) {\n        properties.token_endpoint_auth_method = 'client_secret_post';\n      }\n    }\n  } catch (err) {}\n}\n\nfunction handleCommonMistakes(client, metadata, properties) {\n  if (!metadata.token_endpoint_auth_method) {\n    // if no explicit value was provided\n    checkBasicSupport(client, properties);\n  }\n\n  // :fp: c'mon people... RTFM\n  if (metadata.redirect_uri) {\n    if (metadata.redirect_uris) {\n      throw new TypeError('provide a redirect_uri or redirect_uris, not both');\n    }\n    properties.redirect_uris = [metadata.redirect_uri];\n    delete properties.redirect_uri;\n  }\n\n  if (metadata.response_type) {\n    if (metadata.response_types) {\n      throw new TypeError('provide a response_type or response_types, not both');\n    }\n    properties.response_types = [metadata.response_type];\n    delete properties.response_type;\n  }\n}\n\nfunction getDefaultsForEndpoint(endpoint, issuer, properties) {\n  if (!issuer[`${endpoint}_endpoint`]) return;\n\n  const tokenEndpointAuthMethod = properties.token_endpoint_auth_method;\n  const tokenEndpointAuthSigningAlg = properties.token_endpoint_auth_signing_alg;\n\n  const eam = `${endpoint}_endpoint_auth_method`;\n  const easa = `${endpoint}_endpoint_auth_signing_alg`;\n\n  if (properties[eam] === undefined && properties[easa] === undefined) {\n    if (tokenEndpointAuthMethod !== undefined) {\n      properties[eam] = tokenEndpointAuthMethod;\n    }\n    if (tokenEndpointAuthSigningAlg !== undefined) {\n      properties[easa] = tokenEndpointAuthSigningAlg;\n    }\n  }\n}\n\nclass BaseClient {\n  #metadata;\n  #issuer;\n  #aadIssValidation;\n  #additionalAuthorizedParties;\n  constructor(issuer, aadIssValidation, metadata = {}, jwks, options) {\n    this.#metadata = new Map();\n    this.#issuer = issuer;\n    this.#aadIssValidation = aadIssValidation;\n\n    if (typeof metadata.client_id !== 'string' || !metadata.client_id) {\n      throw new TypeError('client_id is required');\n    }\n\n    const properties = {\n      grant_types: ['authorization_code'],\n      id_token_signed_response_alg: 'RS256',\n      authorization_signed_response_alg: 'RS256',\n      response_types: ['code'],\n      token_endpoint_auth_method: 'client_secret_basic',\n      ...(this.fapi1()\n        ? {\n            grant_types: ['authorization_code', 'implicit'],\n            id_token_signed_response_alg: 'PS256',\n            authorization_signed_response_alg: 'PS256',\n            response_types: ['code id_token'],\n            tls_client_certificate_bound_access_tokens: true,\n            token_endpoint_auth_method: undefined,\n          }\n        : undefined),\n      ...(this.fapi2()\n        ? {\n            id_token_signed_response_alg: 'PS256',\n            authorization_signed_response_alg: 'PS256',\n            token_endpoint_auth_method: undefined,\n          }\n        : undefined),\n      ...metadata,\n    };\n\n    if (this.fapi()) {\n      switch (properties.token_endpoint_auth_method) {\n        case 'self_signed_tls_client_auth':\n        case 'tls_client_auth':\n          break;\n        case 'private_key_jwt':\n          if (!jwks) {\n            throw new TypeError('jwks is required');\n          }\n          break;\n        case undefined:\n          throw new TypeError('token_endpoint_auth_method is required');\n        default:\n          throw new TypeError('invalid or unsupported token_endpoint_auth_method');\n      }\n    }\n\n    if (this.fapi2()) {\n      if (\n        properties.tls_client_certificate_bound_access_tokens &&\n        properties.dpop_bound_access_tokens\n      ) {\n        throw new TypeError(\n          'either tls_client_certificate_bound_access_tokens or dpop_bound_access_tokens must be set to true',\n        );\n      }\n\n      if (\n        !properties.tls_client_certificate_bound_access_tokens &&\n        !properties.dpop_bound_access_tokens\n      ) {\n        throw new TypeError(\n          'either tls_client_certificate_bound_access_tokens or dpop_bound_access_tokens must be set to true',\n        );\n      }\n    }\n\n    handleCommonMistakes(this, metadata, properties);\n\n    assertSigningAlgValuesSupport('token', this.issuer, properties);\n    ['introspection', 'revocation'].forEach((endpoint) => {\n      getDefaultsForEndpoint(endpoint, this.issuer, properties);\n      assertSigningAlgValuesSupport(endpoint, this.issuer, properties);\n    });\n\n    Object.entries(properties).forEach(([key, value]) => {\n      this.#metadata.set(key, value);\n      if (!this[key]) {\n        Object.defineProperty(this, key, {\n          get() {\n            return this.#metadata.get(key);\n          },\n          enumerable: true,\n        });\n      }\n    });\n\n    if (jwks !== undefined) {\n      const keystore = getKeystore.call(this, jwks);\n      keystores.set(this, keystore);\n    }\n\n    if (options != null && options.additionalAuthorizedParties) {\n      this.#additionalAuthorizedParties = clone(options.additionalAuthorizedParties);\n    }\n\n    this[CLOCK_TOLERANCE] = 0;\n  }\n\n  authorizationUrl(params = {}) {\n    if (!isPlainObject(params)) {\n      throw new TypeError('params must be a plain object');\n    }\n    assertIssuerConfiguration(this.issuer, 'authorization_endpoint');\n    const target = new URL(this.issuer.authorization_endpoint);\n\n    for (const [name, value] of Object.entries(authorizationParams.call(this, params))) {\n      if (Array.isArray(value)) {\n        target.searchParams.delete(name);\n        for (const member of value) {\n          target.searchParams.append(name, member);\n        }\n      } else {\n        target.searchParams.set(name, value);\n      }\n    }\n\n    // TODO: is the replace needed?\n    return target.href.replace(/\\+/g, '%20');\n  }\n\n  authorizationPost(params = {}) {\n    if (!isPlainObject(params)) {\n      throw new TypeError('params must be a plain object');\n    }\n    const inputs = authorizationParams.call(this, params);\n    const formInputs = Object.keys(inputs)\n      .map((name) => `<input type=\"hidden\" name=\"${name}\" value=\"${inputs[name]}\"/>`)\n      .join('\\n');\n\n    return `<!DOCTYPE html>\n<head>\n<title>Requesting Authorization</title>\n</head>\n<body onload=\"javascript:document.forms[0].submit()\">\n<form method=\"post\" action=\"${this.issuer.authorization_endpoint}\">\n  ${formInputs}\n</form>\n</body>\n</html>`;\n  }\n\n  endSessionUrl(params = {}) {\n    assertIssuerConfiguration(this.issuer, 'end_session_endpoint');\n\n    const { 0: postLogout, length } = this.post_logout_redirect_uris || [];\n\n    const { post_logout_redirect_uri = length === 1 ? postLogout : undefined } = params;\n\n    let id_token_hint;\n    ({ id_token_hint, ...params } = params);\n    if (id_token_hint instanceof TokenSet) {\n      if (!id_token_hint.id_token) {\n        throw new TypeError('id_token not present in TokenSet');\n      }\n      id_token_hint = id_token_hint.id_token;\n    }\n\n    const target = url.parse(this.issuer.end_session_endpoint);\n    const query = defaults(\n      getSearchParams(this.issuer.end_session_endpoint),\n      params,\n      {\n        post_logout_redirect_uri,\n        client_id: this.client_id,\n      },\n      { id_token_hint },\n    );\n\n    Object.entries(query).forEach(([key, value]) => {\n      if (value === null || value === undefined) {\n        delete query[key];\n      }\n    });\n\n    target.search = null;\n    target.query = query;\n\n    return url.format(target);\n  }\n\n  callbackParams(input) {\n    const isIncomingMessage =\n      input instanceof stdhttp.IncomingMessage || (input && input.method && input.url);\n    const isString = typeof input === 'string';\n\n    if (!isString && !isIncomingMessage) {\n      throw new TypeError(\n        '#callbackParams only accepts string urls, http.IncomingMessage or a lookalike',\n      );\n    }\n    if (isIncomingMessage) {\n      switch (input.method) {\n        case 'GET':\n          return pickCb(getSearchParams(input.url));\n        case 'POST':\n          if (input.body === undefined) {\n            throw new TypeError(\n              'incoming message body missing, include a body parser prior to this method call',\n            );\n          }\n          switch (typeof input.body) {\n            case 'object':\n            case 'string':\n              if (Buffer.isBuffer(input.body)) {\n                return pickCb(querystring.parse(input.body.toString('utf-8')));\n              }\n              if (typeof input.body === 'string') {\n                return pickCb(querystring.parse(input.body));\n              }\n\n              return pickCb(input.body);\n            default:\n              throw new TypeError('invalid IncomingMessage body object');\n          }\n        default:\n          throw new TypeError('invalid IncomingMessage method');\n      }\n    } else {\n      return pickCb(getSearchParams(input));\n    }\n  }\n\n  async callback(\n    redirectUri,\n    parameters,\n    checks = {},\n    { exchangeBody, clientAssertionPayload, DPoP } = {},\n  ) {\n    let params = pickCb(parameters);\n\n    if (checks.jarm && !('response' in parameters)) {\n      throw new RPError({\n        message: 'expected a JARM response',\n        checks,\n        params,\n      });\n    } else if ('response' in parameters) {\n      const decrypted = await this.decryptJARM(params.response);\n      params = await this.validateJARM(decrypted);\n    }\n\n    if (this.default_max_age && !checks.max_age) {\n      checks.max_age = this.default_max_age;\n    }\n\n    if (params.state && !checks.state) {\n      throw new TypeError('checks.state argument is missing');\n    }\n\n    if (!params.state && checks.state) {\n      throw new RPError({\n        message: 'state missing from the response',\n        checks,\n        params,\n      });\n    }\n\n    if (checks.state !== params.state) {\n      throw new RPError({\n        printf: ['state mismatch, expected %s, got: %s', checks.state, params.state],\n        checks,\n        params,\n      });\n    }\n\n    if ('iss' in params) {\n      assertIssuerConfiguration(this.issuer, 'issuer');\n      if (params.iss !== this.issuer.issuer) {\n        throw new RPError({\n          printf: ['iss mismatch, expected %s, got: %s', this.issuer.issuer, params.iss],\n          params,\n        });\n      }\n    } else if (\n      this.issuer.authorization_response_iss_parameter_supported &&\n      !('id_token' in params) &&\n      !('response' in parameters)\n    ) {\n      throw new RPError({\n        message: 'iss missing from the response',\n        params,\n      });\n    }\n\n    if (params.error) {\n      throw new OPError(params);\n    }\n\n    const RESPONSE_TYPE_REQUIRED_PARAMS = {\n      code: ['code'],\n      id_token: ['id_token'],\n      token: ['access_token', 'token_type'],\n    };\n\n    if (checks.response_type) {\n      for (const type of checks.response_type.split(' ')) {\n        if (type === 'none') {\n          if (params.code || params.id_token || params.access_token) {\n            throw new RPError({\n              message: 'unexpected params encountered for \"none\" response',\n              checks,\n              params,\n            });\n          }\n        } else {\n          for (const param of RESPONSE_TYPE_REQUIRED_PARAMS[type]) {\n            if (!params[param]) {\n              throw new RPError({\n                message: `${param} missing from response`,\n                checks,\n                params,\n              });\n            }\n          }\n        }\n      }\n    }\n\n    if (params.id_token) {\n      const tokenset = new TokenSet(params);\n      await this.decryptIdToken(tokenset);\n      await this.validateIdToken(\n        tokenset,\n        checks.nonce,\n        'authorization',\n        checks.max_age,\n        checks.state,\n      );\n\n      if (!params.code) {\n        return tokenset;\n      }\n    }\n\n    if (params.code) {\n      const tokenset = await this.grant(\n        {\n          ...exchangeBody,\n          grant_type: 'authorization_code',\n          code: params.code,\n          redirect_uri: redirectUri,\n          code_verifier: checks.code_verifier,\n        },\n        { clientAssertionPayload, DPoP },\n      );\n\n      await this.decryptIdToken(tokenset);\n      await this.validateIdToken(tokenset, checks.nonce, 'token', checks.max_age);\n\n      if (params.session_state) {\n        tokenset.session_state = params.session_state;\n      }\n\n      return tokenset;\n    }\n\n    return new TokenSet(params);\n  }\n\n  async oauthCallback(\n    redirectUri,\n    parameters,\n    checks = {},\n    { exchangeBody, clientAssertionPayload, DPoP } = {},\n  ) {\n    let params = pickCb(parameters);\n\n    if (checks.jarm && !('response' in parameters)) {\n      throw new RPError({\n        message: 'expected a JARM response',\n        checks,\n        params,\n      });\n    } else if ('response' in parameters) {\n      const decrypted = await this.decryptJARM(params.response);\n      params = await this.validateJARM(decrypted);\n    }\n\n    if (params.state && !checks.state) {\n      throw new TypeError('checks.state argument is missing');\n    }\n\n    if (!params.state && checks.state) {\n      throw new RPError({\n        message: 'state missing from the response',\n        checks,\n        params,\n      });\n    }\n\n    if (checks.state !== params.state) {\n      throw new RPError({\n        printf: ['state mismatch, expected %s, got: %s', checks.state, params.state],\n        checks,\n        params,\n      });\n    }\n\n    if ('iss' in params) {\n      assertIssuerConfiguration(this.issuer, 'issuer');\n      if (params.iss !== this.issuer.issuer) {\n        throw new RPError({\n          printf: ['iss mismatch, expected %s, got: %s', this.issuer.issuer, params.iss],\n          params,\n        });\n      }\n    } else if (\n      this.issuer.authorization_response_iss_parameter_supported &&\n      !('id_token' in params) &&\n      !('response' in parameters)\n    ) {\n      throw new RPError({\n        message: 'iss missing from the response',\n        params,\n      });\n    }\n\n    if (params.error) {\n      throw new OPError(params);\n    }\n\n    if (typeof params.id_token === 'string' && params.id_token.length) {\n      throw new RPError({\n        message:\n          'id_token detected in the response, you must use client.callback() instead of client.oauthCallback()',\n        params,\n      });\n    }\n    delete params.id_token;\n\n    const RESPONSE_TYPE_REQUIRED_PARAMS = {\n      code: ['code'],\n      token: ['access_token', 'token_type'],\n    };\n\n    if (checks.response_type) {\n      for (const type of checks.response_type.split(' ')) {\n        if (type === 'none') {\n          if (params.code || params.id_token || params.access_token) {\n            throw new RPError({\n              message: 'unexpected params encountered for \"none\" response',\n              checks,\n              params,\n            });\n          }\n        }\n\n        if (RESPONSE_TYPE_REQUIRED_PARAMS[type]) {\n          for (const param of RESPONSE_TYPE_REQUIRED_PARAMS[type]) {\n            if (!params[param]) {\n              throw new RPError({\n                message: `${param} missing from response`,\n                checks,\n                params,\n              });\n            }\n          }\n        }\n      }\n    }\n\n    if (params.code) {\n      const tokenset = await this.grant(\n        {\n          ...exchangeBody,\n          grant_type: 'authorization_code',\n          code: params.code,\n          redirect_uri: redirectUri,\n          code_verifier: checks.code_verifier,\n        },\n        { clientAssertionPayload, DPoP },\n      );\n\n      if (typeof tokenset.id_token === 'string' && tokenset.id_token.length) {\n        throw new RPError({\n          message:\n            'id_token detected in the response, you must use client.callback() instead of client.oauthCallback()',\n          params,\n        });\n      }\n      delete tokenset.id_token;\n\n      return tokenset;\n    }\n\n    return new TokenSet(params);\n  }\n\n  async decryptIdToken(token) {\n    if (!this.id_token_encrypted_response_alg) {\n      return token;\n    }\n\n    let idToken = token;\n\n    if (idToken instanceof TokenSet) {\n      if (!idToken.id_token) {\n        throw new TypeError('id_token not present in TokenSet');\n      }\n      idToken = idToken.id_token;\n    }\n\n    const expectedAlg = this.id_token_encrypted_response_alg;\n    const expectedEnc = this.id_token_encrypted_response_enc;\n\n    const result = await this.decryptJWE(idToken, expectedAlg, expectedEnc);\n\n    if (token instanceof TokenSet) {\n      token.id_token = result;\n      return token;\n    }\n\n    return result;\n  }\n\n  async validateJWTUserinfo(body) {\n    const expectedAlg = this.userinfo_signed_response_alg;\n\n    return this.validateJWT(body, expectedAlg, []);\n  }\n\n  async decryptJARM(response) {\n    if (!this.authorization_encrypted_response_alg) {\n      return response;\n    }\n\n    const expectedAlg = this.authorization_encrypted_response_alg;\n    const expectedEnc = this.authorization_encrypted_response_enc;\n\n    return this.decryptJWE(response, expectedAlg, expectedEnc);\n  }\n\n  async decryptJWTUserinfo(body) {\n    if (!this.userinfo_encrypted_response_alg) {\n      return body;\n    }\n\n    const expectedAlg = this.userinfo_encrypted_response_alg;\n    const expectedEnc = this.userinfo_encrypted_response_enc;\n\n    return this.decryptJWE(body, expectedAlg, expectedEnc);\n  }\n\n  async decryptJWE(jwe, expectedAlg, expectedEnc = 'A128CBC-HS256') {\n    const header = JSON.parse(base64url.decode(jwe.split('.')[0]));\n\n    if (header.alg !== expectedAlg) {\n      throw new RPError({\n        printf: ['unexpected JWE alg received, expected %s, got: %s', expectedAlg, header.alg],\n        jwt: jwe,\n      });\n    }\n\n    if (header.enc !== expectedEnc) {\n      throw new RPError({\n        printf: ['unexpected JWE enc received, expected %s, got: %s', expectedEnc, header.enc],\n        jwt: jwe,\n      });\n    }\n\n    const getPlaintext = (result) => new TextDecoder().decode(result.plaintext);\n    let plaintext;\n    if (expectedAlg.match(/^(?:RSA|ECDH)/)) {\n      const keystore = await keystores.get(this);\n\n      const protectedHeader = jose.decodeProtectedHeader(jwe);\n\n      for (const key of keystore.all({\n        ...protectedHeader,\n        use: 'enc',\n      })) {\n        plaintext = await jose\n          .compactDecrypt(jwe, await key.keyObject(protectedHeader.alg))\n          .then(getPlaintext, () => {});\n        if (plaintext) break;\n      }\n    } else {\n      plaintext = await jose\n        .compactDecrypt(jwe, this.secretForAlg(expectedAlg === 'dir' ? expectedEnc : expectedAlg))\n        .then(getPlaintext, () => {});\n    }\n\n    if (!plaintext) {\n      throw new RPError({\n        message: 'failed to decrypt JWE',\n        jwt: jwe,\n      });\n    }\n    return plaintext;\n  }\n\n  async validateIdToken(tokenSet, nonce, returnedBy, maxAge, state) {\n    let idToken = tokenSet;\n\n    const expectedAlg = this.id_token_signed_response_alg;\n\n    const isTokenSet = idToken instanceof TokenSet;\n\n    if (isTokenSet) {\n      if (!idToken.id_token) {\n        throw new TypeError('id_token not present in TokenSet');\n      }\n      idToken = idToken.id_token;\n    }\n\n    idToken = String(idToken);\n\n    const timestamp = now();\n    const { protected: header, payload, key } = await this.validateJWT(idToken, expectedAlg);\n\n    if (typeof maxAge === 'number' || (maxAge !== skipMaxAgeCheck && this.require_auth_time)) {\n      if (!payload.auth_time) {\n        throw new RPError({\n          message: 'missing required JWT property auth_time',\n          jwt: idToken,\n        });\n      }\n      if (typeof payload.auth_time !== 'number') {\n        throw new RPError({\n          message: 'JWT auth_time claim must be a JSON numeric value',\n          jwt: idToken,\n        });\n      }\n    }\n\n    if (\n      typeof maxAge === 'number' &&\n      payload.auth_time + maxAge < timestamp - this[CLOCK_TOLERANCE]\n    ) {\n      throw new RPError({\n        printf: [\n          'too much time has elapsed since the last End-User authentication, max_age %i, auth_time: %i, now %i',\n          maxAge,\n          payload.auth_time,\n          timestamp - this[CLOCK_TOLERANCE],\n        ],\n        now: timestamp,\n        tolerance: this[CLOCK_TOLERANCE],\n        auth_time: payload.auth_time,\n        jwt: idToken,\n      });\n    }\n\n    if (\n      nonce !== skipNonceCheck &&\n      (payload.nonce || nonce !== undefined) &&\n      payload.nonce !== nonce\n    ) {\n      throw new RPError({\n        printf: ['nonce mismatch, expected %s, got: %s', nonce, payload.nonce],\n        jwt: idToken,\n      });\n    }\n\n    if (returnedBy === 'authorization') {\n      if (!payload.at_hash && tokenSet.access_token) {\n        throw new RPError({\n          message: 'missing required property at_hash',\n          jwt: idToken,\n        });\n      }\n\n      if (!payload.c_hash && tokenSet.code) {\n        throw new RPError({\n          message: 'missing required property c_hash',\n          jwt: idToken,\n        });\n      }\n\n      if (this.fapi1()) {\n        if (!payload.s_hash && (tokenSet.state || state)) {\n          throw new RPError({\n            message: 'missing required property s_hash',\n            jwt: idToken,\n          });\n        }\n      }\n\n      if (payload.s_hash) {\n        if (!state) {\n          throw new TypeError('cannot verify s_hash, \"checks.state\" property not provided');\n        }\n\n        try {\n          tokenHash.validate(\n            { claim: 's_hash', source: 'state' },\n            payload.s_hash,\n            state,\n            header.alg,\n            key.jwk && key.jwk.crv,\n          );\n        } catch (err) {\n          throw new RPError({ message: err.message, jwt: idToken });\n        }\n      }\n    }\n\n    if (this.fapi() && payload.iat < timestamp - 3600) {\n      throw new RPError({\n        printf: ['JWT issued too far in the past, now %i, iat %i', timestamp, payload.iat],\n        now: timestamp,\n        tolerance: this[CLOCK_TOLERANCE],\n        iat: payload.iat,\n        jwt: idToken,\n      });\n    }\n\n    if (tokenSet.access_token && payload.at_hash !== undefined) {\n      try {\n        tokenHash.validate(\n          { claim: 'at_hash', source: 'access_token' },\n          payload.at_hash,\n          tokenSet.access_token,\n          header.alg,\n          key.jwk && key.jwk.crv,\n        );\n      } catch (err) {\n        throw new RPError({ message: err.message, jwt: idToken });\n      }\n    }\n\n    if (tokenSet.code && payload.c_hash !== undefined) {\n      try {\n        tokenHash.validate(\n          { claim: 'c_hash', source: 'code' },\n          payload.c_hash,\n          tokenSet.code,\n          header.alg,\n          key.jwk && key.jwk.crv,\n        );\n      } catch (err) {\n        throw new RPError({ message: err.message, jwt: idToken });\n      }\n    }\n\n    return tokenSet;\n  }\n\n  async validateJWT(jwt, expectedAlg, required = ['iss', 'sub', 'aud', 'exp', 'iat']) {\n    const isSelfIssued = this.issuer.issuer === 'https://self-issued.me';\n    const timestamp = now();\n    let header;\n    let payload;\n    try {\n      ({ header, payload } = decodeJWT(jwt, { complete: true }));\n    } catch (err) {\n      throw new RPError({\n        printf: ['failed to decode JWT (%s: %s)', err.name, err.message],\n        jwt,\n      });\n    }\n\n    if (header.alg !== expectedAlg) {\n      throw new RPError({\n        printf: ['unexpected JWT alg received, expected %s, got: %s', expectedAlg, header.alg],\n        jwt,\n      });\n    }\n\n    if (isSelfIssued) {\n      required = [...required, 'sub_jwk'];\n    }\n\n    required.forEach(verifyPresence.bind(undefined, payload, jwt));\n\n    if (payload.iss !== undefined) {\n      let expectedIss = this.issuer.issuer;\n\n      if (this.#aadIssValidation) {\n        expectedIss = this.issuer.issuer.replace('{tenantid}', payload.tid);\n      }\n\n      if (payload.iss !== expectedIss) {\n        throw new RPError({\n          printf: ['unexpected iss value, expected %s, got: %s', expectedIss, payload.iss],\n          jwt,\n        });\n      }\n    }\n\n    if (payload.iat !== undefined) {\n      if (typeof payload.iat !== 'number') {\n        throw new RPError({\n          message: 'JWT iat claim must be a JSON numeric value',\n          jwt,\n        });\n      }\n    }\n\n    if (payload.nbf !== undefined) {\n      if (typeof payload.nbf !== 'number') {\n        throw new RPError({\n          message: 'JWT nbf claim must be a JSON numeric value',\n          jwt,\n        });\n      }\n      if (payload.nbf > timestamp + this[CLOCK_TOLERANCE]) {\n        throw new RPError({\n          printf: [\n            'JWT not active yet, now %i, nbf %i',\n            timestamp + this[CLOCK_TOLERANCE],\n            payload.nbf,\n          ],\n          now: timestamp,\n          tolerance: this[CLOCK_TOLERANCE],\n          nbf: payload.nbf,\n          jwt,\n        });\n      }\n    }\n\n    if (payload.exp !== undefined) {\n      if (typeof payload.exp !== 'number') {\n        throw new RPError({\n          message: 'JWT exp claim must be a JSON numeric value',\n          jwt,\n        });\n      }\n      if (timestamp - this[CLOCK_TOLERANCE] >= payload.exp) {\n        throw new RPError({\n          printf: ['JWT expired, now %i, exp %i', timestamp - this[CLOCK_TOLERANCE], payload.exp],\n          now: timestamp,\n          tolerance: this[CLOCK_TOLERANCE],\n          exp: payload.exp,\n          jwt,\n        });\n      }\n    }\n\n    if (payload.aud !== undefined) {\n      if (Array.isArray(payload.aud)) {\n        if (payload.aud.length > 1 && !payload.azp) {\n          throw new RPError({\n            message: 'missing required JWT property azp',\n            jwt,\n          });\n        }\n\n        if (!payload.aud.includes(this.client_id)) {\n          throw new RPError({\n            printf: [\n              'aud is missing the client_id, expected %s to be included in %j',\n              this.client_id,\n              payload.aud,\n            ],\n            jwt,\n          });\n        }\n      } else if (payload.aud !== this.client_id) {\n        throw new RPError({\n          printf: ['aud mismatch, expected %s, got: %s', this.client_id, payload.aud],\n          jwt,\n        });\n      }\n    }\n\n    if (payload.azp !== undefined) {\n      let additionalAuthorizedParties = this.#additionalAuthorizedParties;\n\n      if (typeof additionalAuthorizedParties === 'string') {\n        additionalAuthorizedParties = [this.client_id, additionalAuthorizedParties];\n      } else if (Array.isArray(additionalAuthorizedParties)) {\n        additionalAuthorizedParties = [this.client_id, ...additionalAuthorizedParties];\n      } else {\n        additionalAuthorizedParties = [this.client_id];\n      }\n\n      if (!additionalAuthorizedParties.includes(payload.azp)) {\n        throw new RPError({\n          printf: ['azp mismatch, got: %s', payload.azp],\n          jwt,\n        });\n      }\n    }\n\n    let keys;\n\n    if (isSelfIssued) {\n      try {\n        assert(isPlainObject(payload.sub_jwk));\n        const key = await jose.importJWK(payload.sub_jwk, header.alg);\n        assert.equal(key.type, 'public');\n        keys = [\n          {\n            keyObject() {\n              return key;\n            },\n          },\n        ];\n      } catch (err) {\n        throw new RPError({\n          message: 'failed to use sub_jwk claim as an asymmetric JSON Web Key',\n          jwt,\n        });\n      }\n      if ((await jose.calculateJwkThumbprint(payload.sub_jwk)) !== payload.sub) {\n        throw new RPError({\n          message: 'failed to match the subject with sub_jwk',\n          jwt,\n        });\n      }\n    } else if (header.alg.startsWith('HS')) {\n      keys = [this.secretForAlg(header.alg)];\n    } else if (header.alg !== 'none') {\n      keys = await queryKeyStore.call(this.issuer, { ...header, use: 'sig' });\n    }\n\n    if (!keys && header.alg === 'none') {\n      return { protected: header, payload };\n    }\n\n    for (const key of keys) {\n      const verified = await jose\n        .compactVerify(jwt, key instanceof Uint8Array ? key : await key.keyObject(header.alg))\n        .catch(() => {});\n      if (verified) {\n        return {\n          payload,\n          protected: verified.protectedHeader,\n          key,\n        };\n      }\n    }\n\n    throw new RPError({\n      message: 'failed to validate JWT signature',\n      jwt,\n    });\n  }\n\n  async refresh(refreshToken, { exchangeBody, clientAssertionPayload, DPoP } = {}) {\n    let token = refreshToken;\n\n    if (token instanceof TokenSet) {\n      if (!token.refresh_token) {\n        throw new TypeError('refresh_token not present in TokenSet');\n      }\n      token = token.refresh_token;\n    }\n\n    const tokenset = await this.grant(\n      {\n        ...exchangeBody,\n        grant_type: 'refresh_token',\n        refresh_token: String(token),\n      },\n      { clientAssertionPayload, DPoP },\n    );\n\n    if (tokenset.id_token) {\n      await this.decryptIdToken(tokenset);\n      await this.validateIdToken(tokenset, skipNonceCheck, 'token', skipMaxAgeCheck);\n\n      if (refreshToken instanceof TokenSet && refreshToken.id_token) {\n        const expectedSub = refreshToken.claims().sub;\n        const actualSub = tokenset.claims().sub;\n        if (actualSub !== expectedSub) {\n          throw new RPError({\n            printf: ['sub mismatch, expected %s, got: %s', expectedSub, actualSub],\n            jwt: tokenset.id_token,\n          });\n        }\n      }\n    }\n\n    return tokenset;\n  }\n\n  async requestResource(\n    resourceUrl,\n    accessToken,\n    {\n      method,\n      headers,\n      body,\n      DPoP,\n      tokenType = DPoP\n        ? 'DPoP'\n        : accessToken instanceof TokenSet\n        ? accessToken.token_type\n        : 'Bearer',\n    } = {},\n    retry,\n  ) {\n    if (accessToken instanceof TokenSet) {\n      if (!accessToken.access_token) {\n        throw new TypeError('access_token not present in TokenSet');\n      }\n      accessToken = accessToken.access_token;\n    }\n\n    if (!accessToken) {\n      throw new TypeError('no access token provided');\n    } else if (typeof accessToken !== 'string') {\n      throw new TypeError('invalid access token provided');\n    }\n\n    const requestOpts = {\n      headers: {\n        Authorization: authorizationHeaderValue(accessToken, tokenType),\n        ...headers,\n      },\n      body,\n    };\n\n    const mTLS = !!this.tls_client_certificate_bound_access_tokens;\n\n    const response = await request.call(\n      this,\n      {\n        ...requestOpts,\n        responseType: 'buffer',\n        method,\n        url: resourceUrl,\n      },\n      { accessToken, mTLS, DPoP },\n    );\n\n    const wwwAuthenticate = response.headers['www-authenticate'];\n    if (\n      retry !== retryAttempt &&\n      wwwAuthenticate &&\n      wwwAuthenticate.toLowerCase().startsWith('dpop ') &&\n      parseWwwAuthenticate(wwwAuthenticate).error === 'use_dpop_nonce'\n    ) {\n      return this.requestResource(resourceUrl, accessToken, {\n        method,\n        headers,\n        body,\n        DPoP,\n        tokenType,\n      });\n    }\n\n    return response;\n  }\n\n  async userinfo(accessToken, { method = 'GET', via = 'header', tokenType, params, DPoP } = {}) {\n    assertIssuerConfiguration(this.issuer, 'userinfo_endpoint');\n    const options = {\n      tokenType,\n      method: String(method).toUpperCase(),\n      DPoP,\n    };\n\n    if (options.method !== 'GET' && options.method !== 'POST') {\n      throw new TypeError('#userinfo() method can only be POST or a GET');\n    }\n\n    if (via === 'body' && options.method !== 'POST') {\n      throw new TypeError('can only send body on POST');\n    }\n\n    const jwt = !!(this.userinfo_signed_response_alg || this.userinfo_encrypted_response_alg);\n\n    if (jwt) {\n      options.headers = { Accept: 'application/jwt' };\n    } else {\n      options.headers = { Accept: 'application/json' };\n    }\n    const mTLS = !!this.tls_client_certificate_bound_access_tokens;\n\n    let targetUrl;\n    if (mTLS && this.issuer.mtls_endpoint_aliases) {\n      targetUrl = this.issuer.mtls_endpoint_aliases.userinfo_endpoint;\n    }\n\n    targetUrl = new URL(targetUrl || this.issuer.userinfo_endpoint);\n\n    if (via === 'body') {\n      options.headers.Authorization = undefined;\n      options.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n      options.body = new URLSearchParams();\n      options.body.append(\n        'access_token',\n        accessToken instanceof TokenSet ? accessToken.access_token : accessToken,\n      );\n    }\n\n    // handle additional parameters, GET via querystring, POST via urlencoded body\n    if (params) {\n      if (options.method === 'GET') {\n        Object.entries(params).forEach(([key, value]) => {\n          targetUrl.searchParams.append(key, value);\n        });\n      } else if (options.body) {\n        // POST && via body\n        Object.entries(params).forEach(([key, value]) => {\n          options.body.append(key, value);\n        });\n      } else {\n        // POST && via header\n        options.body = new URLSearchParams();\n        options.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n        Object.entries(params).forEach(([key, value]) => {\n          options.body.append(key, value);\n        });\n      }\n    }\n\n    if (options.body) {\n      options.body = options.body.toString();\n    }\n\n    const response = await this.requestResource(targetUrl, accessToken, options);\n\n    let parsed = processResponse(response, { bearer: true });\n\n    if (jwt) {\n      if (!/^application\\/jwt/.test(response.headers['content-type'])) {\n        throw new RPError({\n          message: 'expected application/jwt response from the userinfo_endpoint',\n          response,\n        });\n      }\n\n      const body = response.body.toString();\n      const userinfo = await this.decryptJWTUserinfo(body);\n      if (!this.userinfo_signed_response_alg) {\n        try {\n          parsed = JSON.parse(userinfo);\n          assert(isPlainObject(parsed));\n        } catch (err) {\n          throw new RPError({\n            message: 'failed to parse userinfo JWE payload as JSON',\n            jwt: userinfo,\n          });\n        }\n      } else {\n        ({ payload: parsed } = await this.validateJWTUserinfo(userinfo));\n      }\n    } else {\n      try {\n        parsed = JSON.parse(response.body);\n      } catch (err) {\n        Object.defineProperty(err, 'response', { value: response });\n        throw err;\n      }\n    }\n\n    if (accessToken instanceof TokenSet && accessToken.id_token) {\n      const expectedSub = accessToken.claims().sub;\n      if (parsed.sub !== expectedSub) {\n        throw new RPError({\n          printf: ['userinfo sub mismatch, expected %s, got: %s', expectedSub, parsed.sub],\n          body: parsed,\n          jwt: accessToken.id_token,\n        });\n      }\n    }\n\n    return parsed;\n  }\n\n  encryptionSecret(len) {\n    const hash = len <= 256 ? 'sha256' : len <= 384 ? 'sha384' : len <= 512 ? 'sha512' : false;\n    if (!hash) {\n      throw new Error('unsupported symmetric encryption key derivation');\n    }\n\n    return crypto\n      .createHash(hash)\n      .update(this.client_secret)\n      .digest()\n      .slice(0, len / 8);\n  }\n\n  secretForAlg(alg) {\n    if (!this.client_secret) {\n      throw new TypeError('client_secret is required');\n    }\n\n    if (/^A(\\d{3})(?:GCM)?KW$/.test(alg)) {\n      return this.encryptionSecret(parseInt(RegExp.$1, 10));\n    }\n\n    if (/^A(\\d{3})(?:GCM|CBC-HS(\\d{3}))$/.test(alg)) {\n      return this.encryptionSecret(parseInt(RegExp.$2 || RegExp.$1, 10));\n    }\n\n    return new TextEncoder().encode(this.client_secret);\n  }\n\n  async grant(body, { clientAssertionPayload, DPoP } = {}, retry) {\n    assertIssuerConfiguration(this.issuer, 'token_endpoint');\n    const response = await authenticatedPost.call(\n      this,\n      'token',\n      {\n        form: body,\n        responseType: 'json',\n      },\n      { clientAssertionPayload, DPoP },\n    );\n    let responseBody;\n    try {\n      responseBody = processResponse(response);\n    } catch (err) {\n      if (retry !== retryAttempt && err instanceof OPError && err.error === 'use_dpop_nonce') {\n        return this.grant(body, { clientAssertionPayload, DPoP }, retryAttempt);\n      }\n      throw err;\n    }\n\n    return new TokenSet(responseBody);\n  }\n\n  async deviceAuthorization(params = {}, { exchangeBody, clientAssertionPayload, DPoP } = {}) {\n    assertIssuerConfiguration(this.issuer, 'device_authorization_endpoint');\n    assertIssuerConfiguration(this.issuer, 'token_endpoint');\n\n    const body = authorizationParams.call(this, {\n      client_id: this.client_id,\n      redirect_uri: null,\n      response_type: null,\n      ...params,\n    });\n\n    const response = await authenticatedPost.call(\n      this,\n      'device_authorization',\n      {\n        responseType: 'json',\n        form: body,\n      },\n      { clientAssertionPayload, endpointAuthMethod: 'token' },\n    );\n    const responseBody = processResponse(response);\n\n    return new DeviceFlowHandle({\n      client: this,\n      exchangeBody,\n      clientAssertionPayload,\n      response: responseBody,\n      maxAge: params.max_age,\n      DPoP,\n    });\n  }\n\n  async revoke(token, hint, { revokeBody, clientAssertionPayload } = {}) {\n    assertIssuerConfiguration(this.issuer, 'revocation_endpoint');\n    if (hint !== undefined && typeof hint !== 'string') {\n      throw new TypeError('hint must be a string');\n    }\n\n    const form = { ...revokeBody, token };\n\n    if (hint) {\n      form.token_type_hint = hint;\n    }\n\n    const response = await authenticatedPost.call(\n      this,\n      'revocation',\n      {\n        form,\n      },\n      { clientAssertionPayload },\n    );\n    processResponse(response, { body: false });\n  }\n\n  async introspect(token, hint, { introspectBody, clientAssertionPayload } = {}) {\n    assertIssuerConfiguration(this.issuer, 'introspection_endpoint');\n    if (hint !== undefined && typeof hint !== 'string') {\n      throw new TypeError('hint must be a string');\n    }\n\n    const form = { ...introspectBody, token };\n    if (hint) {\n      form.token_type_hint = hint;\n    }\n\n    const response = await authenticatedPost.call(\n      this,\n      'introspection',\n      { form, responseType: 'json' },\n      { clientAssertionPayload },\n    );\n\n    const responseBody = processResponse(response);\n\n    return responseBody;\n  }\n\n  static async register(metadata, options = {}) {\n    const { initialAccessToken, jwks, ...clientOptions } = options;\n\n    assertIssuerConfiguration(this.issuer, 'registration_endpoint');\n\n    if (jwks !== undefined && !(metadata.jwks || metadata.jwks_uri)) {\n      const keystore = await getKeystore.call(this, jwks);\n      metadata.jwks = keystore.toJWKS();\n    }\n\n    const response = await request.call(this, {\n      headers: {\n        Accept: 'application/json',\n        ...(initialAccessToken\n          ? {\n              Authorization: authorizationHeaderValue(initialAccessToken),\n            }\n          : undefined),\n      },\n      responseType: 'json',\n      json: metadata,\n      url: this.issuer.registration_endpoint,\n      method: 'POST',\n    });\n    const responseBody = processResponse(response, { statusCode: 201, bearer: true });\n\n    return new this(responseBody, jwks, clientOptions);\n  }\n\n  get metadata() {\n    return clone(Object.fromEntries(this.#metadata.entries()));\n  }\n\n  static async fromUri(registrationClientUri, registrationAccessToken, jwks, clientOptions) {\n    const response = await request.call(this, {\n      method: 'GET',\n      url: registrationClientUri,\n      responseType: 'json',\n      headers: {\n        Authorization: authorizationHeaderValue(registrationAccessToken),\n        Accept: 'application/json',\n      },\n    });\n    const responseBody = processResponse(response, { bearer: true });\n\n    return new this(responseBody, jwks, clientOptions);\n  }\n\n  async requestObject(\n    requestObject = {},\n    {\n      sign: signingAlgorithm = this.request_object_signing_alg || 'none',\n      encrypt: {\n        alg: eKeyManagement = this.request_object_encryption_alg,\n        enc: eContentEncryption = this.request_object_encryption_enc || 'A128CBC-HS256',\n      } = {},\n    } = {},\n  ) {\n    if (!isPlainObject(requestObject)) {\n      throw new TypeError('requestObject must be a plain object');\n    }\n\n    let signed;\n    let key;\n    const unix = now();\n    const header = { alg: signingAlgorithm, typ: 'oauth-authz-req+jwt' };\n    const payload = JSON.stringify(\n      defaults({}, requestObject, {\n        iss: this.client_id,\n        aud: this.issuer.issuer,\n        client_id: this.client_id,\n        jti: random(),\n        iat: unix,\n        exp: unix + 300,\n        ...(this.fapi() ? { nbf: unix } : undefined),\n      }),\n    );\n    if (signingAlgorithm === 'none') {\n      signed = [base64url.encode(JSON.stringify(header)), base64url.encode(payload), ''].join('.');\n    } else {\n      const symmetric = signingAlgorithm.startsWith('HS');\n      if (symmetric) {\n        key = this.secretForAlg(signingAlgorithm);\n      } else {\n        const keystore = await keystores.get(this);\n\n        if (!keystore) {\n          throw new TypeError(\n            `no keystore present for client, cannot sign using alg ${signingAlgorithm}`,\n          );\n        }\n        key = keystore.get({ alg: signingAlgorithm, use: 'sig' });\n        if (!key) {\n          throw new TypeError(`no key to sign with found for alg ${signingAlgorithm}`);\n        }\n      }\n\n      signed = await new jose.CompactSign(new TextEncoder().encode(payload))\n        .setProtectedHeader({\n          ...header,\n          kid: symmetric ? undefined : key.jwk.kid,\n        })\n        .sign(symmetric ? key : await key.keyObject(signingAlgorithm));\n    }\n\n    if (!eKeyManagement) {\n      return signed;\n    }\n\n    const fields = { alg: eKeyManagement, enc: eContentEncryption, cty: 'oauth-authz-req+jwt' };\n\n    if (fields.alg.match(/^(RSA|ECDH)/)) {\n      [key] = await queryKeyStore.call(\n        this.issuer,\n        { alg: fields.alg, use: 'enc' },\n        { allowMulti: true },\n      );\n    } else {\n      key = this.secretForAlg(fields.alg === 'dir' ? fields.enc : fields.alg);\n    }\n\n    return new jose.CompactEncrypt(new TextEncoder().encode(signed))\n      .setProtectedHeader({\n        ...fields,\n        kid: key instanceof Uint8Array ? undefined : key.jwk.kid,\n      })\n      .encrypt(key instanceof Uint8Array ? key : await key.keyObject(fields.alg));\n  }\n\n  async pushedAuthorizationRequest(params = {}, { clientAssertionPayload } = {}) {\n    assertIssuerConfiguration(this.issuer, 'pushed_authorization_request_endpoint');\n\n    const body = {\n      ...('request' in params ? params : authorizationParams.call(this, params)),\n      client_id: this.client_id,\n    };\n\n    const response = await authenticatedPost.call(\n      this,\n      'pushed_authorization_request',\n      {\n        responseType: 'json',\n        form: body,\n      },\n      { clientAssertionPayload, endpointAuthMethod: 'token' },\n    );\n    const responseBody = processResponse(response, { statusCode: 201 });\n\n    if (!('expires_in' in responseBody)) {\n      throw new RPError({\n        message: 'expected expires_in in Pushed Authorization Successful Response',\n        response,\n      });\n    }\n    if (typeof responseBody.expires_in !== 'number') {\n      throw new RPError({\n        message: 'invalid expires_in value in Pushed Authorization Successful Response',\n        response,\n      });\n    }\n    if (!('request_uri' in responseBody)) {\n      throw new RPError({\n        message: 'expected request_uri in Pushed Authorization Successful Response',\n        response,\n      });\n    }\n    if (typeof responseBody.request_uri !== 'string') {\n      throw new RPError({\n        message: 'invalid request_uri value in Pushed Authorization Successful Response',\n        response,\n      });\n    }\n\n    return responseBody;\n  }\n\n  get issuer() {\n    return this.#issuer;\n  }\n\n  /* istanbul ignore next */\n  [inspect.custom]() {\n    return `${this.constructor.name} ${inspect(this.metadata, {\n      depth: Infinity,\n      colors: process.stdout.isTTY,\n      compact: false,\n      sorted: true,\n    })}`;\n  }\n\n  fapi() {\n    return this.fapi1() || this.fapi2();\n  }\n\n  fapi1() {\n    return this.constructor.name === 'FAPI1Client';\n  }\n\n  fapi2() {\n    return this.constructor.name === 'FAPI2Client';\n  }\n\n  async validateJARM(response) {\n    const expectedAlg = this.authorization_signed_response_alg;\n    const { payload } = await this.validateJWT(response, expectedAlg, ['iss', 'exp', 'aud']);\n    return pickCb(payload);\n  }\n\n  /**\n   * @name dpopProof\n   * @api private\n   */\n  async dpopProof(payload, privateKeyInput, accessToken) {\n    if (!isPlainObject(payload)) {\n      throw new TypeError('payload must be a plain object');\n    }\n\n    let privateKey;\n    if (isKeyObject(privateKeyInput)) {\n      privateKey = privateKeyInput;\n    } else if (privateKeyInput[Symbol.toStringTag] === 'CryptoKey') {\n      privateKey = privateKeyInput;\n    } else if (jose.cryptoRuntime === 'node:crypto') {\n      privateKey = crypto.createPrivateKey(privateKeyInput);\n    } else {\n      throw new TypeError('unrecognized crypto runtime');\n    }\n\n    if (privateKey.type !== 'private') {\n      throw new TypeError('\"DPoP\" option must be a private key');\n    }\n    let alg = determineDPoPAlgorithm.call(this, privateKey, privateKeyInput);\n\n    if (!alg) {\n      throw new TypeError('could not determine DPoP JWS Algorithm');\n    }\n\n    return new jose.SignJWT({\n      ath: accessToken\n        ? base64url.encode(crypto.createHash('sha256').update(accessToken).digest())\n        : undefined,\n      ...payload,\n    })\n      .setProtectedHeader({\n        alg,\n        typ: 'dpop+jwt',\n        jwk: await getJwk(privateKey, privateKeyInput),\n      })\n      .setIssuedAt()\n      .setJti(random())\n      .sign(privateKey);\n  }\n}\n\nfunction determineDPoPAlgorithmFromCryptoKey(cryptoKey) {\n  switch (cryptoKey.algorithm.name) {\n    case 'Ed25519':\n    case 'Ed448':\n      return 'EdDSA';\n    case 'ECDSA': {\n      switch (cryptoKey.algorithm.namedCurve) {\n        case 'P-256':\n          return 'ES256';\n        case 'P-384':\n          return 'ES384';\n        case 'P-521':\n          return 'ES512';\n        default:\n          break;\n      }\n      break;\n    }\n    case 'RSASSA-PKCS1-v1_5':\n      return `RS${cryptoKey.algorithm.hash.name.slice(4)}`;\n    case 'RSA-PSS':\n      return `PS${cryptoKey.algorithm.hash.name.slice(4)}`;\n    default:\n      throw new TypeError('unsupported DPoP private key');\n  }\n}\n\nlet determineDPoPAlgorithm;\nif (jose.cryptoRuntime === 'node:crypto') {\n  determineDPoPAlgorithm = function (privateKey, privateKeyInput) {\n    if (privateKeyInput[Symbol.toStringTag] === 'CryptoKey') {\n      return determineDPoPAlgorithmFromCryptoKey(privateKey);\n    }\n\n    switch (privateKey.asymmetricKeyType) {\n      case 'ed25519':\n      case 'ed448':\n        return 'EdDSA';\n      case 'ec':\n        return determineEcAlgorithm(privateKey, privateKeyInput);\n      case 'rsa':\n      case rsaPssParams && 'rsa-pss':\n        return determineRsaAlgorithm(\n          privateKey,\n          privateKeyInput,\n          this.issuer.dpop_signing_alg_values_supported,\n        );\n      default:\n        throw new TypeError('unsupported DPoP private key');\n    }\n  };\n\n  const RSPS = /^(?:RS|PS)(?:256|384|512)$/;\n  function determineRsaAlgorithm(privateKey, privateKeyInput, valuesSupported) {\n    if (\n      typeof privateKeyInput === 'object' &&\n      privateKeyInput.format === 'jwk' &&\n      privateKeyInput.key &&\n      privateKeyInput.key.alg\n    ) {\n      return privateKeyInput.key.alg;\n    }\n\n    if (Array.isArray(valuesSupported)) {\n      let candidates = valuesSupported.filter(RegExp.prototype.test.bind(RSPS));\n      if (privateKey.asymmetricKeyType === 'rsa-pss') {\n        candidates = candidates.filter((value) => value.startsWith('PS'));\n      }\n      return ['PS256', 'PS384', 'PS512', 'RS256', 'RS384', 'RS384'].find((preferred) =>\n        candidates.includes(preferred),\n      );\n    }\n\n    return 'PS256';\n  }\n\n  const p256 = Buffer.from([42, 134, 72, 206, 61, 3, 1, 7]);\n  const p384 = Buffer.from([43, 129, 4, 0, 34]);\n  const p521 = Buffer.from([43, 129, 4, 0, 35]);\n  const secp256k1 = Buffer.from([43, 129, 4, 0, 10]);\n\n  function determineEcAlgorithm(privateKey, privateKeyInput) {\n    // If input was a JWK\n    switch (\n      typeof privateKeyInput === 'object' &&\n      typeof privateKeyInput.key === 'object' &&\n      privateKeyInput.key.crv\n    ) {\n      case 'P-256':\n        return 'ES256';\n      case 'secp256k1':\n        return 'ES256K';\n      case 'P-384':\n        return 'ES384';\n      case 'P-512':\n        return 'ES512';\n      default:\n        break;\n    }\n\n    const buf = privateKey.export({ format: 'der', type: 'pkcs8' });\n    const i = buf[1] < 128 ? 17 : 18;\n    const len = buf[i];\n    const curveOid = buf.slice(i + 1, i + 1 + len);\n    if (curveOid.equals(p256)) {\n      return 'ES256';\n    }\n\n    if (curveOid.equals(p384)) {\n      return 'ES384';\n    }\n    if (curveOid.equals(p521)) {\n      return 'ES512';\n    }\n\n    if (curveOid.equals(secp256k1)) {\n      return 'ES256K';\n    }\n\n    throw new TypeError('unsupported DPoP private key curve');\n  }\n} else {\n  determineDPoPAlgorithm = determineDPoPAlgorithmFromCryptoKey;\n}\n\nconst jwkCache = new WeakMap();\nasync function getJwk(keyObject, privateKeyInput) {\n  if (\n    jose.cryptoRuntime === 'node:crypto' &&\n    typeof privateKeyInput === 'object' &&\n    typeof privateKeyInput.key === 'object' &&\n    privateKeyInput.format === 'jwk'\n  ) {\n    return pick(privateKeyInput.key, 'kty', 'crv', 'x', 'y', 'e', 'n');\n  }\n\n  if (jwkCache.has(privateKeyInput)) {\n    return jwkCache.get(privateKeyInput);\n  }\n\n  const jwk = pick(await jose.exportJWK(keyObject), 'kty', 'crv', 'x', 'y', 'e', 'n');\n\n  if (isKeyObject(privateKeyInput) || jose.cryptoRuntime === 'WebCryptoAPI') {\n    jwkCache.set(privateKeyInput, jwk);\n  }\n\n  return jwk;\n}\n\nmodule.exports = (issuer, aadIssValidation = false) =>\n  class Client extends BaseClient {\n    constructor(...args) {\n      super(issuer, aadIssValidation, ...args);\n    }\n\n    static get issuer() {\n      return issuer;\n    }\n  };\n\nmodule.exports.BaseClient = BaseClient;\n","const LRU = require('lru-cache');\n\nmodule.exports = new LRU({ max: 100 });\n","// Credit: https://github.com/rohe/pyoidc/blob/master/src/oic/utils/webfinger.py\n\n// -- Normalization --\n// A string of any other type is interpreted as a URI either the form of scheme\n// \"://\" authority path-abempty [ \"?\" query ] [ \"#\" fragment ] or authority\n// path-abempty [ \"?\" query ] [ \"#\" fragment ] per RFC 3986 [RFC3986] and is\n// normalized according to the following rules:\n//\n// If the user input Identifier does not have an RFC 3986 [RFC3986] scheme\n// portion, the string is interpreted as [userinfo \"@\"] host [\":\" port]\n// path-abempty [ \"?\" query ] [ \"#\" fragment ] per RFC 3986 [RFC3986].\n// If the userinfo component is present and all of the path component, query\n// component, and port component are empty, the acct scheme is assumed. In this\n// case, the normalized URI is formed by prefixing acct: to the string as the\n// scheme. Per the 'acct' URI Scheme [ID.ietfappsawgaccturi], if there is an\n// at-sign character ('@') in the userinfo component, it needs to be\n// percent-encoded as described in RFC 3986 [RFC3986].\n// For all other inputs without a scheme portion, the https scheme is assumed,\n// and the normalized URI is formed by prefixing https:// to the string as the\n// scheme.\n// If the resulting URI contains a fragment portion, it MUST be stripped off\n// together with the fragment delimiter character \"#\".\n// The WebFinger [ID.ietfappsawgwebfinger] Resource in this case is the\n// resulting URI, and the WebFinger Host is the authority component.\n//\n// Note: Since the definition of authority in RFC 3986 [RFC3986] is\n// [ userinfo \"@\" ] host [ \":\" port ], it is legal to have a user input\n// identifier like userinfo@host:port, e.g., alice@example.com:8080.\n\nconst PORT = /^\\d+$/;\n\nfunction hasScheme(input) {\n  if (input.includes('://')) return true;\n\n  const authority = input.replace(/(\\/|\\?)/g, '#').split('#')[0];\n  if (authority.includes(':')) {\n    const index = authority.indexOf(':');\n    const hostOrPort = authority.slice(index + 1);\n    if (!PORT.test(hostOrPort)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction acctSchemeAssumed(input) {\n  if (!input.includes('@')) return false;\n  const parts = input.split('@');\n  const host = parts[parts.length - 1];\n  return !(host.includes(':') || host.includes('/') || host.includes('?'));\n}\n\nfunction normalize(input) {\n  if (typeof input !== 'string') {\n    throw new TypeError('input must be a string');\n  }\n\n  let output;\n  if (hasScheme(input)) {\n    output = input;\n  } else if (acctSchemeAssumed(input)) {\n    output = `acct:${input}`;\n  } else {\n    output = `https://${input}`;\n  }\n\n  return output.split('#')[0];\n}\n\nmodule.exports = normalize;\n","const { inspect } = require('util');\nconst url = require('url');\n\nconst { RPError } = require('./errors');\nconst getClient = require('./client');\nconst registry = require('./issuer_registry');\nconst processResponse = require('./helpers/process_response');\nconst webfingerNormalize = require('./helpers/webfinger_normalize');\nconst request = require('./helpers/request');\nconst clone = require('./helpers/deep_clone');\nconst { keystore } = require('./helpers/issuer');\n\nconst AAD_MULTITENANT_DISCOVERY = [\n  'https://login.microsoftonline.com/common/.well-known/openid-configuration',\n  'https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration',\n  'https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration',\n  'https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration',\n];\nconst AAD_MULTITENANT = Symbol();\nconst ISSUER_DEFAULTS = {\n  claim_types_supported: ['normal'],\n  claims_parameter_supported: false,\n  grant_types_supported: ['authorization_code', 'implicit'],\n  request_parameter_supported: false,\n  request_uri_parameter_supported: true,\n  require_request_uri_registration: false,\n  response_modes_supported: ['query', 'fragment'],\n  token_endpoint_auth_methods_supported: ['client_secret_basic'],\n};\n\nclass Issuer {\n  #metadata;\n  constructor(meta = {}) {\n    const aadIssValidation = meta[AAD_MULTITENANT];\n    delete meta[AAD_MULTITENANT];\n    ['introspection', 'revocation'].forEach((endpoint) => {\n      // if intro/revocation endpoint auth specific meta is missing use the token ones if they\n      // are defined\n      if (\n        meta[`${endpoint}_endpoint`] &&\n        meta[`${endpoint}_endpoint_auth_methods_supported`] === undefined &&\n        meta[`${endpoint}_endpoint_auth_signing_alg_values_supported`] === undefined\n      ) {\n        if (meta.token_endpoint_auth_methods_supported) {\n          meta[`${endpoint}_endpoint_auth_methods_supported`] =\n            meta.token_endpoint_auth_methods_supported;\n        }\n        if (meta.token_endpoint_auth_signing_alg_values_supported) {\n          meta[`${endpoint}_endpoint_auth_signing_alg_values_supported`] =\n            meta.token_endpoint_auth_signing_alg_values_supported;\n        }\n      }\n    });\n\n    this.#metadata = new Map();\n\n    Object.entries(meta).forEach(([key, value]) => {\n      this.#metadata.set(key, value);\n      if (!this[key]) {\n        Object.defineProperty(this, key, {\n          get() {\n            return this.#metadata.get(key);\n          },\n          enumerable: true,\n        });\n      }\n    });\n\n    registry.set(this.issuer, this);\n\n    const Client = getClient(this, aadIssValidation);\n\n    Object.defineProperties(this, {\n      Client: { value: Client, enumerable: true },\n      FAPI1Client: { value: class FAPI1Client extends Client {}, enumerable: true },\n      FAPI2Client: { value: class FAPI2Client extends Client {}, enumerable: true },\n    });\n  }\n\n  get metadata() {\n    return clone(Object.fromEntries(this.#metadata.entries()));\n  }\n\n  static async webfinger(input) {\n    const resource = webfingerNormalize(input);\n    const { host } = url.parse(resource);\n    const webfingerUrl = `https://${host}/.well-known/webfinger`;\n\n    const response = await request.call(this, {\n      method: 'GET',\n      url: webfingerUrl,\n      responseType: 'json',\n      searchParams: { resource, rel: 'http://openid.net/specs/connect/1.0/issuer' },\n      headers: {\n        Accept: 'application/json',\n      },\n    });\n    const body = processResponse(response);\n\n    const location =\n      Array.isArray(body.links) &&\n      body.links.find(\n        (link) =>\n          typeof link === 'object' &&\n          link.rel === 'http://openid.net/specs/connect/1.0/issuer' &&\n          link.href,\n      );\n\n    if (!location) {\n      throw new RPError({\n        message: 'no issuer found in webfinger response',\n        body,\n      });\n    }\n\n    if (typeof location.href !== 'string' || !location.href.startsWith('https://')) {\n      throw new RPError({\n        printf: ['invalid issuer location %s', location.href],\n        body,\n      });\n    }\n\n    const expectedIssuer = location.href;\n    if (registry.has(expectedIssuer)) {\n      return registry.get(expectedIssuer);\n    }\n\n    const issuer = await this.discover(expectedIssuer);\n\n    if (issuer.issuer !== expectedIssuer) {\n      registry.del(issuer.issuer);\n      throw new RPError(\n        'discovered issuer mismatch, expected %s, got: %s',\n        expectedIssuer,\n        issuer.issuer,\n      );\n    }\n    return issuer;\n  }\n\n  static async discover(uri) {\n    const wellKnownUri = resolveWellKnownUri(uri);\n\n    const response = await request.call(this, {\n      method: 'GET',\n      responseType: 'json',\n      url: wellKnownUri,\n      headers: {\n        Accept: 'application/json',\n      },\n    });\n    const body = processResponse(response);\n    return new Issuer({\n      ...ISSUER_DEFAULTS,\n      ...body,\n      [AAD_MULTITENANT]: !!AAD_MULTITENANT_DISCOVERY.find((discoveryURL) =>\n        wellKnownUri.startsWith(discoveryURL),\n      ),\n    });\n  }\n\n  async reloadJwksUri() {\n    await keystore.call(this, true);\n  }\n\n  /* istanbul ignore next */\n  [inspect.custom]() {\n    return `${this.constructor.name} ${inspect(this.metadata, {\n      depth: Infinity,\n      colors: process.stdout.isTTY,\n      compact: false,\n      sorted: true,\n    })}`;\n  }\n}\n\nfunction resolveWellKnownUri(uri) {\n  const parsed = url.parse(uri);\n  if (parsed.pathname.includes('/.well-known/')) {\n    return uri;\n  } else {\n    let pathname;\n    if (parsed.pathname.endsWith('/')) {\n      pathname = `${parsed.pathname}.well-known/openid-configuration`;\n    } else {\n      pathname = `${parsed.pathname}/.well-known/openid-configuration`;\n    }\n    return url.format({ ...parsed, pathname });\n  }\n}\n\nmodule.exports = Issuer;\n","const url = require('url');\nconst { format } = require('util');\n\nconst cloneDeep = require('./helpers/deep_clone');\nconst { RPError, OPError } = require('./errors');\nconst { BaseClient } = require('./client');\nconst { random, codeChallenge } = require('./helpers/generators');\nconst pick = require('./helpers/pick');\nconst { resolveResponseType, resolveRedirectUri } = require('./helpers/client');\n\nfunction verified(err, user, info = {}) {\n  if (err) {\n    this.error(err);\n  } else if (!user) {\n    this.fail(info);\n  } else {\n    this.success(user, info);\n  }\n}\n\nfunction OpenIDConnectStrategy(\n  { client, params = {}, passReqToCallback = false, sessionKey, usePKCE = true, extras = {} } = {},\n  verify,\n) {\n  if (!(client instanceof BaseClient)) {\n    throw new TypeError('client must be an instance of openid-client Client');\n  }\n\n  if (typeof verify !== 'function') {\n    throw new TypeError('verify callback must be a function');\n  }\n\n  if (!client.issuer || !client.issuer.issuer) {\n    throw new TypeError('client must have an issuer with an identifier');\n  }\n\n  this._client = client;\n  this._issuer = client.issuer;\n  this._verify = verify;\n  this._passReqToCallback = passReqToCallback;\n  this._usePKCE = usePKCE;\n  this._key = sessionKey || `oidc:${url.parse(this._issuer.issuer).hostname}`;\n  this._params = cloneDeep(params);\n\n  // state and nonce are handled in authenticate()\n  delete this._params.state;\n  delete this._params.nonce;\n\n  this._extras = cloneDeep(extras);\n\n  if (!this._params.response_type) this._params.response_type = resolveResponseType.call(client);\n  if (!this._params.redirect_uri) this._params.redirect_uri = resolveRedirectUri.call(client);\n  if (!this._params.scope) this._params.scope = 'openid';\n\n  if (this._usePKCE === true) {\n    const supportedMethods = Array.isArray(this._issuer.code_challenge_methods_supported)\n      ? this._issuer.code_challenge_methods_supported\n      : false;\n\n    if (supportedMethods && supportedMethods.includes('S256')) {\n      this._usePKCE = 'S256';\n    } else if (supportedMethods && supportedMethods.includes('plain')) {\n      this._usePKCE = 'plain';\n    } else if (supportedMethods) {\n      throw new TypeError(\n        'neither code_challenge_method supported by the client is supported by the issuer',\n      );\n    } else {\n      this._usePKCE = 'S256';\n    }\n  } else if (typeof this._usePKCE === 'string' && !['plain', 'S256'].includes(this._usePKCE)) {\n    throw new TypeError(`${this._usePKCE} is not valid/implemented PKCE code_challenge_method`);\n  }\n\n  this.name = url.parse(client.issuer.issuer).hostname;\n}\n\nOpenIDConnectStrategy.prototype.authenticate = function authenticate(req, options) {\n  (async () => {\n    const client = this._client;\n    if (!req.session) {\n      throw new TypeError('authentication requires session support');\n    }\n    const reqParams = client.callbackParams(req);\n    const sessionKey = this._key;\n\n    const { 0: parameter, length } = Object.keys(reqParams);\n\n    /**\n     * Start authentication request if this has no authorization response parameters or\n     * this might a login initiated from a third party as per\n     * https://openid.net/specs/openid-connect-core-1_0.html#ThirdPartyInitiatedLogin.\n     */\n    if (length === 0 || (length === 1 && parameter === 'iss')) {\n      // provide options object with extra authentication parameters\n      const params = {\n        state: random(),\n        ...this._params,\n        ...options,\n      };\n\n      if (!params.nonce && params.response_type.includes('id_token')) {\n        params.nonce = random();\n      }\n\n      req.session[sessionKey] = pick(params, 'nonce', 'state', 'max_age', 'response_type');\n\n      if (this._usePKCE && params.response_type.includes('code')) {\n        const verifier = random();\n        req.session[sessionKey].code_verifier = verifier;\n\n        switch (this._usePKCE) {\n          case 'S256':\n            params.code_challenge = codeChallenge(verifier);\n            params.code_challenge_method = 'S256';\n            break;\n          case 'plain':\n            params.code_challenge = verifier;\n            break;\n        }\n      }\n\n      this.redirect(client.authorizationUrl(params));\n      return;\n    }\n    /* end authentication request */\n\n    /* start authentication response */\n\n    const session = req.session[sessionKey];\n    if (Object.keys(session || {}).length === 0) {\n      throw new Error(\n        format(\n          'did not find expected authorization request details in session, req.session[\"%s\"] is %j',\n          sessionKey,\n          session,\n        ),\n      );\n    }\n\n    const {\n      state,\n      nonce,\n      max_age: maxAge,\n      code_verifier: codeVerifier,\n      response_type: responseType,\n    } = session;\n\n    try {\n      delete req.session[sessionKey];\n    } catch (err) {}\n\n    const opts = {\n      redirect_uri: this._params.redirect_uri,\n      ...options,\n    };\n\n    const checks = {\n      state,\n      nonce,\n      max_age: maxAge,\n      code_verifier: codeVerifier,\n      response_type: responseType,\n    };\n\n    const tokenset = await client.callback(opts.redirect_uri, reqParams, checks, this._extras);\n\n    const passReq = this._passReqToCallback;\n    const loadUserinfo = this._verify.length > (passReq ? 3 : 2) && client.issuer.userinfo_endpoint;\n\n    const args = [tokenset, verified.bind(this)];\n\n    if (loadUserinfo) {\n      if (!tokenset.access_token) {\n        throw new RPError({\n          message:\n            'expected access_token to be returned when asking for userinfo in verify callback',\n          tokenset,\n        });\n      }\n      const userinfo = await client.userinfo(tokenset);\n      args.splice(1, 0, userinfo);\n    }\n\n    if (passReq) {\n      args.unshift(req);\n    }\n\n    this._verify(...args);\n    /* end authentication response */\n  })().catch((error) => {\n    if (\n      (error instanceof OPError &&\n        error.error !== 'server_error' &&\n        !error.error.startsWith('invalid')) ||\n      error instanceof RPError\n    ) {\n      this.fail(error);\n    } else {\n      this.error(error);\n    }\n  });\n};\n\nmodule.exports = OpenIDConnectStrategy;\n","const Issuer = require('./issuer');\nconst { OPError, RPError } = require('./errors');\nconst Strategy = require('./passport_strategy');\nconst TokenSet = require('./token_set');\nconst { CLOCK_TOLERANCE, HTTP_OPTIONS } = require('./helpers/consts');\nconst generators = require('./helpers/generators');\nconst { setDefaults } = require('./helpers/request');\n\nmodule.exports = {\n  Issuer,\n  Strategy,\n  TokenSet,\n  errors: {\n    OPError,\n    RPError,\n  },\n  custom: {\n    setHttpOptionsDefaults: setDefaults,\n    http_options: HTTP_OPTIONS,\n    clock_tolerance: CLOCK_TOLERANCE,\n  },\n  generators,\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openidClient = openidClient;\nvar _openidClient = require(\"openid-client\");\nasync function openidClient(options) {\n  const provider = options.provider;\n  if (provider.httpOptions) _openidClient.custom.setHttpOptionsDefaults(provider.httpOptions);\n  let issuer;\n  if (provider.wellKnown) {\n    issuer = await _openidClient.Issuer.discover(provider.wellKnown);\n  } else {\n    var _provider$authorizati, _provider$token, _provider$userinfo;\n    issuer = new _openidClient.Issuer({\n      issuer: provider.issuer,\n      authorization_endpoint: (_provider$authorizati = provider.authorization) === null || _provider$authorizati === void 0 ? void 0 : _provider$authorizati.url,\n      token_endpoint: (_provider$token = provider.token) === null || _provider$token === void 0 ? void 0 : _provider$token.url,\n      userinfo_endpoint: (_provider$userinfo = provider.userinfo) === null || _provider$userinfo === void 0 ? void 0 : _provider$userinfo.url,\n      jwks_uri: provider.jwks_endpoint\n    });\n  }\n  const client = new issuer.Client({\n    client_id: provider.clientId,\n    client_secret: provider.clientSecret,\n    redirect_uris: [provider.callbackUrl],\n    ...provider.client\n  }, provider.jwks);\n  client[_openidClient.custom.clock_tolerance] = 10;\n  return client;\n}","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n * in FIPS 180-1\n * Version 2.2 Copyright Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for details.\n */\n\n/*\n * Configurable variables. You may need to tweak these to be compatible with\n * the server-side, but the defaults work in most cases.\n */\nvar hexcase = 1;  /* hex output format. 0 - lowercase; 1 - uppercase        */\nvar b64pad  = \"=\"; /* base-64 pad character. \"=\" for strict RFC compliance   */\n\n/*\n * These are the functions you'll usually want to call\n * They take string arguments and return either hex or base-64 encoded strings\n */\nfunction hex_sha1(s)    { return rstr2hex(rstr_sha1(str2rstr_utf8(s))); }\nfunction b64_sha1(s)    { return rstr2b64(rstr_sha1(str2rstr_utf8(s))); }\nfunction any_sha1(s, e) { return rstr2any(rstr_sha1(str2rstr_utf8(s)), e); }\nfunction hex_hmac_sha1(k, d)\n  { return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction b64_hmac_sha1(k, d)\n  { return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction any_hmac_sha1(k, d, e)\n  { return rstr2any(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d)), e); }\n\n/*\n * Perform a simple self-test to see if the VM is working\n */\nfunction sha1_vm_test()\n{\n  return hex_sha1(\"abc\").toLowerCase() == \"a9993e364706816aba3e25717850c26c9cd0d89d\";\n}\n\n/*\n * Calculate the SHA1 of a raw string\n */\nfunction rstr_sha1(s)\n{\n  return binb2rstr(binb_sha1(rstr2binb(s), s.length * 8));\n}\n\n/*\n * Calculate the HMAC-SHA1 of a key and some data (raw strings)\n */\nfunction rstr_hmac_sha1(key, data)\n{\n  var bkey = rstr2binb(key);\n  if(bkey.length > 16) bkey = binb_sha1(bkey, key.length * 8);\n\n  var ipad = Array(16), opad = Array(16);\n  for(var i = 0; i < 16; i++)\n  {\n    ipad[i] = bkey[i] ^ 0x36363636;\n    opad[i] = bkey[i] ^ 0x5C5C5C5C;\n  }\n\n  var hash = binb_sha1(ipad.concat(rstr2binb(data)), 512 + data.length * 8);\n  return binb2rstr(binb_sha1(opad.concat(hash), 512 + 160));\n}\n\n/*\n * Convert a raw string to a hex string\n */\nfunction rstr2hex(input)\n{\n  try { hexcase } catch(e) { hexcase=0; }\n  var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n  var output = \"\";\n  var x;\n  for(var i = 0; i < input.length; i++)\n  {\n    x = input.charCodeAt(i);\n    output += hex_tab.charAt((x >>> 4) & 0x0F)\n           +  hex_tab.charAt( x        & 0x0F);\n  }\n  return output;\n}\n\n/*\n * Convert a raw string to a base-64 string\n */\nfunction rstr2b64(input)\n{\n  try { b64pad } catch(e) { b64pad=''; }\n  var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n  var output = \"\";\n  var len = input.length;\n  for(var i = 0; i < len; i += 3)\n  {\n    var triplet = (input.charCodeAt(i) << 16)\n                | (i + 1 < len ? input.charCodeAt(i+1) << 8 : 0)\n                | (i + 2 < len ? input.charCodeAt(i+2)      : 0);\n    for(var j = 0; j < 4; j++)\n    {\n      if(i * 8 + j * 6 > input.length * 8) output += b64pad;\n      else output += tab.charAt((triplet >>> 6*(3-j)) & 0x3F);\n    }\n  }\n  return output;\n}\n\n/*\n * Convert a raw string to an arbitrary string encoding\n */\nfunction rstr2any(input, encoding)\n{\n  var divisor = encoding.length;\n  var remainders = Array();\n  var i, q, x, quotient;\n\n  /* Convert to an array of 16-bit big-endian values, forming the dividend */\n  var dividend = Array(Math.ceil(input.length / 2));\n  for(i = 0; i < dividend.length; i++)\n  {\n    dividend[i] = (input.charCodeAt(i * 2) << 8) | input.charCodeAt(i * 2 + 1);\n  }\n\n  /*\n   * Repeatedly perform a long division. The binary array forms the dividend,\n   * the length of the encoding is the divisor. Once computed, the quotient\n   * forms the dividend for the next step. We stop when the dividend is zero.\n   * All remainders are stored for later use.\n   */\n  while(dividend.length > 0)\n  {\n    quotient = Array();\n    x = 0;\n    for(i = 0; i < dividend.length; i++)\n    {\n      x = (x << 16) + dividend[i];\n      q = Math.floor(x / divisor);\n      x -= q * divisor;\n      if(quotient.length > 0 || q > 0)\n        quotient[quotient.length] = q;\n    }\n    remainders[remainders.length] = x;\n    dividend = quotient;\n  }\n\n  /* Convert the remainders to the output string */\n  var output = \"\";\n  for(i = remainders.length - 1; i >= 0; i--)\n    output += encoding.charAt(remainders[i]);\n\n  /* Append leading zero equivalents */\n  var full_length = Math.ceil(input.length * 8 /\n                                    (Math.log(encoding.length) / Math.log(2)))\n  for(i = output.length; i < full_length; i++)\n    output = encoding[0] + output;\n\n  return output;\n}\n\n/*\n * Encode a string as utf-8.\n * For efficiency, this assumes the input is valid utf-16.\n */\nfunction str2rstr_utf8(input)\n{\n  var output = \"\";\n  var i = -1;\n  var x, y;\n\n  while(++i < input.length)\n  {\n    /* Decode utf-16 surrogate pairs */\n    x = input.charCodeAt(i);\n    y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\n    if(0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF)\n    {\n      x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\n      i++;\n    }\n\n    /* Encode output as utf-8 */\n    if(x <= 0x7F)\n      output += String.fromCharCode(x);\n    else if(x <= 0x7FF)\n      output += String.fromCharCode(0xC0 | ((x >>> 6 ) & 0x1F),\n                                    0x80 | ( x         & 0x3F));\n    else if(x <= 0xFFFF)\n      output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\n                                    0x80 | ((x >>> 6 ) & 0x3F),\n                                    0x80 | ( x         & 0x3F));\n    else if(x <= 0x1FFFFF)\n      output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\n                                    0x80 | ((x >>> 12) & 0x3F),\n                                    0x80 | ((x >>> 6 ) & 0x3F),\n                                    0x80 | ( x         & 0x3F));\n  }\n  return output;\n}\n\n/*\n * Encode a string as utf-16\n */\nfunction str2rstr_utf16le(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length; i++)\n    output += String.fromCharCode( input.charCodeAt(i)        & 0xFF,\n                                  (input.charCodeAt(i) >>> 8) & 0xFF);\n  return output;\n}\n\nfunction str2rstr_utf16be(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length; i++)\n    output += String.fromCharCode((input.charCodeAt(i) >>> 8) & 0xFF,\n                                   input.charCodeAt(i)        & 0xFF);\n  return output;\n}\n\n/*\n * Convert a raw string to an array of big-endian words\n * Characters >255 have their high-byte silently ignored.\n */\nfunction rstr2binb(input)\n{\n  var output = Array(input.length >> 2);\n  for(var i = 0; i < output.length; i++)\n    output[i] = 0;\n  for(var i = 0; i < input.length * 8; i += 8)\n    output[i>>5] |= (input.charCodeAt(i / 8) & 0xFF) << (24 - i % 32);\n  return output;\n}\n\n/*\n * Convert an array of big-endian words to a string\n */\nfunction binb2rstr(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length * 32; i += 8)\n    output += String.fromCharCode((input[i>>5] >>> (24 - i % 32)) & 0xFF);\n  return output;\n}\n\n/*\n * Calculate the SHA-1 of an array of big-endian words, and a bit length\n */\nfunction binb_sha1(x, len)\n{\n  /* append padding */\n  x[len >> 5] |= 0x80 << (24 - len % 32);\n  x[((len + 64 >> 9) << 4) + 15] = len;\n\n  var w = Array(80);\n  var a =  1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d =  271733878;\n  var e = -1009589776;\n\n  for(var i = 0; i < x.length; i += 16)\n  {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    var olde = e;\n\n    for(var j = 0; j < 80; j++)\n    {\n      if(j < 16) w[j] = x[i + j];\n      else w[j] = bit_rol(w[j-3] ^ w[j-8] ^ w[j-14] ^ w[j-16], 1);\n      var t = safe_add(safe_add(bit_rol(a, 5), sha1_ft(j, b, c, d)),\n                       safe_add(safe_add(e, w[j]), sha1_kt(j)));\n      e = d;\n      d = c;\n      c = bit_rol(b, 30);\n      b = a;\n      a = t;\n    }\n\n    a = safe_add(a, olda);\n    b = safe_add(b, oldb);\n    c = safe_add(c, oldc);\n    d = safe_add(d, oldd);\n    e = safe_add(e, olde);\n  }\n  return Array(a, b, c, d, e);\n\n}\n\n/*\n * Perform the appropriate triplet combination function for the current\n * iteration\n */\nfunction sha1_ft(t, b, c, d)\n{\n  if(t < 20) return (b & c) | ((~b) & d);\n  if(t < 40) return b ^ c ^ d;\n  if(t < 60) return (b & c) | (b & d) | (c & d);\n  return b ^ c ^ d;\n}\n\n/*\n * Determine the appropriate additive constant for the current iteration\n */\nfunction sha1_kt(t)\n{\n  return (t < 20) ?  1518500249 : (t < 40) ?  1859775393 :\n         (t < 60) ? -1894007588 : -899497514;\n}\n\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\nfunction safe_add(x, y)\n{\n  var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return (msw << 16) | (lsw & 0xFFFF);\n}\n\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\nfunction bit_rol(num, cnt)\n{\n  return (num << cnt) | (num >>> (32 - cnt));\n}\n\nexports.HMACSHA1= function(key, data) {\n  return b64_hmac_sha1(key, data);\n}","// Returns true if this is a host that closes *before* it ends?!?!\nmodule.exports.isAnEarlyCloseHost= function( hostName ) {\n  return hostName && hostName.match(\".*google(apis)?.com$\")\n}","var crypto= require('crypto'),\n    sha1= require('./sha1'),\n    http= require('http'),\n    https= require('https'),\n    URL= require('url'),\n    querystring= require('querystring'),\n    OAuthUtils= require('./_utils');\n\nexports.OAuth= function(requestUrl, accessUrl, consumerKey, consumerSecret, version, authorize_callback, signatureMethod, nonceSize, customHeaders) {\n  this._isEcho = false;\n\n  this._requestUrl= requestUrl;\n  this._accessUrl= accessUrl;\n  this._consumerKey= consumerKey;\n  this._consumerSecret= this._encodeData( consumerSecret );\n  if (signatureMethod == \"RSA-SHA1\") {\n    this._privateKey = consumerSecret;\n  }\n  this._version= version;\n  if( authorize_callback === undefined ) {\n    this._authorize_callback= \"oob\";\n  }\n  else {\n    this._authorize_callback= authorize_callback;\n  }\n\n  if( signatureMethod != \"PLAINTEXT\" && signatureMethod != \"HMAC-SHA1\" && signatureMethod != \"RSA-SHA1\")\n    throw new Error(\"Un-supported signature method: \" + signatureMethod )\n  this._signatureMethod= signatureMethod;\n  this._nonceSize= nonceSize || 32;\n  this._headers= customHeaders || {\"Accept\" : \"*/*\",\n                                   \"Connection\" : \"close\",\n                                   \"User-Agent\" : \"Node authentication\"}\n  this._clientOptions= this._defaultClientOptions= {\"requestTokenHttpMethod\": \"POST\",\n                                                    \"accessTokenHttpMethod\": \"POST\",\n                                                    \"followRedirects\": true};\n  this._oauthParameterSeperator = \",\";\n};\n\nexports.OAuthEcho= function(realm, verify_credentials, consumerKey, consumerSecret, version, signatureMethod, nonceSize, customHeaders) {\n  this._isEcho = true;\n\n  this._realm= realm;\n  this._verifyCredentials = verify_credentials;\n  this._consumerKey= consumerKey;\n  this._consumerSecret= this._encodeData( consumerSecret );\n  if (signatureMethod == \"RSA-SHA1\") {\n    this._privateKey = consumerSecret;\n  }\n  this._version= version;\n\n  if( signatureMethod != \"PLAINTEXT\" && signatureMethod != \"HMAC-SHA1\" && signatureMethod != \"RSA-SHA1\")\n    throw new Error(\"Un-supported signature method: \" + signatureMethod );\n  this._signatureMethod= signatureMethod;\n  this._nonceSize= nonceSize || 32;\n  this._headers= customHeaders || {\"Accept\" : \"*/*\",\n                                   \"Connection\" : \"close\",\n                                   \"User-Agent\" : \"Node authentication\"};\n  this._oauthParameterSeperator = \",\";\n}\n\nexports.OAuthEcho.prototype = exports.OAuth.prototype;\n\nexports.OAuth.prototype._getTimestamp= function() {\n  return Math.floor( (new Date()).getTime() / 1000 );\n}\n\nexports.OAuth.prototype._encodeData= function(toEncode){\n if( toEncode == null || toEncode == \"\" ) return \"\"\n else {\n    var result= encodeURIComponent(toEncode);\n    // Fix the mismatch between OAuth's  RFC3986's and Javascript's beliefs in what is right and wrong ;)\n    return result.replace(/\\!/g, \"%21\")\n                 .replace(/\\'/g, \"%27\")\n                 .replace(/\\(/g, \"%28\")\n                 .replace(/\\)/g, \"%29\")\n                 .replace(/\\*/g, \"%2A\");\n }\n}\n\nexports.OAuth.prototype._decodeData= function(toDecode) {\n  if( toDecode != null ) {\n    toDecode = toDecode.replace(/\\+/g, \" \");\n  }\n  return decodeURIComponent( toDecode);\n}\n\nexports.OAuth.prototype._getSignature= function(method, url, parameters, tokenSecret) {\n  var signatureBase= this._createSignatureBase(method, url, parameters);\n  return this._createSignature( signatureBase, tokenSecret );\n}\n\nexports.OAuth.prototype._normalizeUrl= function(url) {\n  var parsedUrl= URL.parse(url, true)\n   var port =\"\";\n   if( parsedUrl.port ) {\n     if( (parsedUrl.protocol == \"http:\" && parsedUrl.port != \"80\" ) ||\n         (parsedUrl.protocol == \"https:\" && parsedUrl.port != \"443\") ) {\n           port= \":\" + parsedUrl.port;\n         }\n   }\n\n  if( !parsedUrl.pathname  || parsedUrl.pathname == \"\" ) parsedUrl.pathname =\"/\";\n\n  return parsedUrl.protocol + \"//\" + parsedUrl.hostname + port + parsedUrl.pathname;\n}\n\n// Is the parameter considered an OAuth parameter\nexports.OAuth.prototype._isParameterNameAnOAuthParameter= function(parameter) {\n  var m = parameter.match('^oauth_');\n  if( m && ( m[0] === \"oauth_\" ) ) {\n    return true;\n  }\n  else {\n    return false;\n  }\n};\n\n// build the OAuth request authorization header\nexports.OAuth.prototype._buildAuthorizationHeaders= function(orderedParameters) {\n  var authHeader=\"OAuth \";\n  if( this._isEcho ) {\n    authHeader += 'realm=\"' + this._realm + '\",';\n  }\n\n  for( var i= 0 ; i < orderedParameters.length; i++) {\n     // Whilst the all the parameters should be included within the signature, only the oauth_ arguments\n     // should appear within the authorization header.\n     if( this._isParameterNameAnOAuthParameter(orderedParameters[i][0]) ) {\n      authHeader+= \"\" + this._encodeData(orderedParameters[i][0])+\"=\\\"\"+ this._encodeData(orderedParameters[i][1])+\"\\\"\"+ this._oauthParameterSeperator;\n     }\n  }\n\n  authHeader= authHeader.substring(0, authHeader.length-this._oauthParameterSeperator.length);\n  return authHeader;\n}\n\n// Takes an object literal that represents the arguments, and returns an array\n// of argument/value pairs.\nexports.OAuth.prototype._makeArrayOfArgumentsHash= function(argumentsHash) {\n  var argument_pairs= [];\n  for(var key in argumentsHash ) {\n    if (argumentsHash.hasOwnProperty(key)) {\n       var value= argumentsHash[key];\n       if( Array.isArray(value) ) {\n         for(var i=0;i<value.length;i++) {\n           argument_pairs[argument_pairs.length]= [key, value[i]];\n         }\n       }\n       else {\n         argument_pairs[argument_pairs.length]= [key, value];\n       }\n    }\n  }\n  return argument_pairs;\n}\n\n// Sorts the encoded key value pairs by encoded name, then encoded value\nexports.OAuth.prototype._sortRequestParams= function(argument_pairs) {\n  // Sort by name, then value.\n  argument_pairs.sort(function(a,b) {\n      if ( a[0]== b[0] )  {\n        return a[1] < b[1] ? -1 : 1;\n      }\n      else return a[0] < b[0] ? -1 : 1;\n  });\n\n  return argument_pairs;\n}\n\nexports.OAuth.prototype._normaliseRequestParams= function(args) {\n  var argument_pairs= this._makeArrayOfArgumentsHash(args);\n  // First encode them #3.4.1.3.2 .1\n  for(var i=0;i<argument_pairs.length;i++) {\n    argument_pairs[i][0]= this._encodeData( argument_pairs[i][0] );\n    argument_pairs[i][1]= this._encodeData( argument_pairs[i][1] );\n  }\n\n  // Then sort them #3.4.1.3.2 .2\n  argument_pairs= this._sortRequestParams( argument_pairs );\n\n  // Then concatenate together #3.4.1.3.2 .3 & .4\n  var args= \"\";\n  for(var i=0;i<argument_pairs.length;i++) {\n      args+= argument_pairs[i][0];\n      args+= \"=\"\n      args+= argument_pairs[i][1];\n      if( i < argument_pairs.length-1 ) args+= \"&\";\n  }\n  return args;\n}\n\nexports.OAuth.prototype._createSignatureBase= function(method, url, parameters) {\n  url= this._encodeData( this._normalizeUrl(url) );\n  parameters= this._encodeData( parameters );\n  return method.toUpperCase() + \"&\" + url + \"&\" + parameters;\n}\n\nexports.OAuth.prototype._createSignature= function(signatureBase, tokenSecret) {\n   if( tokenSecret === undefined ) var tokenSecret= \"\";\n   else tokenSecret= this._encodeData( tokenSecret );\n   // consumerSecret is already encoded\n   var key= this._consumerSecret + \"&\" + tokenSecret;\n\n   var hash= \"\"\n   if( this._signatureMethod == \"PLAINTEXT\" ) {\n     hash= key;\n   }\n   else if (this._signatureMethod == \"RSA-SHA1\") {\n     key = this._privateKey || \"\";\n     hash= crypto.createSign(\"RSA-SHA1\").update(signatureBase).sign(key, 'base64');\n   }\n   else {\n       if( crypto.Hmac ) {\n         hash = crypto.createHmac(\"sha1\", key).update(signatureBase).digest(\"base64\");\n       }\n       else {\n         hash= sha1.HMACSHA1(key, signatureBase);\n       }\n   }\n   return hash;\n}\nexports.OAuth.prototype.NONCE_CHARS= ['a','b','c','d','e','f','g','h','i','j','k','l','m','n',\n              'o','p','q','r','s','t','u','v','w','x','y','z','A','B',\n              'C','D','E','F','G','H','I','J','K','L','M','N','O','P',\n              'Q','R','S','T','U','V','W','X','Y','Z','0','1','2','3',\n              '4','5','6','7','8','9'];\n\nexports.OAuth.prototype._getNonce= function(nonceSize) {\n   var result = [];\n   var chars= this.NONCE_CHARS;\n   var char_pos;\n   var nonce_chars_length= chars.length;\n\n   for (var i = 0; i < nonceSize; i++) {\n       char_pos= Math.floor(Math.random() * nonce_chars_length);\n       result[i]=  chars[char_pos];\n   }\n   return result.join('');\n}\n\nexports.OAuth.prototype._createClient= function( port, hostname, method, path, headers, sslEnabled ) {\n  var options = {\n    host: hostname,\n    port: port,\n    path: path,\n    method: method,\n    headers: headers\n  };\n  var httpModel;\n  if( sslEnabled ) {\n    httpModel= https;\n  } else {\n    httpModel= http;\n  }\n  return httpModel.request(options);\n}\n\nexports.OAuth.prototype._prepareParameters= function( oauth_token, oauth_token_secret, method, url, extra_params ) {\n  var oauthParameters= {\n      \"oauth_timestamp\":        this._getTimestamp(),\n      \"oauth_nonce\":            this._getNonce(this._nonceSize),\n      \"oauth_version\":          this._version,\n      \"oauth_signature_method\": this._signatureMethod,\n      \"oauth_consumer_key\":     this._consumerKey\n  };\n\n  if( oauth_token ) {\n    oauthParameters[\"oauth_token\"]= oauth_token;\n  }\n\n  var sig;\n  if( this._isEcho ) {\n    sig = this._getSignature( \"GET\",  this._verifyCredentials,  this._normaliseRequestParams(oauthParameters), oauth_token_secret);\n  }\n  else {\n    if( extra_params ) {\n      for( var key in extra_params ) {\n        if (extra_params.hasOwnProperty(key)) oauthParameters[key]= extra_params[key];\n      }\n    }\n    var parsedUrl= URL.parse( url, false );\n\n    if( parsedUrl.query ) {\n      var key2;\n      var extraParameters= querystring.parse(parsedUrl.query);\n      for(var key in extraParameters ) {\n        var value= extraParameters[key];\n          if( typeof value == \"object\" ){\n            // TODO: This probably should be recursive\n            for(key2 in value){\n              oauthParameters[key + \"[\" + key2 + \"]\"] = value[key2];\n            }\n          } else {\n            oauthParameters[key]= value;\n          }\n        }\n    }\n\n    sig = this._getSignature( method,  url,  this._normaliseRequestParams(oauthParameters), oauth_token_secret);\n  }\n\n  var orderedParameters= this._sortRequestParams( this._makeArrayOfArgumentsHash(oauthParameters) );\n  orderedParameters[orderedParameters.length]= [\"oauth_signature\", sig];\n  return orderedParameters;\n}\n\nexports.OAuth.prototype._performSecureRequest= function( oauth_token, oauth_token_secret, method, url, extra_params, post_body, post_content_type,  callback ) {\n  var orderedParameters= this._prepareParameters(oauth_token, oauth_token_secret, method, url, extra_params);\n\n  if( !post_content_type ) {\n    post_content_type= \"application/x-www-form-urlencoded\";\n  }\n  var parsedUrl= URL.parse( url, false );\n  if( parsedUrl.protocol == \"http:\" && !parsedUrl.port ) parsedUrl.port= 80;\n  if( parsedUrl.protocol == \"https:\" && !parsedUrl.port ) parsedUrl.port= 443;\n\n  var headers= {};\n  var authorization = this._buildAuthorizationHeaders(orderedParameters);\n  if ( this._isEcho ) {\n    headers[\"X-Verify-Credentials-Authorization\"]= authorization;\n  }\n  else {\n    headers[\"Authorization\"]= authorization;\n  }\n\n  headers[\"Host\"] = parsedUrl.host\n\n  for( var key in this._headers ) {\n    if (this._headers.hasOwnProperty(key)) {\n      headers[key]= this._headers[key];\n    }\n  }\n\n  // Filter out any passed extra_params that are really to do with OAuth\n  for(var key in extra_params) {\n    if( this._isParameterNameAnOAuthParameter( key ) ) {\n      delete extra_params[key];\n    }\n  }\n\n  if( (method == \"POST\" || method == \"PUT\")  && ( post_body == null && extra_params != null) ) {\n    // Fix the mismatch between the output of querystring.stringify() and this._encodeData()\n    post_body= querystring.stringify(extra_params)\n                       .replace(/\\!/g, \"%21\")\n                       .replace(/\\'/g, \"%27\")\n                       .replace(/\\(/g, \"%28\")\n                       .replace(/\\)/g, \"%29\")\n                       .replace(/\\*/g, \"%2A\");\n  }\n\n  if( post_body ) {\n      if ( Buffer.isBuffer(post_body) ) {\n          headers[\"Content-length\"]= post_body.length;\n      } else {\n          headers[\"Content-length\"]= Buffer.byteLength(post_body);\n      }\n  } else {\n      headers[\"Content-length\"]= 0;\n  }\n\n  headers[\"Content-Type\"]= post_content_type;\n\n  var path;\n  if( !parsedUrl.pathname  || parsedUrl.pathname == \"\" ) parsedUrl.pathname =\"/\";\n  if( parsedUrl.query ) path= parsedUrl.pathname + \"?\"+ parsedUrl.query ;\n  else path= parsedUrl.pathname;\n\n  var request;\n  if( parsedUrl.protocol == \"https:\" ) {\n    request= this._createClient(parsedUrl.port, parsedUrl.hostname, method, path, headers, true);\n  }\n  else {\n    request= this._createClient(parsedUrl.port, parsedUrl.hostname, method, path, headers);\n  }\n\n  var clientOptions = this._clientOptions;\n  if( callback ) {\n    var data=\"\";\n    var self= this;\n\n    // Some hosts *cough* google appear to close the connection early / send no content-length header\n    // allow this behaviour.\n    var allowEarlyClose= OAuthUtils.isAnEarlyCloseHost( parsedUrl.hostname );\n    var callbackCalled= false;\n    var passBackControl = function( response ) {\n      if(!callbackCalled) {\n        callbackCalled= true;\n        if ( response.statusCode >= 200 && response.statusCode <= 299 ) {\n          callback(null, data, response);\n        } else {\n          // Follow 301 or 302 redirects with Location HTTP header\n          if((response.statusCode == 301 || response.statusCode == 302) && clientOptions.followRedirects && response.headers && response.headers.location) {\n            self._performSecureRequest( oauth_token, oauth_token_secret, method, response.headers.location, extra_params, post_body, post_content_type,  callback);\n          }\n          else {\n            callback({ statusCode: response.statusCode, data: data }, data, response);\n          }\n        }\n      }\n    }\n\n    request.on('response', function (response) {\n      response.setEncoding('utf8');\n      response.on('data', function (chunk) {\n        data+=chunk;\n      });\n      response.on('end', function () {\n        passBackControl( response );\n      });\n      response.on('close', function () {\n        if( allowEarlyClose ) {\n          passBackControl( response );\n        }\n      });\n    });\n\n    request.on(\"error\", function(err) {\n      if(!callbackCalled) {\n        callbackCalled= true;\n        callback( err )\n      }\n    });\n\n    if( (method == \"POST\" || method ==\"PUT\") && post_body != null && post_body != \"\" ) {\n      request.write(post_body);\n    }\n    request.end();\n  }\n  else {\n    if( (method == \"POST\" || method ==\"PUT\") && post_body != null && post_body != \"\" ) {\n      request.write(post_body);\n    }\n    return request;\n  }\n\n  return;\n}\n\nexports.OAuth.prototype.setClientOptions= function(options) {\n  var key,\n      mergedOptions= {},\n      hasOwnProperty= Object.prototype.hasOwnProperty;\n\n  for( key in this._defaultClientOptions ) {\n    if( !hasOwnProperty.call(options, key) ) {\n      mergedOptions[key]= this._defaultClientOptions[key];\n    } else {\n      mergedOptions[key]= options[key];\n    }\n  }\n\n  this._clientOptions= mergedOptions;\n};\n\nexports.OAuth.prototype.getOAuthAccessToken= function(oauth_token, oauth_token_secret, oauth_verifier,  callback) {\n  var extraParams= {};\n  if( typeof oauth_verifier == \"function\" ) {\n    callback= oauth_verifier;\n  } else {\n    extraParams.oauth_verifier= oauth_verifier;\n  }\n\n   this._performSecureRequest( oauth_token, oauth_token_secret, this._clientOptions.accessTokenHttpMethod, this._accessUrl, extraParams, null, null, function(error, data, response) {\n         if( error ) callback(error);\n         else {\n           var results= querystring.parse( data );\n           var oauth_access_token= results[\"oauth_token\"];\n           delete results[\"oauth_token\"];\n           var oauth_access_token_secret= results[\"oauth_token_secret\"];\n           delete results[\"oauth_token_secret\"];\n           callback(null, oauth_access_token, oauth_access_token_secret, results );\n         }\n   })\n}\n\n// Deprecated\nexports.OAuth.prototype.getProtectedResource= function(url, method, oauth_token, oauth_token_secret, callback) {\n  this._performSecureRequest( oauth_token, oauth_token_secret, method, url, null, \"\", null, callback );\n}\n\nexports.OAuth.prototype.delete= function(url, oauth_token, oauth_token_secret, callback) {\n  return this._performSecureRequest( oauth_token, oauth_token_secret, \"DELETE\", url, null, \"\", null, callback );\n}\n\nexports.OAuth.prototype.get= function(url, oauth_token, oauth_token_secret, callback) {\n  return this._performSecureRequest( oauth_token, oauth_token_secret, \"GET\", url, null, \"\", null, callback );\n}\n\nexports.OAuth.prototype._putOrPost= function(method, url, oauth_token, oauth_token_secret, post_body, post_content_type, callback) {\n  var extra_params= null;\n  if( typeof post_content_type == \"function\" ) {\n    callback= post_content_type;\n    post_content_type= null;\n  }\n  if ( typeof post_body != \"string\" && !Buffer.isBuffer(post_body) ) {\n    post_content_type= \"application/x-www-form-urlencoded\"\n    extra_params= post_body;\n    post_body= null;\n  }\n  return this._performSecureRequest( oauth_token, oauth_token_secret, method, url, extra_params, post_body, post_content_type, callback );\n}\n\n\nexports.OAuth.prototype.put= function(url, oauth_token, oauth_token_secret, post_body, post_content_type, callback) {\n  return this._putOrPost(\"PUT\", url, oauth_token, oauth_token_secret, post_body, post_content_type, callback);\n}\n\nexports.OAuth.prototype.post= function(url, oauth_token, oauth_token_secret, post_body, post_content_type, callback) {\n  return this._putOrPost(\"POST\", url, oauth_token, oauth_token_secret, post_body, post_content_type, callback);\n}\n\n/**\n * Gets a request token from the OAuth provider and passes that information back\n * to the calling code.\n *\n * The callback should expect a function of the following form:\n *\n * function(err, token, token_secret, parsedQueryString) {}\n *\n * This method has optional parameters so can be called in the following 2 ways:\n *\n * 1) Primary use case: Does a basic request with no extra parameters\n *  getOAuthRequestToken( callbackFunction )\n *\n * 2) As above but allows for provision of extra parameters to be sent as part of the query to the server.\n *  getOAuthRequestToken( extraParams, callbackFunction )\n *\n * N.B. This method will HTTP POST verbs by default, if you wish to override this behaviour you will\n * need to provide a requestTokenHttpMethod option when creating the client.\n *\n **/\nexports.OAuth.prototype.getOAuthRequestToken= function( extraParams, callback ) {\n   if( typeof extraParams == \"function\" ){\n     callback = extraParams;\n     extraParams = {};\n   }\n  // Callbacks are 1.0A related\n  if( this._authorize_callback ) {\n    extraParams[\"oauth_callback\"]= this._authorize_callback;\n  }\n  this._performSecureRequest( null, null, this._clientOptions.requestTokenHttpMethod, this._requestUrl, extraParams, null, null, function(error, data, response) {\n    if( error ) callback(error);\n    else {\n      var results= querystring.parse(data);\n\n      var oauth_token= results[\"oauth_token\"];\n      var oauth_token_secret= results[\"oauth_token_secret\"];\n      delete results[\"oauth_token\"];\n      delete results[\"oauth_token_secret\"];\n      callback(null, oauth_token, oauth_token_secret,  results );\n    }\n  });\n}\n\nexports.OAuth.prototype.signUrl= function(url, oauth_token, oauth_token_secret, method) {\n\n  if( method === undefined ) {\n    var method= \"GET\";\n  }\n\n  var orderedParameters= this._prepareParameters(oauth_token, oauth_token_secret, method, url, {});\n  var parsedUrl= URL.parse( url, false );\n\n  var query=\"\";\n  for( var i= 0 ; i < orderedParameters.length; i++) {\n    query+= orderedParameters[i][0]+\"=\"+ this._encodeData(orderedParameters[i][1]) + \"&\";\n  }\n  query= query.substring(0, query.length-1);\n\n  return parsedUrl.protocol + \"//\"+ parsedUrl.host + parsedUrl.pathname + \"?\" + query;\n};\n\nexports.OAuth.prototype.authHeader= function(url, oauth_token, oauth_token_secret, method) {\n  if( method === undefined ) {\n    var method= \"GET\";\n  }\n\n  var orderedParameters= this._prepareParameters(oauth_token, oauth_token_secret, method, url, {});\n  return this._buildAuthorizationHeaders(orderedParameters);\n};\n","var querystring= require('querystring'),\n    crypto= require('crypto'),\n    https= require('https'),\n    http= require('http'),\n    URL= require('url'),\n    OAuthUtils= require('./_utils');\n\nexports.OAuth2= function(clientId, clientSecret, baseSite, authorizePath, accessTokenPath, customHeaders) {\n  this._clientId= clientId;\n  this._clientSecret= clientSecret;\n  this._baseSite= baseSite;\n  this._authorizeUrl= authorizePath || \"/oauth/authorize\";\n  this._accessTokenUrl= accessTokenPath || \"/oauth/access_token\";\n  this._accessTokenName= \"access_token\";\n  this._authMethod= \"Bearer\";\n  this._customHeaders = customHeaders || {};\n  this._useAuthorizationHeaderForGET= false;\n\n  //our agent\n  this._agent = undefined;\n};\n\n// Allows you to set an agent to use instead of the default HTTP or\n// HTTPS agents. Useful when dealing with your own certificates.\nexports.OAuth2.prototype.setAgent = function(agent) {\n  this._agent = agent;\n};\n\n// This 'hack' method is required for sites that don't use\n// 'access_token' as the name of the access token (for requests).\n// ( http://tools.ietf.org/html/draft-ietf-oauth-v2-16#section-7 )\n// it isn't clear what the correct value should be atm, so allowing\n// for specific (temporary?) override for now.\nexports.OAuth2.prototype.setAccessTokenName= function ( name ) {\n  this._accessTokenName= name;\n}\n\n// Sets the authorization method for Authorization header.\n// e.g. Authorization: Bearer <token>  # \"Bearer\" is the authorization method.\nexports.OAuth2.prototype.setAuthMethod = function ( authMethod ) {\n  this._authMethod = authMethod;\n};\n\n\n// If you use the OAuth2 exposed 'get' method (and don't construct your own _request call )\n// this will specify whether to use an 'Authorize' header instead of passing the access_token as a query parameter\nexports.OAuth2.prototype.useAuthorizationHeaderforGET = function(useIt) {\n  this._useAuthorizationHeaderForGET= useIt;\n}\n\nexports.OAuth2.prototype._getAccessTokenUrl= function() {\n  return this._baseSite + this._accessTokenUrl; /* + \"?\" + querystring.stringify(params); */\n}\n\n// Build the authorization header. In particular, build the part after the colon.\n// e.g. Authorization: Bearer <token>  # Build \"Bearer <token>\"\nexports.OAuth2.prototype.buildAuthHeader= function(token) {\n  return this._authMethod + ' ' + token;\n};\n\nexports.OAuth2.prototype._chooseHttpLibrary= function( parsedUrl ) {\n  var http_library= https;\n  // As this is OAUth2, we *assume* https unless told explicitly otherwise.\n  if( parsedUrl.protocol != \"https:\" ) {\n    http_library= http;\n  }\n  return http_library;\n};\n\nexports.OAuth2.prototype._request= function(method, url, headers, post_body, access_token, callback) {\n\n  var parsedUrl= URL.parse( url, true );\n  if( parsedUrl.protocol == \"https:\" && !parsedUrl.port ) {\n    parsedUrl.port= 443;\n  }\n\n  var http_library= this._chooseHttpLibrary( parsedUrl );\n\n\n  var realHeaders= {};\n  for( var key in this._customHeaders ) {\n    realHeaders[key]= this._customHeaders[key];\n  }\n  if( headers ) {\n    for(var key in headers) {\n      realHeaders[key] = headers[key];\n    }\n  }\n  realHeaders['Host']= parsedUrl.host;\n\n  if (!realHeaders['User-Agent']) {\n    realHeaders['User-Agent'] = 'Node-oauth';\n  }\n\n  if( post_body ) {\n      if ( Buffer.isBuffer(post_body) ) {\n          realHeaders[\"Content-Length\"]= post_body.length;\n      } else {\n          realHeaders[\"Content-Length\"]= Buffer.byteLength(post_body);\n      }\n  } else {\n      realHeaders[\"Content-length\"]= 0;\n  }\n\n  if( access_token && !('Authorization' in realHeaders)) {\n    if( ! parsedUrl.query ) parsedUrl.query= {};\n    parsedUrl.query[this._accessTokenName]= access_token;\n  }\n\n  var queryStr= querystring.stringify(parsedUrl.query);\n  if( queryStr ) queryStr=  \"?\" + queryStr;\n  var options = {\n    host:parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.pathname + queryStr,\n    method: method,\n    headers: realHeaders\n  };\n\n  this._executeRequest( http_library, options, post_body, callback );\n}\n\nexports.OAuth2.prototype._executeRequest= function( http_library, options, post_body, callback ) {\n  // Some hosts *cough* google appear to close the connection early / send no content-length header\n  // allow this behaviour.\n  var allowEarlyClose= OAuthUtils.isAnEarlyCloseHost(options.host);\n  var callbackCalled= false;\n  function passBackControl( response, result ) {\n    if(!callbackCalled) {\n      callbackCalled=true;\n      if( !(response.statusCode >= 200 && response.statusCode <= 299) && (response.statusCode != 301) && (response.statusCode != 302) ) {\n        callback({ statusCode: response.statusCode, data: result });\n      } else {\n        callback(null, result, response);\n      }\n    }\n  }\n\n  var result= \"\";\n\n  //set the agent on the request options\n  if (this._agent) {\n    options.agent = this._agent;\n  }\n\n  var request = http_library.request(options);\n  request.on('response', function (response) {\n    response.on(\"data\", function (chunk) {\n      result+= chunk\n    });\n    response.on(\"close\", function (err) {\n      if( allowEarlyClose ) {\n        passBackControl( response, result );\n      }\n    });\n    response.addListener(\"end\", function () {\n      passBackControl( response, result );\n    });\n  });\n  request.on('error', function(e) {\n    callbackCalled= true;\n    callback(e);\n  });\n\n  if( (options.method == 'POST' || options.method == 'PUT') && post_body ) {\n     request.write(post_body);\n  }\n  request.end();\n}\n\nexports.OAuth2.prototype.getAuthorizeUrl= function( params ) {\n  var params= params || {};\n  params['client_id'] = this._clientId;\n  return this._baseSite + this._authorizeUrl + \"?\" + querystring.stringify(params);\n}\n\nexports.OAuth2.prototype.getOAuthAccessToken= function(code, params, callback) {\n  var params= params || {};\n  params['client_id'] = this._clientId;\n  params['client_secret'] = this._clientSecret;\n  var codeParam = (params.grant_type === 'refresh_token') ? 'refresh_token' : 'code';\n  params[codeParam]= code;\n\n  var post_data= querystring.stringify( params );\n  var post_headers= {\n       'Content-Type': 'application/x-www-form-urlencoded'\n   };\n\n\n  this._request(\"POST\", this._getAccessTokenUrl(), post_headers, post_data, null, function(error, data, response) {\n    if( error )  callback(error);\n    else {\n      var results;\n      try {\n        // As of http://tools.ietf.org/html/draft-ietf-oauth-v2-07\n        // responses should be in JSON\n        results= JSON.parse( data );\n      }\n      catch(e) {\n        // .... However both Facebook + Github currently use rev05 of the spec\n        // and neither seem to specify a content-type correctly in their response headers :(\n        // clients of these services will suffer a *minor* performance cost of the exception\n        // being thrown\n        results= querystring.parse( data );\n      }\n      var access_token= results[\"access_token\"];\n      var refresh_token= results[\"refresh_token\"];\n      delete results[\"refresh_token\"];\n      callback(null, access_token, refresh_token, results); // callback results =-=\n    }\n  });\n}\n\n// Deprecated\nexports.OAuth2.prototype.getProtectedResource= function(url, access_token, callback) {\n  this._request(\"GET\", url, {}, \"\", access_token, callback );\n}\n\nexports.OAuth2.prototype.get= function(url, access_token, callback) {\n  if( this._useAuthorizationHeaderForGET ) {\n    var headers= {'Authorization': this.buildAuthHeader(access_token) }\n    access_token= null;\n  }\n  else {\n    headers= {};\n  }\n  this._request(\"GET\", url, headers, \"\", access_token, callback );\n}\n","exports.OAuth = require(\"./lib/oauth\").OAuth;\nexports.OAuthEcho = require(\"./lib/oauth\").OAuthEcho;\nexports.OAuth2 = require(\"./lib/oauth2\").OAuth2;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.oAuth1Client = oAuth1Client;\nexports.oAuth1TokenStore = void 0;\nvar _oauth = require(\"oauth\");\nfunction oAuth1Client(options) {\n  var _provider$version, _provider$encoding;\n  const provider = options.provider;\n  const oauth1Client = new _oauth.OAuth(provider.requestTokenUrl, provider.accessTokenUrl, provider.clientId, provider.clientSecret, (_provider$version = provider.version) !== null && _provider$version !== void 0 ? _provider$version : \"1.0\", provider.callbackUrl, (_provider$encoding = provider.encoding) !== null && _provider$encoding !== void 0 ? _provider$encoding : \"HMAC-SHA1\");\n  const originalGet = oauth1Client.get.bind(oauth1Client);\n  oauth1Client.get = async (...args) => {\n    return await new Promise((resolve, reject) => {\n      originalGet(...args, (error, result) => {\n        if (error) {\n          return reject(error);\n        }\n        resolve(result);\n      });\n    });\n  };\n  const originalGetOAuth1AccessToken = oauth1Client.getOAuthAccessToken.bind(oauth1Client);\n  oauth1Client.getOAuthAccessToken = async (...args) => {\n    return await new Promise((resolve, reject) => {\n      originalGetOAuth1AccessToken(...args, (error, oauth_token, oauth_token_secret) => {\n        if (error) {\n          return reject(error);\n        }\n        resolve({\n          oauth_token,\n          oauth_token_secret\n        });\n      });\n    });\n  };\n  const originalGetOAuthRequestToken = oauth1Client.getOAuthRequestToken.bind(oauth1Client);\n  oauth1Client.getOAuthRequestToken = async (params = {}) => {\n    return await new Promise((resolve, reject) => {\n      originalGetOAuthRequestToken(params, (error, oauth_token, oauth_token_secret, params) => {\n        if (error) {\n          return reject(error);\n        }\n        resolve({\n          oauth_token,\n          oauth_token_secret,\n          params\n        });\n      });\n    });\n  };\n  return oauth1Client;\n}\nconst oAuth1TokenStore = exports.oAuth1TokenStore = new Map();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nexports.default = (digest, ikm, salt, info, keylen) => {\n    const hashlen = parseInt(digest.substr(3), 10) >> 3 || 20;\n    const prk = (0, crypto_1.createHmac)(digest, salt.byteLength ? salt : new Uint8Array(hashlen))\n        .update(ikm)\n        .digest();\n    const N = Math.ceil(keylen / hashlen);\n    const T = new Uint8Array(hashlen * N + info.byteLength + 1);\n    let prev = 0;\n    let start = 0;\n    for (let c = 1; c <= N; c++) {\n        T.set(info, start);\n        T[start + info.byteLength] = c;\n        T.set((0, crypto_1.createHmac)(digest, prk)\n            .update(T.subarray(prev, start + info.byteLength + 1))\n            .digest(), start);\n        prev = start;\n        start += hashlen;\n    }\n    return T.slice(0, keylen);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst fallback_js_1 = require(\"./fallback.js\");\nlet hkdf;\nif (typeof crypto.hkdf === 'function' && !process.versions.electron) {\n    hkdf = async (...args) => new Promise((resolve, reject) => {\n        crypto.hkdf(...args, (err, arrayBuffer) => {\n            if (err)\n                reject(err);\n            else\n                resolve(new Uint8Array(arrayBuffer));\n        });\n    });\n}\nexports.default = async (digest, ikm, salt, info, keylen) => (hkdf || fallback_js_1.default)(digest, ikm, salt, info, keylen);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.hkdf = void 0;\nconst hkdf_js_1 = require(\"./runtime/hkdf.js\");\nfunction normalizeDigest(digest) {\n    switch (digest) {\n        case 'sha256':\n        case 'sha384':\n        case 'sha512':\n        case 'sha1':\n            return digest;\n        default:\n            throw new TypeError('unsupported \"digest\" value');\n    }\n}\nfunction normalizeUint8Array(input, label) {\n    if (typeof input === 'string')\n        return new TextEncoder().encode(input);\n    if (!(input instanceof Uint8Array))\n        throw new TypeError(`\"${label}\"\" must be an instance of Uint8Array or a string`);\n    return input;\n}\nfunction normalizeIkm(input) {\n    const ikm = normalizeUint8Array(input, 'ikm');\n    if (!ikm.byteLength)\n        throw new TypeError(`\"ikm\" must be at least one byte in length`);\n    return ikm;\n}\nfunction normalizeInfo(input) {\n    const info = normalizeUint8Array(input, 'info');\n    if (info.byteLength > 1024) {\n        throw TypeError('\"info\" must not contain more than 1024 bytes');\n    }\n    return info;\n}\nfunction normalizeKeylen(input, digest) {\n    if (typeof input !== 'number' || !Number.isInteger(input) || input < 1) {\n        throw new TypeError('\"keylen\" must be a positive integer');\n    }\n    const hashlen = parseInt(digest.substr(3), 10) >> 3 || 20;\n    if (input > 255 * hashlen) {\n        throw new TypeError('\"keylen\" too large');\n    }\n    return input;\n}\nasync function hkdf(digest, ikm, salt, info, keylen) {\n    return (0, hkdf_js_1.default)(normalizeDigest(digest), normalizeIkm(ikm), normalizeUint8Array(salt, 'salt'), normalizeInfo(info), normalizeKeylen(keylen, digest));\n}\nexports.hkdf = hkdf;\nexports.default = hkdf;\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import crypto from 'crypto';\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('md5').update(bytes).digest();\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import crypto from 'crypto';\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('sha1').update(bytes).digest();\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SessionStore = void 0;\nexports.defaultCookies = defaultCookies;\nfunction _classPrivateMethodInitSpec(e, a) { _checkPrivateRedeclaration(e, a), a.add(e); }\nfunction _classPrivateFieldInitSpec(e, t, a) { _checkPrivateRedeclaration(e, t), t.set(e, a); }\nfunction _checkPrivateRedeclaration(e, t) { if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); }\nfunction _classPrivateFieldGet(s, a) { return s.get(_assertClassBrand(s, a)); }\nfunction _classPrivateFieldSet(s, a, r) { return s.set(_assertClassBrand(s, a), r), r; }\nfunction _assertClassBrand(e, t, n) { if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n; throw new TypeError(\"Private element is not present on this object\"); }\nconst ALLOWED_COOKIE_SIZE = 4096;\nconst ESTIMATED_EMPTY_COOKIE_SIZE = 163;\nconst CHUNK_SIZE = ALLOWED_COOKIE_SIZE - ESTIMATED_EMPTY_COOKIE_SIZE;\nfunction defaultCookies(useSecureCookies) {\n  const cookiePrefix = useSecureCookies ? \"__Secure-\" : \"\";\n  return {\n    sessionToken: {\n      name: `${cookiePrefix}next-auth.session-token`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies\n      }\n    },\n    callbackUrl: {\n      name: `${cookiePrefix}next-auth.callback-url`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies\n      }\n    },\n    csrfToken: {\n      name: `${useSecureCookies ? \"__Host-\" : \"\"}next-auth.csrf-token`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies\n      }\n    },\n    pkceCodeVerifier: {\n      name: `${cookiePrefix}next-auth.pkce.code_verifier`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies,\n        maxAge: 60 * 15\n      }\n    },\n    state: {\n      name: `${cookiePrefix}next-auth.state`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies,\n        maxAge: 60 * 15\n      }\n    },\n    nonce: {\n      name: `${cookiePrefix}next-auth.nonce`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies\n      }\n    }\n  };\n}\nvar _chunks = new WeakMap();\nvar _option = new WeakMap();\nvar _logger = new WeakMap();\nvar _SessionStore_brand = new WeakSet();\nclass SessionStore {\n  constructor(option, req, logger) {\n    _classPrivateMethodInitSpec(this, _SessionStore_brand);\n    _classPrivateFieldInitSpec(this, _chunks, {});\n    _classPrivateFieldInitSpec(this, _option, void 0);\n    _classPrivateFieldInitSpec(this, _logger, void 0);\n    _classPrivateFieldSet(_logger, this, logger);\n    _classPrivateFieldSet(_option, this, option);\n    const {\n      cookies: _cookies\n    } = req;\n    const {\n      name: cookieName\n    } = option;\n    if (typeof (_cookies === null || _cookies === void 0 ? void 0 : _cookies.getAll) === \"function\") {\n      for (const {\n        name,\n        value\n      } of _cookies.getAll()) {\n        if (name.startsWith(cookieName)) {\n          _classPrivateFieldGet(_chunks, this)[name] = value;\n        }\n      }\n    } else if (_cookies instanceof Map) {\n      for (const name of _cookies.keys()) {\n        if (name.startsWith(cookieName)) _classPrivateFieldGet(_chunks, this)[name] = _cookies.get(name);\n      }\n    } else {\n      for (const name in _cookies) {\n        if (name.startsWith(cookieName)) _classPrivateFieldGet(_chunks, this)[name] = _cookies[name];\n      }\n    }\n  }\n  get value() {\n    const sortedKeys = Object.keys(_classPrivateFieldGet(_chunks, this)).sort((a, b) => {\n      var _a$split$pop, _b$split$pop;\n      const aSuffix = parseInt((_a$split$pop = a.split(\".\").pop()) !== null && _a$split$pop !== void 0 ? _a$split$pop : \"0\");\n      const bSuffix = parseInt((_b$split$pop = b.split(\".\").pop()) !== null && _b$split$pop !== void 0 ? _b$split$pop : \"0\");\n      return aSuffix - bSuffix;\n    });\n    return sortedKeys.map(key => _classPrivateFieldGet(_chunks, this)[key]).join(\"\");\n  }\n  chunk(value, options) {\n    const cookies = _assertClassBrand(_SessionStore_brand, this, _clean).call(this);\n    const chunked = _assertClassBrand(_SessionStore_brand, this, _chunk).call(this, {\n      name: _classPrivateFieldGet(_option, this).name,\n      value,\n      options: {\n        ..._classPrivateFieldGet(_option, this).options,\n        ...options\n      }\n    });\n    for (const chunk of chunked) {\n      cookies[chunk.name] = chunk;\n    }\n    return Object.values(cookies);\n  }\n  clean() {\n    return Object.values(_assertClassBrand(_SessionStore_brand, this, _clean).call(this));\n  }\n}\nexports.SessionStore = SessionStore;\nfunction _chunk(cookie) {\n  const chunkCount = Math.ceil(cookie.value.length / CHUNK_SIZE);\n  if (chunkCount === 1) {\n    _classPrivateFieldGet(_chunks, this)[cookie.name] = cookie.value;\n    return [cookie];\n  }\n  const cookies = [];\n  for (let i = 0; i < chunkCount; i++) {\n    const name = `${cookie.name}.${i}`;\n    const value = cookie.value.substr(i * CHUNK_SIZE, CHUNK_SIZE);\n    cookies.push({\n      ...cookie,\n      name,\n      value\n    });\n    _classPrivateFieldGet(_chunks, this)[name] = value;\n  }\n  _classPrivateFieldGet(_logger, this).debug(\"CHUNKING_SESSION_COOKIE\", {\n    message: `Session cookie exceeds allowed ${ALLOWED_COOKIE_SIZE} bytes.`,\n    emptyCookieSize: ESTIMATED_EMPTY_COOKIE_SIZE,\n    valueSize: cookie.value.length,\n    chunks: cookies.map(c => c.value.length + ESTIMATED_EMPTY_COOKIE_SIZE)\n  });\n  return cookies;\n}\nfunction _clean() {\n  const cleanedChunks = {};\n  for (const name in _classPrivateFieldGet(_chunks, this)) {\n    var _classPrivateFieldGet2;\n    (_classPrivateFieldGet2 = _classPrivateFieldGet(_chunks, this)) === null || _classPrivateFieldGet2 === void 0 || delete _classPrivateFieldGet2[name];\n    cleanedChunks[name] = {\n      name,\n      value: \"\",\n      options: {\n        ..._classPrivateFieldGet(_option, this).options,\n        maxAge: 0\n      }\n    };\n  }\n  return cleanedChunks;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  encode: true,\n  decode: true,\n  getToken: true\n};\nexports.decode = decode;\nexports.encode = encode;\nexports.getToken = getToken;\nvar _jose = require(\"jose\");\nvar _hkdf = _interopRequireDefault(require(\"@panva/hkdf\"));\nvar _uuid = require(\"uuid\");\nvar _cookie = require(\"../core/lib/cookie\");\nvar _types = require(\"./types\");\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _types[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _types[key];\n    }\n  });\n});\nconst DEFAULT_MAX_AGE = 30 * 24 * 60 * 60;\nconst now = () => Date.now() / 1000 | 0;\nasync function encode(params) {\n  const {\n    token = {},\n    secret,\n    maxAge = DEFAULT_MAX_AGE,\n    salt = \"\"\n  } = params;\n  const encryptionSecret = await getDerivedEncryptionKey(secret, salt);\n  return await new _jose.EncryptJWT(token).setProtectedHeader({\n    alg: \"dir\",\n    enc: \"A256GCM\"\n  }).setIssuedAt().setExpirationTime(now() + maxAge).setJti((0, _uuid.v4)()).encrypt(encryptionSecret);\n}\nasync function decode(params) {\n  const {\n    token,\n    secret,\n    salt = \"\"\n  } = params;\n  if (!token) return null;\n  const encryptionSecret = await getDerivedEncryptionKey(secret, salt);\n  const {\n    payload\n  } = await (0, _jose.jwtDecrypt)(token, encryptionSecret, {\n    clockTolerance: 15\n  });\n  return payload;\n}\nasync function getToken(params) {\n  var _process$env$NEXTAUTH, _process$env$NEXTAUTH2, _process$env$NEXTAUTH3, _req$headers;\n  const {\n    req,\n    secureCookie = (_process$env$NEXTAUTH = (_process$env$NEXTAUTH2 = process.env.NEXTAUTH_URL) === null || _process$env$NEXTAUTH2 === void 0 ? void 0 : _process$env$NEXTAUTH2.startsWith(\"https://\")) !== null && _process$env$NEXTAUTH !== void 0 ? _process$env$NEXTAUTH : !!process.env.VERCEL,\n    cookieName = secureCookie ? \"__Secure-next-auth.session-token\" : \"next-auth.session-token\",\n    raw,\n    decode: _decode = decode,\n    logger = console,\n    secret = (_process$env$NEXTAUTH3 = process.env.NEXTAUTH_SECRET) !== null && _process$env$NEXTAUTH3 !== void 0 ? _process$env$NEXTAUTH3 : process.env.AUTH_SECRET\n  } = params;\n  if (!req) throw new Error(\"Must pass `req` to JWT getToken()\");\n  const sessionStore = new _cookie.SessionStore({\n    name: cookieName,\n    options: {\n      secure: secureCookie\n    }\n  }, {\n    cookies: req.cookies,\n    headers: req.headers\n  }, logger);\n  let token = sessionStore.value;\n  const authorizationHeader = req.headers instanceof Headers ? req.headers.get(\"authorization\") : (_req$headers = req.headers) === null || _req$headers === void 0 ? void 0 : _req$headers.authorization;\n  if (!token && (authorizationHeader === null || authorizationHeader === void 0 ? void 0 : authorizationHeader.split(\" \")[0]) === \"Bearer\") {\n    const urlEncodedToken = authorizationHeader.split(\" \")[1];\n    token = decodeURIComponent(urlEncodedToken);\n  }\n  if (!token) return null;\n  if (raw) return token;\n  try {\n    return await _decode({\n      token,\n      secret\n    });\n  } catch (_unused) {\n    return null;\n  }\n}\nasync function getDerivedEncryptionKey(keyMaterial, salt) {\n  return await (0, _hkdf.default)(\"sha256\", keyMaterial, salt, `NextAuth.js Generated Encryption Key${salt ? ` (${salt})` : \"\"}`, 32);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pkce = exports.nonce = exports.PKCE_CODE_CHALLENGE_METHOD = void 0;\nexports.signCookie = signCookie;\nexports.state = void 0;\nvar _openidClient = require(\"openid-client\");\nvar jwt = _interopRequireWildcard(require(\"../../../jwt\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function signCookie(type, value, maxAge, options) {\n  const {\n    cookies,\n    logger\n  } = options;\n  logger.debug(`CREATE_${type.toUpperCase()}`, {\n    value,\n    maxAge\n  });\n  const {\n    name\n  } = cookies[type];\n  const expires = new Date();\n  expires.setTime(expires.getTime() + maxAge * 1000);\n  return {\n    name,\n    value: await jwt.encode({\n      ...options.jwt,\n      maxAge,\n      token: {\n        value\n      },\n      salt: name\n    }),\n    options: {\n      ...cookies[type].options,\n      expires\n    }\n  };\n}\nconst PKCE_MAX_AGE = 60 * 15;\nconst PKCE_CODE_CHALLENGE_METHOD = exports.PKCE_CODE_CHALLENGE_METHOD = \"S256\";\nconst pkce = exports.pkce = {\n  async create(options, cookies, resParams) {\n    var _options$provider, _options$cookies$pkce;\n    if (!((_options$provider = options.provider) !== null && _options$provider !== void 0 && (_options$provider = _options$provider.checks) !== null && _options$provider !== void 0 && _options$provider.includes(\"pkce\"))) return;\n    const code_verifier = _openidClient.generators.codeVerifier();\n    const value = _openidClient.generators.codeChallenge(code_verifier);\n    resParams.code_challenge = value;\n    resParams.code_challenge_method = PKCE_CODE_CHALLENGE_METHOD;\n    const maxAge = (_options$cookies$pkce = options.cookies.pkceCodeVerifier.options.maxAge) !== null && _options$cookies$pkce !== void 0 ? _options$cookies$pkce : PKCE_MAX_AGE;\n    cookies.push(await signCookie(\"pkceCodeVerifier\", code_verifier, maxAge, options));\n  },\n  async use(cookies, resCookies, options, checks) {\n    var _options$provider2;\n    if (!((_options$provider2 = options.provider) !== null && _options$provider2 !== void 0 && (_options$provider2 = _options$provider2.checks) !== null && _options$provider2 !== void 0 && _options$provider2.includes(\"pkce\"))) return;\n    const codeVerifier = cookies === null || cookies === void 0 ? void 0 : cookies[options.cookies.pkceCodeVerifier.name];\n    if (!codeVerifier) throw new TypeError(\"PKCE code_verifier cookie was missing.\");\n    const {\n      name\n    } = options.cookies.pkceCodeVerifier;\n    const value = await jwt.decode({\n      ...options.jwt,\n      token: codeVerifier,\n      salt: name\n    });\n    if (!(value !== null && value !== void 0 && value.value)) throw new TypeError(\"PKCE code_verifier value could not be parsed.\");\n    resCookies.push({\n      name,\n      value: \"\",\n      options: {\n        ...options.cookies.pkceCodeVerifier.options,\n        maxAge: 0\n      }\n    });\n    checks.code_verifier = value.value;\n  }\n};\nconst STATE_MAX_AGE = 60 * 15;\nconst state = exports.state = {\n  async create(options, cookies, resParams) {\n    var _options$provider$che, _options$cookies$stat;\n    if (!((_options$provider$che = options.provider.checks) !== null && _options$provider$che !== void 0 && _options$provider$che.includes(\"state\"))) return;\n    const value = _openidClient.generators.state();\n    resParams.state = value;\n    const maxAge = (_options$cookies$stat = options.cookies.state.options.maxAge) !== null && _options$cookies$stat !== void 0 ? _options$cookies$stat : STATE_MAX_AGE;\n    cookies.push(await signCookie(\"state\", value, maxAge, options));\n  },\n  async use(cookies, resCookies, options, checks) {\n    var _options$provider$che2;\n    if (!((_options$provider$che2 = options.provider.checks) !== null && _options$provider$che2 !== void 0 && _options$provider$che2.includes(\"state\"))) return;\n    const state = cookies === null || cookies === void 0 ? void 0 : cookies[options.cookies.state.name];\n    if (!state) throw new TypeError(\"State cookie was missing.\");\n    const {\n      name\n    } = options.cookies.state;\n    const value = await jwt.decode({\n      ...options.jwt,\n      token: state,\n      salt: name\n    });\n    if (!(value !== null && value !== void 0 && value.value)) throw new TypeError(\"State value could not be parsed.\");\n    resCookies.push({\n      name,\n      value: \"\",\n      options: {\n        ...options.cookies.state.options,\n        maxAge: 0\n      }\n    });\n    checks.state = value.value;\n  }\n};\nconst NONCE_MAX_AGE = 60 * 15;\nconst nonce = exports.nonce = {\n  async create(options, cookies, resParams) {\n    var _options$provider$che3, _options$cookies$nonc;\n    if (!((_options$provider$che3 = options.provider.checks) !== null && _options$provider$che3 !== void 0 && _options$provider$che3.includes(\"nonce\"))) return;\n    const value = _openidClient.generators.nonce();\n    resParams.nonce = value;\n    const maxAge = (_options$cookies$nonc = options.cookies.nonce.options.maxAge) !== null && _options$cookies$nonc !== void 0 ? _options$cookies$nonc : NONCE_MAX_AGE;\n    cookies.push(await signCookie(\"nonce\", value, maxAge, options));\n  },\n  async use(cookies, resCookies, options, checks) {\n    var _options$provider3;\n    if (!((_options$provider3 = options.provider) !== null && _options$provider3 !== void 0 && (_options$provider3 = _options$provider3.checks) !== null && _options$provider3 !== void 0 && _options$provider3.includes(\"nonce\"))) return;\n    const nonce = cookies === null || cookies === void 0 ? void 0 : cookies[options.cookies.nonce.name];\n    if (!nonce) throw new TypeError(\"Nonce cookie was missing.\");\n    const {\n      name\n    } = options.cookies.nonce;\n    const value = await jwt.decode({\n      ...options.jwt,\n      token: nonce,\n      salt: name\n    });\n    if (!(value !== null && value !== void 0 && value.value)) throw new TypeError(\"Nonce value could not be parsed.\");\n    resCookies.push({\n      name,\n      value: \"\",\n      options: {\n        ...options.cookies.nonce.options,\n        maxAge: 0\n      }\n    });\n    checks.nonce = value.value;\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = oAuthCallback;\nvar _openidClient = require(\"openid-client\");\nvar _client = require(\"./client\");\nvar _clientLegacy = require(\"./client-legacy\");\nvar _checks = _interopRequireWildcard(require(\"./checks\"));\nvar _errors = require(\"../../errors\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function oAuthCallback(params) {\n  var _body$error, _provider$version;\n  const {\n    options,\n    query,\n    body,\n    method,\n    cookies\n  } = params;\n  const {\n    logger,\n    provider\n  } = options;\n  const errorMessage = (_body$error = body === null || body === void 0 ? void 0 : body.error) !== null && _body$error !== void 0 ? _body$error : query === null || query === void 0 ? void 0 : query.error;\n  if (errorMessage) {\n    const error = new Error(errorMessage);\n    logger.error(\"OAUTH_CALLBACK_HANDLER_ERROR\", {\n      error,\n      error_description: query === null || query === void 0 ? void 0 : query.error_description,\n      providerId: provider.id\n    });\n    logger.debug(\"OAUTH_CALLBACK_HANDLER_ERROR\", {\n      body\n    });\n    throw error;\n  }\n  if ((_provider$version = provider.version) !== null && _provider$version !== void 0 && _provider$version.startsWith(\"1.\")) {\n    try {\n      const client = await (0, _clientLegacy.oAuth1Client)(options);\n      const {\n        oauth_token,\n        oauth_verifier\n      } = query !== null && query !== void 0 ? query : {};\n      const tokens = await client.getOAuthAccessToken(oauth_token, _clientLegacy.oAuth1TokenStore.get(oauth_token), oauth_verifier);\n      let profile = await client.get(provider.profileUrl, tokens.oauth_token, tokens.oauth_token_secret);\n      if (typeof profile === \"string\") {\n        profile = JSON.parse(profile);\n      }\n      const newProfile = await getProfile({\n        profile,\n        tokens,\n        provider,\n        logger\n      });\n      return {\n        ...newProfile,\n        cookies: []\n      };\n    } catch (error) {\n      logger.error(\"OAUTH_V1_GET_ACCESS_TOKEN_ERROR\", error);\n      throw error;\n    }\n  }\n  if (query !== null && query !== void 0 && query.oauth_token) _clientLegacy.oAuth1TokenStore.delete(query.oauth_token);\n  try {\n    var _provider$token, _provider$token2, _provider$userinfo;\n    const client = await (0, _client.openidClient)(options);\n    let tokens;\n    const checks = {};\n    const resCookies = [];\n    await _checks.state.use(cookies, resCookies, options, checks);\n    await _checks.pkce.use(cookies, resCookies, options, checks);\n    await _checks.nonce.use(cookies, resCookies, options, checks);\n    const params = {\n      ...client.callbackParams({\n        url: `http://n?${new URLSearchParams(query)}`,\n        body,\n        method\n      }),\n      ...((_provider$token = provider.token) === null || _provider$token === void 0 ? void 0 : _provider$token.params)\n    };\n    if ((_provider$token2 = provider.token) !== null && _provider$token2 !== void 0 && _provider$token2.request) {\n      const response = await provider.token.request({\n        provider,\n        params,\n        checks,\n        client\n      });\n      tokens = new _openidClient.TokenSet(response.tokens);\n    } else if (provider.idToken) {\n      tokens = await client.callback(provider.callbackUrl, params, checks);\n    } else {\n      tokens = await client.oauthCallback(provider.callbackUrl, params, checks);\n    }\n    if (Array.isArray(tokens.scope)) {\n      tokens.scope = tokens.scope.join(\" \");\n    }\n    let profile;\n    if ((_provider$userinfo = provider.userinfo) !== null && _provider$userinfo !== void 0 && _provider$userinfo.request) {\n      profile = await provider.userinfo.request({\n        provider,\n        tokens,\n        client\n      });\n    } else if (provider.idToken) {\n      profile = tokens.claims();\n    } else {\n      var _provider$userinfo2;\n      profile = await client.userinfo(tokens, {\n        params: (_provider$userinfo2 = provider.userinfo) === null || _provider$userinfo2 === void 0 ? void 0 : _provider$userinfo2.params\n      });\n    }\n    const profileResult = await getProfile({\n      profile,\n      provider,\n      tokens,\n      logger\n    });\n    return {\n      ...profileResult,\n      cookies: resCookies\n    };\n  } catch (error) {\n    throw new _errors.OAuthCallbackError(error);\n  }\n}\nasync function getProfile({\n  profile: OAuthProfile,\n  tokens,\n  provider,\n  logger\n}) {\n  try {\n    var _profile$email;\n    logger.debug(\"PROFILE_DATA\", {\n      OAuthProfile\n    });\n    const profile = await provider.profile(OAuthProfile, tokens);\n    profile.email = (_profile$email = profile.email) === null || _profile$email === void 0 ? void 0 : _profile$email.toLowerCase();\n    if (!profile.id) throw new TypeError(`Profile id is missing in ${provider.name} OAuth profile response`);\n    return {\n      profile,\n      account: {\n        provider: provider.id,\n        type: provider.type,\n        providerAccountId: profile.id.toString(),\n        ...tokens\n      },\n      OAuthProfile\n    };\n  } catch (error) {\n    logger.error(\"OAUTH_PARSE_PROFILE_ERROR\", {\n      error: error,\n      OAuthProfile\n    });\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSecret = createSecret;\nexports.fromDate = fromDate;\nexports.hashToken = hashToken;\nvar _crypto = require(\"crypto\");\nfunction fromDate(time, date = Date.now()) {\n  return new Date(date + time * 1000);\n}\nfunction hashToken(token, options) {\n  var _provider$secret;\n  const {\n    provider,\n    secret\n  } = options;\n  return (0, _crypto.createHash)(\"sha256\").update(`${token}${(_provider$secret = provider.secret) !== null && _provider$secret !== void 0 ? _provider$secret : secret}`).digest(\"hex\");\n}\nfunction createSecret(params) {\n  var _authOptions$secret;\n  const {\n    authOptions,\n    url\n  } = params;\n  return (_authOptions$secret = authOptions.secret) !== null && _authOptions$secret !== void 0 ? _authOptions$secret : (0, _crypto.createHash)(\"sha256\").update(JSON.stringify({\n    ...url,\n    ...authOptions\n  })).digest(\"hex\");\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = callbackHandler;\nvar _errors = require(\"../errors\");\nvar _utils = require(\"./utils\");\nasync function callbackHandler(params) {\n  const {\n    sessionToken,\n    profile: _profile,\n    account,\n    options\n  } = params;\n  if (!(account !== null && account !== void 0 && account.providerAccountId) || !account.type) throw new Error(\"Missing or invalid provider account\");\n  if (![\"email\", \"oauth\"].includes(account.type)) throw new Error(\"Provider not supported\");\n  const {\n    adapter,\n    jwt,\n    events,\n    session: {\n      strategy: sessionStrategy,\n      generateSessionToken\n    }\n  } = options;\n  if (!adapter) {\n    return {\n      user: _profile,\n      account\n    };\n  }\n  const profile = _profile;\n  const {\n    createUser,\n    updateUser,\n    getUser,\n    getUserByAccount,\n    getUserByEmail,\n    linkAccount,\n    createSession,\n    getSessionAndUser,\n    deleteSession\n  } = adapter;\n  let session = null;\n  let user = null;\n  let isNewUser = false;\n  const useJwtSession = sessionStrategy === \"jwt\";\n  if (sessionToken) {\n    if (useJwtSession) {\n      try {\n        session = await jwt.decode({\n          ...jwt,\n          token: sessionToken\n        });\n        if (session && \"sub\" in session && session.sub) {\n          user = await getUser(session.sub);\n        }\n      } catch (_unused) {}\n    } else {\n      const userAndSession = await getSessionAndUser(sessionToken);\n      if (userAndSession) {\n        session = userAndSession.session;\n        user = userAndSession.user;\n      }\n    }\n  }\n  if (account.type === \"email\") {\n    const userByEmail = await getUserByEmail(profile.email);\n    if (userByEmail) {\n      var _user, _events$updateUser;\n      if (((_user = user) === null || _user === void 0 ? void 0 : _user.id) !== userByEmail.id && !useJwtSession && sessionToken) {\n        await deleteSession(sessionToken);\n      }\n      user = await updateUser({\n        id: userByEmail.id,\n        emailVerified: new Date()\n      });\n      await ((_events$updateUser = events.updateUser) === null || _events$updateUser === void 0 ? void 0 : _events$updateUser.call(events, {\n        user\n      }));\n    } else {\n      var _events$createUser;\n      const {\n        id: _,\n        ...newUser\n      } = {\n        ...profile,\n        emailVerified: new Date()\n      };\n      user = await createUser(newUser);\n      await ((_events$createUser = events.createUser) === null || _events$createUser === void 0 ? void 0 : _events$createUser.call(events, {\n        user\n      }));\n      isNewUser = true;\n    }\n    session = useJwtSession ? {} : await createSession({\n      sessionToken: await generateSessionToken(),\n      userId: user.id,\n      expires: (0, _utils.fromDate)(options.session.maxAge)\n    });\n    return {\n      session,\n      user,\n      isNewUser\n    };\n  } else if (account.type === \"oauth\") {\n    const userByAccount = await getUserByAccount({\n      providerAccountId: account.providerAccountId,\n      provider: account.provider\n    });\n    if (userByAccount) {\n      if (user) {\n        if (userByAccount.id === user.id) {\n          return {\n            session,\n            user,\n            isNewUser\n          };\n        }\n        throw new _errors.AccountNotLinkedError(\"The account is already associated with another user\");\n      }\n      session = useJwtSession ? {} : await createSession({\n        sessionToken: await generateSessionToken(),\n        userId: userByAccount.id,\n        expires: (0, _utils.fromDate)(options.session.maxAge)\n      });\n      return {\n        session,\n        user: userByAccount,\n        isNewUser\n      };\n    } else {\n      var _events$createUser2, _events$linkAccount2;\n      if (user) {\n        var _events$linkAccount;\n        await linkAccount({\n          ...account,\n          userId: user.id\n        });\n        await ((_events$linkAccount = events.linkAccount) === null || _events$linkAccount === void 0 ? void 0 : _events$linkAccount.call(events, {\n          user,\n          account,\n          profile\n        }));\n        return {\n          session,\n          user,\n          isNewUser\n        };\n      }\n      const userByEmail = profile.email ? await getUserByEmail(profile.email) : null;\n      if (userByEmail) {\n        const provider = options.provider;\n        if (provider !== null && provider !== void 0 && provider.allowDangerousEmailAccountLinking) {\n          user = userByEmail;\n        } else {\n          throw new _errors.AccountNotLinkedError(\"Another account already exists with the same e-mail address\");\n        }\n      } else {\n        const {\n          id: _,\n          ...newUser\n        } = {\n          ...profile,\n          emailVerified: null\n        };\n        user = await createUser(newUser);\n      }\n      await ((_events$createUser2 = events.createUser) === null || _events$createUser2 === void 0 ? void 0 : _events$createUser2.call(events, {\n        user\n      }));\n      await linkAccount({\n        ...account,\n        userId: user.id\n      });\n      await ((_events$linkAccount2 = events.linkAccount) === null || _events$linkAccount2 === void 0 ? void 0 : _events$linkAccount2.call(events, {\n        user,\n        account,\n        profile\n      }));\n      session = useJwtSession ? {} : await createSession({\n        sessionToken: await generateSessionToken(),\n        userId: user.id,\n        expires: (0, _utils.fromDate)(options.session.maxAge)\n      });\n      return {\n        session,\n        user,\n        isNewUser: true\n      };\n    }\n  }\n  throw new Error(\"Unsupported account type\");\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getAdapterUserFromEmail;\nasync function getAdapterUserFromEmail({\n  email,\n  adapter\n}) {\n  const {\n    getUserByEmail\n  } = adapter;\n  const adapterUser = email ? await getUserByEmail(email) : null;\n  if (adapterUser) return adapterUser;\n  return {\n    id: email,\n    email,\n    emailVerified: null\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = callback;\nvar _callback = _interopRequireDefault(require(\"../lib/oauth/callback\"));\nvar _callbackHandler = _interopRequireDefault(require(\"../lib/callback-handler\"));\nvar _utils = require(\"../lib/utils\");\nvar _getUserFromEmail = _interopRequireDefault(require(\"../lib/email/getUserFromEmail\"));\nasync function callback(params) {\n  const {\n    options,\n    query,\n    body,\n    method,\n    headers,\n    sessionStore\n  } = params;\n  const {\n    provider,\n    adapter,\n    url,\n    callbackUrl,\n    pages,\n    jwt,\n    events,\n    callbacks,\n    session: {\n      strategy: sessionStrategy,\n      maxAge: sessionMaxAge\n    },\n    logger\n  } = options;\n  const cookies = [];\n  const useJwtSession = sessionStrategy === \"jwt\";\n  if (provider.type === \"oauth\") {\n    try {\n      const {\n        profile,\n        account,\n        OAuthProfile,\n        cookies: oauthCookies\n      } = await (0, _callback.default)({\n        query,\n        body,\n        method,\n        options,\n        cookies: params.cookies\n      });\n      if (oauthCookies.length) cookies.push(...oauthCookies);\n      try {\n        var _events$signIn;\n        logger.debug(\"OAUTH_CALLBACK_RESPONSE\", {\n          profile,\n          account,\n          OAuthProfile\n        });\n        if (!profile || !account || !OAuthProfile) {\n          return {\n            redirect: `${url}/signin`,\n            cookies\n          };\n        }\n        let userOrProfile = profile;\n        if (adapter) {\n          const {\n            getUserByAccount\n          } = adapter;\n          const userByAccount = await getUserByAccount({\n            providerAccountId: account.providerAccountId,\n            provider: provider.id\n          });\n          if (userByAccount) userOrProfile = userByAccount;\n        }\n        try {\n          const isAllowed = await callbacks.signIn({\n            user: userOrProfile,\n            account,\n            profile: OAuthProfile\n          });\n          if (!isAllowed) {\n            return {\n              redirect: `${url}/error?error=AccessDenied`,\n              cookies\n            };\n          } else if (typeof isAllowed === \"string\") {\n            return {\n              redirect: isAllowed,\n              cookies\n            };\n          }\n        } catch (error) {\n          return {\n            redirect: `${url}/error?error=${encodeURIComponent(error.message)}`,\n            cookies\n          };\n        }\n        const {\n          user,\n          session,\n          isNewUser\n        } = await (0, _callbackHandler.default)({\n          sessionToken: sessionStore.value,\n          profile,\n          account,\n          options\n        });\n        if (useJwtSession) {\n          var _user$id;\n          const defaultToken = {\n            name: user.name,\n            email: user.email,\n            picture: user.image,\n            sub: (_user$id = user.id) === null || _user$id === void 0 ? void 0 : _user$id.toString()\n          };\n          const token = await callbacks.jwt({\n            token: defaultToken,\n            user,\n            account,\n            profile: OAuthProfile,\n            isNewUser,\n            trigger: isNewUser ? \"signUp\" : \"signIn\"\n          });\n          const newToken = await jwt.encode({\n            ...jwt,\n            token\n          });\n          const cookieExpires = new Date();\n          cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n          const sessionCookies = sessionStore.chunk(newToken, {\n            expires: cookieExpires\n          });\n          cookies.push(...sessionCookies);\n        } else {\n          cookies.push({\n            name: options.cookies.sessionToken.name,\n            value: session.sessionToken,\n            options: {\n              ...options.cookies.sessionToken.options,\n              expires: session.expires\n            }\n          });\n        }\n        await ((_events$signIn = events.signIn) === null || _events$signIn === void 0 ? void 0 : _events$signIn.call(events, {\n          user,\n          account,\n          profile,\n          isNewUser\n        }));\n        if (isNewUser && pages.newUser) {\n          return {\n            redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}callbackUrl=${encodeURIComponent(callbackUrl)}`,\n            cookies\n          };\n        }\n        return {\n          redirect: callbackUrl,\n          cookies\n        };\n      } catch (error) {\n        if (error.name === \"AccountNotLinkedError\") {\n          return {\n            redirect: `${url}/error?error=OAuthAccountNotLinked`,\n            cookies\n          };\n        } else if (error.name === \"CreateUserError\") {\n          return {\n            redirect: `${url}/error?error=OAuthCreateAccount`,\n            cookies\n          };\n        }\n        logger.error(\"OAUTH_CALLBACK_HANDLER_ERROR\", error);\n        return {\n          redirect: `${url}/error?error=Callback`,\n          cookies\n        };\n      }\n    } catch (error) {\n      if (error.name === \"OAuthCallbackError\") {\n        logger.error(\"OAUTH_CALLBACK_ERROR\", {\n          error: error,\n          providerId: provider.id\n        });\n        return {\n          redirect: `${url}/error?error=OAuthCallback`,\n          cookies\n        };\n      }\n      logger.error(\"OAUTH_CALLBACK_ERROR\", error);\n      return {\n        redirect: `${url}/error?error=Callback`,\n        cookies\n      };\n    }\n  } else if (provider.type === \"email\") {\n    try {\n      var _events$signIn2;\n      const paramToken = query === null || query === void 0 ? void 0 : query.token;\n      const paramIdentifier = query === null || query === void 0 ? void 0 : query.email;\n      if (!paramToken) {\n        return {\n          redirect: `${url}/error?error=configuration`,\n          cookies\n        };\n      }\n      const invite = await adapter.useVerificationToken({\n        identifier: paramIdentifier,\n        token: (0, _utils.hashToken)(paramToken, options)\n      });\n      const invalidInvite = !invite || invite.expires.valueOf() < Date.now() || paramIdentifier && invite.identifier !== paramIdentifier;\n      if (invalidInvite) {\n        return {\n          redirect: `${url}/error?error=Verification`,\n          cookies\n        };\n      }\n      const profile = await (0, _getUserFromEmail.default)({\n        email: invite.identifier,\n        adapter\n      });\n      const account = {\n        providerAccountId: profile.email,\n        type: \"email\",\n        provider: provider.id\n      };\n      try {\n        const signInCallbackResponse = await callbacks.signIn({\n          user: profile,\n          account\n        });\n        if (!signInCallbackResponse) {\n          return {\n            redirect: `${url}/error?error=AccessDenied`,\n            cookies\n          };\n        } else if (typeof signInCallbackResponse === \"string\") {\n          return {\n            redirect: signInCallbackResponse,\n            cookies\n          };\n        }\n      } catch (error) {\n        return {\n          redirect: `${url}/error?error=${encodeURIComponent(error.message)}`,\n          cookies\n        };\n      }\n      const {\n        user,\n        session,\n        isNewUser\n      } = await (0, _callbackHandler.default)({\n        sessionToken: sessionStore.value,\n        profile,\n        account,\n        options\n      });\n      if (useJwtSession) {\n        var _user$id2;\n        const defaultToken = {\n          name: user.name,\n          email: user.email,\n          picture: user.image,\n          sub: (_user$id2 = user.id) === null || _user$id2 === void 0 ? void 0 : _user$id2.toString()\n        };\n        const token = await callbacks.jwt({\n          token: defaultToken,\n          user,\n          account,\n          isNewUser,\n          trigger: isNewUser ? \"signUp\" : \"signIn\"\n        });\n        const newToken = await jwt.encode({\n          ...jwt,\n          token\n        });\n        const cookieExpires = new Date();\n        cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n        const sessionCookies = sessionStore.chunk(newToken, {\n          expires: cookieExpires\n        });\n        cookies.push(...sessionCookies);\n      } else {\n        cookies.push({\n          name: options.cookies.sessionToken.name,\n          value: session.sessionToken,\n          options: {\n            ...options.cookies.sessionToken.options,\n            expires: session.expires\n          }\n        });\n      }\n      await ((_events$signIn2 = events.signIn) === null || _events$signIn2 === void 0 ? void 0 : _events$signIn2.call(events, {\n        user,\n        account,\n        isNewUser\n      }));\n      if (isNewUser && pages.newUser) {\n        return {\n          redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}callbackUrl=${encodeURIComponent(callbackUrl)}`,\n          cookies\n        };\n      }\n      return {\n        redirect: callbackUrl,\n        cookies\n      };\n    } catch (error) {\n      if (error.name === \"CreateUserError\") {\n        return {\n          redirect: `${url}/error?error=EmailCreateAccount`,\n          cookies\n        };\n      }\n      logger.error(\"CALLBACK_EMAIL_ERROR\", error);\n      return {\n        redirect: `${url}/error?error=Callback`,\n        cookies\n      };\n    }\n  } else if (provider.type === \"credentials\" && method === \"POST\") {\n    var _user$id3, _events$signIn3;\n    const credentials = body;\n    let user;\n    try {\n      user = await provider.authorize(credentials, {\n        query,\n        body,\n        headers,\n        method\n      });\n      if (!user) {\n        return {\n          status: 401,\n          redirect: `${url}/error?${new URLSearchParams({\n            error: \"CredentialsSignin\",\n            provider: provider.id\n          })}`,\n          cookies\n        };\n      }\n    } catch (error) {\n      return {\n        status: 401,\n        redirect: `${url}/error?error=${encodeURIComponent(error.message)}`,\n        cookies\n      };\n    }\n    const account = {\n      providerAccountId: user.id,\n      type: \"credentials\",\n      provider: provider.id\n    };\n    try {\n      const isAllowed = await callbacks.signIn({\n        user,\n        account,\n        credentials\n      });\n      if (!isAllowed) {\n        return {\n          status: 403,\n          redirect: `${url}/error?error=AccessDenied`,\n          cookies\n        };\n      } else if (typeof isAllowed === \"string\") {\n        return {\n          redirect: isAllowed,\n          cookies\n        };\n      }\n    } catch (error) {\n      return {\n        redirect: `${url}/error?error=${encodeURIComponent(error.message)}`,\n        cookies\n      };\n    }\n    const defaultToken = {\n      name: user.name,\n      email: user.email,\n      picture: user.image,\n      sub: (_user$id3 = user.id) === null || _user$id3 === void 0 ? void 0 : _user$id3.toString()\n    };\n    const token = await callbacks.jwt({\n      token: defaultToken,\n      user,\n      account,\n      isNewUser: false,\n      trigger: \"signIn\"\n    });\n    const newToken = await jwt.encode({\n      ...jwt,\n      token\n    });\n    const cookieExpires = new Date();\n    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n    const sessionCookies = sessionStore.chunk(newToken, {\n      expires: cookieExpires\n    });\n    cookies.push(...sessionCookies);\n    await ((_events$signIn3 = events.signIn) === null || _events$signIn3 === void 0 ? void 0 : _events$signIn3.call(events, {\n      user,\n      account\n    }));\n    return {\n      redirect: callbackUrl,\n      cookies\n    };\n  }\n  return {\n    status: 500,\n    body: `Error: Callback for provider type ${provider.type} not supported`,\n    cookies\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getAuthorizationUrl;\nvar _client = require(\"./client\");\nvar _clientLegacy = require(\"./client-legacy\");\nvar checks = _interopRequireWildcard(require(\"./checks\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function getAuthorizationUrl({\n  options,\n  query\n}) {\n  var _provider$version;\n  const {\n    logger,\n    provider\n  } = options;\n  let params = {};\n  if (typeof provider.authorization === \"string\") {\n    const parsedUrl = new URL(provider.authorization);\n    const parsedParams = Object.fromEntries(parsedUrl.searchParams);\n    params = {\n      ...params,\n      ...parsedParams\n    };\n  } else {\n    var _provider$authorizati;\n    params = {\n      ...params,\n      ...((_provider$authorizati = provider.authorization) === null || _provider$authorizati === void 0 ? void 0 : _provider$authorizati.params)\n    };\n  }\n  params = {\n    ...params,\n    ...query\n  };\n  if ((_provider$version = provider.version) !== null && _provider$version !== void 0 && _provider$version.startsWith(\"1.\")) {\n    var _provider$authorizati2;\n    const client = (0, _clientLegacy.oAuth1Client)(options);\n    const tokens = await client.getOAuthRequestToken(params);\n    const url = `${(_provider$authorizati2 = provider.authorization) === null || _provider$authorizati2 === void 0 ? void 0 : _provider$authorizati2.url}?${new URLSearchParams({\n      oauth_token: tokens.oauth_token,\n      oauth_token_secret: tokens.oauth_token_secret,\n      ...tokens.params\n    })}`;\n    _clientLegacy.oAuth1TokenStore.set(tokens.oauth_token, tokens.oauth_token_secret);\n    logger.debug(\"GET_AUTHORIZATION_URL\", {\n      url,\n      provider\n    });\n    return {\n      redirect: url\n    };\n  }\n  const client = await (0, _client.openidClient)(options);\n  const authorizationParams = params;\n  const cookies = [];\n  await checks.state.create(options, cookies, authorizationParams);\n  await checks.pkce.create(options, cookies, authorizationParams);\n  await checks.nonce.create(options, cookies, authorizationParams);\n  const url = client.authorizationUrl(authorizationParams);\n  logger.debug(\"GET_AUTHORIZATION_URL\", {\n    url,\n    cookies,\n    provider\n  });\n  return {\n    redirect: url,\n    cookies\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = email;\nvar _crypto = require(\"crypto\");\nvar _utils = require(\"../utils\");\nasync function email(identifier, options) {\n  var _await$provider$gener, _provider$generateVer, _provider$maxAge, _adapter$createVerifi;\n  const {\n    url,\n    adapter,\n    provider,\n    callbackUrl,\n    theme\n  } = options;\n  const token = (_await$provider$gener = await ((_provider$generateVer = provider.generateVerificationToken) === null || _provider$generateVer === void 0 ? void 0 : _provider$generateVer.call(provider))) !== null && _await$provider$gener !== void 0 ? _await$provider$gener : (0, _crypto.randomBytes)(32).toString(\"hex\");\n  const ONE_DAY_IN_SECONDS = 86400;\n  const expires = new Date(Date.now() + ((_provider$maxAge = provider.maxAge) !== null && _provider$maxAge !== void 0 ? _provider$maxAge : ONE_DAY_IN_SECONDS) * 1000);\n  const params = new URLSearchParams({\n    callbackUrl,\n    token,\n    email: identifier\n  });\n  const _url = `${url}/callback/${provider.id}?${params}`;\n  await Promise.all([provider.sendVerificationRequest({\n    identifier,\n    token,\n    expires,\n    url: _url,\n    provider,\n    theme\n  }), (_adapter$createVerifi = adapter.createVerificationToken) === null || _adapter$createVerifi === void 0 ? void 0 : _adapter$createVerifi.call(adapter, {\n    identifier,\n    token: (0, _utils.hashToken)(token, options),\n    expires\n  })]);\n  return `${url}/verify-request?${new URLSearchParams({\n    provider: provider.id,\n    type: provider.type\n  })}`;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = signin;\nvar _authorizationUrl = _interopRequireDefault(require(\"../lib/oauth/authorization-url\"));\nvar _signin = _interopRequireDefault(require(\"../lib/email/signin\"));\nvar _getUserFromEmail = _interopRequireDefault(require(\"../lib/email/getUserFromEmail\"));\nasync function signin(params) {\n  const {\n    options,\n    query,\n    body\n  } = params;\n  const {\n    url,\n    callbacks,\n    logger,\n    provider\n  } = options;\n  if (!provider.type) {\n    return {\n      status: 500,\n      text: `Error: Type not specified for ${provider.name}`\n    };\n  }\n  if (provider.type === \"oauth\") {\n    try {\n      const response = await (0, _authorizationUrl.default)({\n        options,\n        query\n      });\n      return response;\n    } catch (error) {\n      logger.error(\"SIGNIN_OAUTH_ERROR\", {\n        error: error,\n        providerId: provider.id\n      });\n      return {\n        redirect: `${url}/error?error=OAuthSignin`\n      };\n    }\n  } else if (provider.type === \"email\") {\n    var _provider$normalizeId;\n    let email = body === null || body === void 0 ? void 0 : body.email;\n    if (!email) return {\n      redirect: `${url}/error?error=EmailSignin`\n    };\n    const normalizer = (_provider$normalizeId = provider.normalizeIdentifier) !== null && _provider$normalizeId !== void 0 ? _provider$normalizeId : identifier => {\n      var _trimmedEmail$match;\n      const trimmedEmail = identifier.trim();\n      const atCount = ((_trimmedEmail$match = trimmedEmail.match(/@/g)) !== null && _trimmedEmail$match !== void 0 ? _trimmedEmail$match : []).length;\n      if (atCount !== 1) {\n        throw new Error(\"Invalid email address format.\");\n      }\n      if (trimmedEmail.includes('\"')) {\n        throw new Error(\"Invalid email address format.\");\n      }\n      let [local, domain] = trimmedEmail.toLowerCase().split(\"@\");\n      if (!local || !domain) {\n        throw new Error(\"Invalid email address format.\");\n      }\n      domain = domain.split(\",\")[0];\n      if (!domain.includes(\".\")) {\n        throw new Error(\"Invalid email address format.\");\n      }\n      return `${local}@${domain}`;\n    };\n    try {\n      email = normalizer(body === null || body === void 0 ? void 0 : body.email);\n    } catch (error) {\n      logger.error(\"SIGNIN_EMAIL_ERROR\", {\n        error,\n        providerId: provider.id\n      });\n      return {\n        redirect: `${url}/error?error=EmailSignin`\n      };\n    }\n    const user = await (0, _getUserFromEmail.default)({\n      email,\n      adapter: options.adapter\n    });\n    const account = {\n      providerAccountId: email,\n      userId: email,\n      type: \"email\",\n      provider: provider.id\n    };\n    try {\n      const signInCallbackResponse = await callbacks.signIn({\n        user,\n        account,\n        email: {\n          verificationRequest: true\n        }\n      });\n      if (!signInCallbackResponse) {\n        return {\n          redirect: `${url}/error?error=AccessDenied`\n        };\n      } else if (typeof signInCallbackResponse === \"string\") {\n        return {\n          redirect: signInCallbackResponse\n        };\n      }\n    } catch (error) {\n      return {\n        redirect: `${url}/error?${new URLSearchParams({\n          error: error\n        })}`\n      };\n    }\n    try {\n      const redirect = await (0, _signin.default)(email, options);\n      return {\n        redirect\n      };\n    } catch (error) {\n      logger.error(\"SIGNIN_EMAIL_ERROR\", {\n        error,\n        providerId: provider.id\n      });\n      return {\n        redirect: `${url}/error?error=EmailSignin`\n      };\n    }\n  }\n  return {\n    redirect: `${url}/signin`\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = signout;\nasync function signout(params) {\n  const {\n    options,\n    sessionStore\n  } = params;\n  const {\n    adapter,\n    events,\n    jwt,\n    callbackUrl,\n    logger,\n    session\n  } = options;\n  const sessionToken = sessionStore === null || sessionStore === void 0 ? void 0 : sessionStore.value;\n  if (!sessionToken) {\n    return {\n      redirect: callbackUrl\n    };\n  }\n  if (session.strategy === \"jwt\") {\n    try {\n      var _events$signOut;\n      const decodedJwt = await jwt.decode({\n        ...jwt,\n        token: sessionToken\n      });\n      await ((_events$signOut = events.signOut) === null || _events$signOut === void 0 ? void 0 : _events$signOut.call(events, {\n        token: decodedJwt\n      }));\n    } catch (error) {\n      logger.error(\"SIGNOUT_ERROR\", error);\n    }\n  } else {\n    try {\n      var _events$signOut2;\n      const session = await adapter.deleteSession(sessionToken);\n      await ((_events$signOut2 = events.signOut) === null || _events$signOut2 === void 0 ? void 0 : _events$signOut2.call(events, {\n        session\n      }));\n    } catch (error) {\n      logger.error(\"SIGNOUT_ERROR\", error);\n    }\n  }\n  const sessionCookies = sessionStore.clean();\n  return {\n    redirect: callbackUrl,\n    cookies: sessionCookies\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = session;\nvar _utils = require(\"../lib/utils\");\nasync function session(params) {\n  const {\n    options,\n    sessionStore,\n    newSession,\n    isUpdate\n  } = params;\n  const {\n    adapter,\n    jwt,\n    events,\n    callbacks,\n    logger,\n    session: {\n      strategy: sessionStrategy,\n      maxAge: sessionMaxAge\n    }\n  } = options;\n  const response = {\n    body: {},\n    headers: [{\n      key: \"Content-Type\",\n      value: \"application/json\"\n    }, ...(isUpdate ? [] : [{\n      key: \"Cache-Control\",\n      value: \"private, no-cache, no-store\"\n    }, {\n      key: \"Pragma\",\n      value: \"no-cache\"\n    }, {\n      key: \"Expires\",\n      value: \"0\"\n    }])].filter(Boolean),\n    cookies: []\n  };\n  const sessionToken = sessionStore.value;\n  if (!sessionToken) return response;\n  if (sessionStrategy === \"jwt\") {\n    try {\n      var _response$cookies, _events$session;\n      const decodedToken = await jwt.decode({\n        ...jwt,\n        token: sessionToken\n      });\n      if (!decodedToken) throw new Error(\"JWT invalid\");\n      const token = await callbacks.jwt({\n        token: decodedToken,\n        ...(isUpdate && {\n          trigger: \"update\"\n        }),\n        session: newSession\n      });\n      const newExpires = (0, _utils.fromDate)(sessionMaxAge);\n      const updatedSession = await callbacks.session({\n        session: {\n          user: {\n            name: decodedToken === null || decodedToken === void 0 ? void 0 : decodedToken.name,\n            email: decodedToken === null || decodedToken === void 0 ? void 0 : decodedToken.email,\n            image: decodedToken === null || decodedToken === void 0 ? void 0 : decodedToken.picture\n          },\n          expires: newExpires.toISOString()\n        },\n        token\n      });\n      response.body = updatedSession;\n      const newToken = await jwt.encode({\n        ...jwt,\n        token,\n        maxAge: options.session.maxAge\n      });\n      const sessionCookies = sessionStore.chunk(newToken, {\n        expires: newExpires\n      });\n      (_response$cookies = response.cookies) === null || _response$cookies === void 0 || _response$cookies.push(...sessionCookies);\n      await ((_events$session = events.session) === null || _events$session === void 0 ? void 0 : _events$session.call(events, {\n        session: updatedSession,\n        token\n      }));\n    } catch (error) {\n      var _response$cookies2;\n      logger.error(\"JWT_SESSION_ERROR\", error);\n      (_response$cookies2 = response.cookies) === null || _response$cookies2 === void 0 || _response$cookies2.push(...sessionStore.clean());\n    }\n  } else {\n    try {\n      const {\n        getSessionAndUser,\n        deleteSession,\n        updateSession\n      } = adapter;\n      let userAndSession = await getSessionAndUser(sessionToken);\n      if (userAndSession && userAndSession.session.expires.valueOf() < Date.now()) {\n        await deleteSession(sessionToken);\n        userAndSession = null;\n      }\n      if (userAndSession) {\n        var _response$cookies3, _events$session2;\n        const {\n          user,\n          session\n        } = userAndSession;\n        const sessionUpdateAge = options.session.updateAge;\n        const sessionIsDueToBeUpdatedDate = session.expires.valueOf() - sessionMaxAge * 1000 + sessionUpdateAge * 1000;\n        const newExpires = (0, _utils.fromDate)(sessionMaxAge);\n        if (sessionIsDueToBeUpdatedDate <= Date.now()) {\n          await updateSession({\n            sessionToken,\n            expires: newExpires\n          });\n        }\n        const sessionPayload = await callbacks.session({\n          session: {\n            user: {\n              name: user.name,\n              email: user.email,\n              image: user.image\n            },\n            expires: session.expires.toISOString()\n          },\n          user,\n          newSession,\n          ...(isUpdate ? {\n            trigger: \"update\"\n          } : {})\n        });\n        response.body = sessionPayload;\n        (_response$cookies3 = response.cookies) === null || _response$cookies3 === void 0 || _response$cookies3.push({\n          name: options.cookies.sessionToken.name,\n          value: sessionToken,\n          options: {\n            ...options.cookies.sessionToken.options,\n            expires: newExpires\n          }\n        });\n        await ((_events$session2 = events.session) === null || _events$session2 === void 0 ? void 0 : _events$session2.call(events, {\n          session: sessionPayload\n        }));\n      } else if (sessionToken) {\n        var _response$cookies4;\n        (_response$cookies4 = response.cookies) === null || _response$cookies4 === void 0 || _response$cookies4.push(...sessionStore.clean());\n      }\n    } catch (error) {\n      logger.error(\"SESSION_ERROR\", error);\n    }\n  }\n  return response;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = providers;\nfunction providers(providers) {\n  return {\n    headers: [{\n      key: \"Content-Type\",\n      value: \"application/json\"\n    }],\n    body: providers.reduce((acc, {\n      id,\n      name,\n      type,\n      signinUrl,\n      callbackUrl\n    }) => {\n      acc[id] = {\n        id,\n        name,\n        type,\n        signinUrl,\n        callbackUrl\n      };\n      return acc;\n    }, {})\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"callback\", {\n  enumerable: true,\n  get: function () {\n    return _callback.default;\n  }\n});\nObject.defineProperty(exports, \"providers\", {\n  enumerable: true,\n  get: function () {\n    return _providers.default;\n  }\n});\nObject.defineProperty(exports, \"session\", {\n  enumerable: true,\n  get: function () {\n    return _session.default;\n  }\n});\nObject.defineProperty(exports, \"signin\", {\n  enumerable: true,\n  get: function () {\n    return _signin.default;\n  }\n});\nObject.defineProperty(exports, \"signout\", {\n  enumerable: true,\n  get: function () {\n    return _signout.default;\n  }\n});\nvar _callback = _interopRequireDefault(require(\"./callback\"));\nvar _signin = _interopRequireDefault(require(\"./signin\"));\nvar _signout = _interopRequireDefault(require(\"./signout\"));\nvar _session = _interopRequireDefault(require(\"./session\"));\nvar _providers = _interopRequireDefault(require(\"./providers\"));","/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {import('./index').ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tif (node && node.parentNode) node.parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\nimport { NULL, UNDEFINED } from './constants';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != NULL) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === UNDEFINED) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, NULL);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {import('./internal').VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: NULL,\n\t\t_parent: NULL,\n\t\t_depth: 0,\n\t\t_dom: NULL,\n\t\t_component: NULL,\n\t\tconstructor: UNDEFINED,\n\t\t_original: original == NULL ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == NULL && options.vnode != NULL) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: NULL };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != NULL && vnode.constructor === UNDEFINED;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE, NULL } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != NULL && this._nextState != this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == NULL) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](https://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == NULL) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: NULL;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != NULL && sibling._dom != NULL) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : NULL;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tif (component._parentDom && component._dirty) {\n\t\tlet oldVNode = component._vnode,\n\t\t\toldDom = oldVNode._dom,\n\t\t\tcommitQueue = [],\n\t\t\trefQueue = [],\n\t\t\tnewVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : NULL,\n\t\t\tcommitQueue,\n\t\t\toldDom == NULL ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\t\toldVNode._dom = oldVNode._parent = null;\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != NULL && vnode._component != NULL) {\n\t\tvnode._dom = vnode._component.base = NULL;\n\t\tvnode._children.some(child => {\n\t\t\tif (child != NULL && child._dom != NULL) {\n\t\t\t\treturn (vnode._dom = vnode._component.base = child._dom);\n\t\t\t}\n\t\t});\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce != options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c,\n\t\tl = 1;\n\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile (rerenderQueue.length) {\n\t\t// Keep the rerender queue sorted by (depth, insertion order). The queue\n\t\t// will initially be sorted on the first iteration only if it has more than 1 item.\n\t\t//\n\t\t// New items can be added to the queue e.g. when rerendering a provider, so we want to\n\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t// single pass\n\t\tif (rerenderQueue.length > l) {\n\t\t\trerenderQueue.sort(depthSort);\n\t\t}\n\n\t\tc = rerenderQueue.shift();\n\t\tl = rerenderQueue.length;\n\n\t\trenderComponent(c);\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { IS_NON_DIMENSIONAL, NULL, SVG_NAMESPACE } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] == '-') {\n\t\tstyle.setProperty(key, value == NULL ? '' : value);\n\t} else if (value == NULL) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\nconst CAPTURE_REGEX = /(PointerCapture)$|Capture$/i;\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name == 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] != oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] == 'o' && name[1] == 'n') {\n\t\tuseCapture = name != (name = name.replace(CAPTURE_REGEX, '$1'));\n\t\tconst lowerCaseName = name.toLowerCase();\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (lowerCaseName in dom || name == 'onFocusOut' || name == 'onFocusIn')\n\t\t\tname = lowerCaseName.slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == SVG_NAMESPACE) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname != 'popover' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == NULL ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != NULL && (value !== false || name[4] == '-')) {\n\t\t\tdom.setAttribute(name, name == 'popover' && value == true ? '' : value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {import('../internal').PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == NULL) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n","import { enqueueRender } from './component';\nimport { NULL } from './constants';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tfunction Context(props) {\n\t\tif (!this.getChildContext) {\n\t\t\t/** @type {Set<import('./internal').Component> | null} */\n\t\t\tlet subs = new Set();\n\t\t\tlet ctx = {};\n\t\t\tctx[Context._id] = this;\n\n\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\tthis.componentWillUnmount = () => {\n\t\t\t\tsubs = NULL;\n\t\t\t};\n\n\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t// @ts-expect-error even\n\t\t\t\tif (this.props.value != _props.value) {\n\t\t\t\t\tsubs.forEach(c => {\n\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.sub = c => {\n\t\t\t\tsubs.add(c);\n\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\tif (subs) {\n\t\t\t\t\t\tsubs.delete(c);\n\t\t\t\t\t}\n\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\treturn props.children;\n\t}\n\n\tContext._id = '__cC' + i++;\n\tContext._defaultValue = defaultValue;\n\n\t/** @type {import('./internal').FunctionComponent} */\n\tContext.Consumer = (props, contextValue) => {\n\t\treturn props.children(contextValue);\n\t};\n\n\t// we could also get rid of _contextRef entirely\n\tContext.Provider =\n\t\tContext._contextRef =\n\t\tContext.Consumer.contextType =\n\t\t\tContext;\n\n\treturn Context;\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport {\n\tEMPTY_OBJ,\n\tEMPTY_ARR,\n\tINSERT_VNODE,\n\tMATCHED,\n\tUNDEFINED,\n\tNULL\n} from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\toldDom = constructNewChildrenArray(\n\t\tnewParentVNode,\n\t\trenderResult,\n\t\toldChildren,\n\t\toldDom,\n\t\tnewChildrenLength\n\t);\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (childVNode == NULL) continue;\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\toldVNode =\n\t\t\t(childVNode._index != -1 && oldChildren[childVNode._index]) || EMPTY_OBJ;\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tlet result = diff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, NULL, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == NULL && newDom != NULL) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tlet shouldPlace = !!(childVNode._flags & INSERT_VNODE);\n\t\tif (shouldPlace || oldVNode._children === childVNode._children) {\n\t\t\toldDom = insert(childVNode, oldDom, parentDom, shouldPlace);\n\t\t} else if (typeof childVNode.type == 'function' && result !== UNDEFINED) {\n\t\t\toldDom = result;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(\n\tnewParentVNode,\n\trenderResult,\n\toldChildren,\n\toldDom,\n\tnewChildrenLength\n) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = new Array(newChildrenLength);\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == NULL ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tnewParentVNode._children[i] = NULL;\n\t\t\tcontinue;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tNULL,\n\t\t\t\tchildVNode,\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (childVNode.constructor === UNDEFINED && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : NULL,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tnewParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tconst matchingIndex = (childVNode._index = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t));\n\n\t\toldVNode = NULL;\n\t\tif (matchingIndex != -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original == null\n\t\tconst isMounting = oldVNode == NULL || oldVNode._original == NULL;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\t// When the array of children is growing we need to decrease the skew\n\t\t\t\t// as we are adding a new element to the array.\n\t\t\t\t// Example:\n\t\t\t\t// [1, 2, 3] --> [0, 1, 2, 3]\n\t\t\t\t// oldChildren   newChildren\n\t\t\t\t//\n\t\t\t\t// The new element is at index 0, so our skew is 0,\n\t\t\t\t// we need to decrease the skew as we are adding a new element.\n\t\t\t\t// The decrease will cause us to compare the element at position 1\n\t\t\t\t// with value 1 with the element at position 0 with value 0.\n\t\t\t\t//\n\t\t\t\t// A linear concept is applied when the array is shrinking,\n\t\t\t\t// if the length is unchanged we can assume that no skew\n\t\t\t\t// changes are needed.\n\t\t\t\tif (newChildrenLength > oldChildrenLength) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else if (newChildrenLength < oldChildrenLength) {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex != skewedIndex) {\n\t\t\t// When we move elements around i.e. [0, 1, 2] --> [1, 0, 2]\n\t\t\t// --> we diff 1, we find it at position 1 while our skewed index is 0 and our skew is 0\n\t\t\t//     we set the skew to 1 as we found an offset.\n\t\t\t// --> we diff 0, we find it at position 0 while our skewed index is at 2 and our skew is 1\n\t\t\t//     this makes us increase the skew again.\n\t\t\t// --> we diff 2, we find it at position 2 while our skewed index is at 4 and our skew is 2\n\t\t\t//\n\t\t\t// this becomes an optimization question where currently we see a 1 element offset as an insertion\n\t\t\t// or deletion i.e. we optimize for [0, 1, 2] --> [9, 0, 1, 2]\n\t\t\t// while a more than 1 offset we see as a swap.\n\t\t\t// We could probably build heuristics for having an optimized course of action here as well, but\n\t\t\t// might go at the cost of some bytes.\n\t\t\t//\n\t\t\t// If we wanted to optimize for i.e. only swaps we'd just do the last two code-branches and have\n\t\t\t// only the first item be a re-scouting and all the others fall in their skewed counter-part.\n\t\t\t// We could also further optimize for swaps\n\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\tskew--;\n\t\t\t} else if (matchingIndex == skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else {\n\t\t\t\tif (matchingIndex > skewedIndex) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\n\t\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t\t// match the new skew index (i + new skew)\n\t\t\t\t// In the former two branches we know that it matches after skewing\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != NULL && (oldVNode._flags & MATCHED) == 0) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @param {boolean} shouldPlace\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom, shouldPlace) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom, shouldPlace);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tif (shouldPlace) {\n\t\t\tif (oldDom && parentVNode.type && !oldDom.parentNode) {\n\t\t\t\toldDom = getDomSibling(parentVNode);\n\t\t\t}\n\t\t\tparentDom.insertBefore(parentVNode._dom, oldDom || NULL);\n\t\t}\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != NULL && oldDom.nodeType == 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == NULL || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet oldVNode = oldChildren[skewedIndex];\n\tconst matched = oldVNode != NULL && (oldVNode._flags & MATCHED) == 0;\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\t//\n\t// If there is an unkeyed functional VNode, that isn't a built-in like our Fragment,\n\t// we should not search as we risk re-using state of an unrelated VNode. (reverted for now)\n\tlet shouldSearch =\n\t\t// (typeof type != 'function' || type === Fragment || key) &&\n\t\tremainingOldChildren > (matched ? 1 : 0);\n\n\tif (\n\t\t(oldVNode === NULL && key == null) ||\n\t\t(matched && key == oldVNode.key && type == oldVNode.type)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\tlet x = skewedIndex - 1;\n\t\tlet y = skewedIndex + 1;\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tconst childIndex = x >= 0 ? x-- : y++;\n\t\t\toldVNode = oldChildren[childIndex];\n\t\t\tif (\n\t\t\t\toldVNode != NULL &&\n\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\tkey == oldVNode.key &&\n\t\t\t\ttype == oldVNode.type\n\t\t\t) {\n\t\t\t\treturn childIndex;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n","import {\n\tEMPTY_ARR,\n\tEMPTY_OBJ,\n\tMATH_NAMESPACE,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tNULL,\n\tRESET_MODE,\n\tSVG_NAMESPACE,\n\tUNDEFINED,\n\tXHTML_NAMESPACE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * @template {any} T\n * @typedef {import('../internal').Ref<T>} Ref<T>\n */\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== UNDEFINED) return NULL;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\t\t\tconst isClassComponent =\n\t\t\t\t'prototype' in newType && newType.prototype.render;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (isClassComponent) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (isClassComponent && c._nextState == NULL) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (isClassComponent && newType.getDerivedStateFromProps != NULL) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tc.componentWillMount != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidMount != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tnewVNode._original == oldVNode._original ||\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != NULL &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false)\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original != oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.some(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tEMPTY_ARR.push.apply(c._renderCallbacks, c._stateCallbacks);\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != NULL) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidUpdate != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif (isClassComponent) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tEMPTY_ARR.push.apply(c._renderCallbacks, c._stateCallbacks);\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != NULL) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (isClassComponent && !isNew && c.getSnapshotBeforeUpdate != NULL) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet renderResult =\n\t\t\t\ttmp != NULL && tmp.type === Fragment && tmp.key == NULL\n\t\t\t\t\t? cloneNode(tmp.props.children)\n\t\t\t\t\t: tmp;\n\n\t\t\toldDom = diffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = NULL;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = NULL;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != NULL) {\n\t\t\t\tif (e.then) {\n\t\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t\t: MODE_SUSPENDED;\n\n\t\t\t\t\twhile (oldDom && oldDom.nodeType == 8 && oldDom.nextSibling) {\n\t\t\t\t\t\toldDom = oldDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = NULL;\n\t\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i = excessDomChildren.length; i--; ) {\n\t\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t\t}\n\t\t\t\t\tmarkAsForce(newVNode);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\tif (!e.then) markAsForce(newVNode);\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == NULL &&\n\t\tnewVNode._original == oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\toldDom = newVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n\n\treturn newVNode._flags & MODE_SUSPENDED ? undefined : oldDom;\n}\n\nfunction markAsForce(vnode) {\n\tif (vnode) {\n\t\tif (vnode._component) vnode._component._force = true;\n\t\tif (vnode._children) vnode._children.some(markAsForce);\n\t}\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\nfunction cloneNode(node) {\n\tif (typeof node != 'object' || node == NULL || node._depth > 0) {\n\t\treturn node;\n\t}\n\n\tif (isArray(node)) {\n\t\treturn node.map(cloneNode);\n\t}\n\n\treturn assign({}, node);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props || EMPTY_OBJ;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType == 'svg') namespace = SVG_NAMESPACE;\n\telse if (nodeType == 'math') namespace = MATH_NAMESPACE;\n\telse if (!namespace) namespace = XHTML_NAMESPACE;\n\n\tif (excessDomChildren != NULL) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value == !!nodeType &&\n\t\t\t\t(nodeType ? value.localName == nodeType : value.nodeType == 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = NULL;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == NULL) {\n\t\tif (nodeType == NULL) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tif (isHydrating) {\n\t\t\tif (options._hydrationMismatch)\n\t\t\t\toptions._hydrationMismatch(newVNode, excessDomChildren);\n\t\t\tisHydrating = false;\n\t\t}\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = NULL;\n\t}\n\n\tif (nodeType == NULL) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data != newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != NULL) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (\n\t\t\t\ti != 'children' &&\n\t\t\t\t!(i in newProps) &&\n\t\t\t\t!(i == 'value' && 'defaultValue' in newProps) &&\n\t\t\t\t!(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, NULL, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html != oldHtml.__html && newHtml.__html != dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\t// @ts-expect-error\n\t\t\t\tnewVNode.type == 'template' ? dom.content : dom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType == 'foreignObject' ? XHTML_NAMESPACE : namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != NULL) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (nodeType == 'progress' && inputValue == NULL) {\n\t\t\t\tdom.removeAttribute('value');\n\t\t\t} else if (\n\t\t\t\tinputValue != UNDEFINED &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType == 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType == 'option' && inputValue != oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked != UNDEFINED && checked != dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any> & { _unmount?: unknown }} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') {\n\t\t\tlet hasRefUnmount = typeof ref._unmount == 'function';\n\t\t\tif (hasRefUnmount) {\n\t\t\t\t// @ts-ignore TS doesn't like moving narrowing checks into variables\n\t\t\t\tref._unmount();\n\t\t\t}\n\n\t\t\tif (!hasRefUnmount || value != NULL) {\n\t\t\t\t// Store the cleanup function on the function\n\t\t\t\t// instance object itself to avoid shape\n\t\t\t\t// transitioning vnode\n\t\t\t\tref._unmount = ref(value);\n\t\t\t}\n\t\t} else ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current == vnode._dom) {\n\t\t\tapplyRef(r, NULL, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != NULL) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = NULL;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\tvnode._component = vnode._parent = vnode._dom = UNDEFINED;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, NULL } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\t// https://github.com/preactjs/preact/issues/3794\n\tif (parentDom == document) {\n\t\tparentDom = document.documentElement;\n\t}\n\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? NULL\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, NULL, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? NULL\n\t\t\t\t: parentDom.firstChild\n\t\t\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t\t\t: NULL,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t\t? oldVNode._dom\n\t\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { NULL } from '../constants';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component,\n\t\t/** @type {import('../internal').ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != NULL) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != NULL) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\nimport { NULL, UNDEFINED } from './constants';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === UNDEFINED && defaultProps != UNDEFINED) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tNULL\n\t);\n}\n","// DOM properties that should NOT have \"px\" added when numeric\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;\nexport const VOID_ELEMENTS = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;\nexport const UNSAFE_NAME = /[\\s\\n\\\\/='\"\\0<>]/;\nexport const XLINK = /^xlink:?./;\n\nconst ENCODED_ENTITIES = /[\"&<]/;\n\nexport function encodeEntities(str) {\n\t// Ensure we're always parsing and returning a string:\n\tstr += '';\n\n\t// Skip all work for strings with no entities needing encoding:\n\tif (ENCODED_ENTITIES.test(str) === false) return str;\n\n\tlet last = 0,\n\t\ti = 0,\n\t\tout = '',\n\t\tch = '';\n\n\t// Seek forward in str until the next entity char:\n\tfor (; i < str.length; i++) {\n\t\tswitch (str.charCodeAt(i)) {\n\t\t\tcase 34:\n\t\t\t\tch = '&quot;';\n\t\t\t\tbreak;\n\t\t\tcase 38:\n\t\t\t\tch = '&amp;';\n\t\t\t\tbreak;\n\t\t\tcase 60:\n\t\t\t\tch = '&lt;';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcontinue;\n\t\t}\n\t\t// Append skipped/buffered characters and the encoded entity:\n\t\tif (i !== last) out += str.slice(last, i);\n\t\tout += ch;\n\t\t// Start the next seek/buffer after the entity's offset:\n\t\tlast = i + 1;\n\t}\n\tif (i !== last) out += str.slice(last, i);\n\treturn out;\n}\n\nexport let indent = (s, char) =>\n\tString(s).replace(/(\\n+)/g, '$1' + (char || '\\t'));\n\nexport let isLargeString = (s, length, ignoreLines) =>\n\tString(s).length > (length || 40) ||\n\t(!ignoreLines && String(s).indexOf('\\n') !== -1) ||\n\tString(s).indexOf('<') !== -1;\n\nconst JS_TO_CSS = {};\n\nconst CSS_REGEX = /([A-Z])/g;\n// Convert an Object style to a CSSText string\nexport function styleObjToCss(s) {\n\tlet str = '';\n\tfor (let prop in s) {\n\t\tlet val = s[prop];\n\t\tif (val != null && val !== '') {\n\t\t\tif (str) str += ' ';\n\t\t\t// str += jsToCss(prop);\n\t\t\tstr +=\n\t\t\t\tprop[0] == '-'\n\t\t\t\t\t? prop\n\t\t\t\t\t: JS_TO_CSS[prop] ||\n\t\t\t\t\t  (JS_TO_CSS[prop] = prop.replace(CSS_REGEX, '-$1').toLowerCase());\n\n\t\t\tif (typeof val === 'number' && IS_NON_DIMENSIONAL.test(prop) === false) {\n\t\t\t\tstr = str + ': ' + val + 'px;';\n\t\t\t} else {\n\t\t\t\tstr = str + ': ' + val + ';';\n\t\t\t}\n\t\t}\n\t}\n\treturn str || undefined;\n}\n\n/**\n * Get flattened children from the children prop\n * @param {Array} accumulator\n * @param {any} children A `props.children` opaque object.\n * @returns {Array} accumulator\n * @private\n */\nexport function getChildren(accumulator, children) {\n\tif (Array.isArray(children)) {\n\t\tchildren.reduce(getChildren, accumulator);\n\t} else if (children != null && children !== false) {\n\t\taccumulator.push(children);\n\t}\n\treturn accumulator;\n}\n\nfunction markAsDirty() {\n\tthis.__d = true;\n}\n\nexport function createComponent(vnode, context) {\n\treturn {\n\t\t__v: vnode,\n\t\tcontext,\n\t\tprops: vnode.props,\n\t\t// silently drop state updates\n\t\tsetState: markAsDirty,\n\t\tforceUpdate: markAsDirty,\n\t\t__d: true,\n\t\t// hooks\n\t\t__h: []\n\t};\n}\n\n// Necessary for createContext api. Setting this property will pass\n// the context value as `this.context` just for this component.\nexport function getContext(nodeName, context) {\n\tlet cxType = nodeName.contextType;\n\tlet provider = cxType && context[cxType.__c];\n\treturn cxType != null\n\t\t? provider\n\t\t\t? provider.props.value\n\t\t\t: cxType.__\n\t\t: context;\n}\n","import {\n\tencodeEntities,\n\tindent,\n\tisLargeString,\n\tstyleObjToCss,\n\tgetChildren,\n\tcreateComponent,\n\tgetContext,\n\tUNSAFE_NAME,\n\tXLINK,\n\tVOID_ELEMENTS\n} from './util';\nimport { options, Fragment } from 'preact';\n\n// components without names, kept as a hash for later comparison to return consistent UnnamedComponentXX names.\nconst UNNAMED = [];\n\nexport function _renderToStringPretty(\n\tvnode,\n\tcontext,\n\topts,\n\tinner,\n\tisSvgMode,\n\tselectValue\n) {\n\tif (vnode == null || typeof vnode === 'boolean') {\n\t\treturn '';\n\t}\n\n\t// #text nodes\n\tif (typeof vnode !== 'object') {\n\t\tif (typeof vnode === 'function') return '';\n\t\treturn encodeEntities(vnode);\n\t}\n\n\tlet pretty = opts.pretty,\n\t\tindentChar = pretty && typeof pretty === 'string' ? pretty : '\\t';\n\n\tif (Array.isArray(vnode)) {\n\t\tlet rendered = '';\n\t\tfor (let i = 0; i < vnode.length; i++) {\n\t\t\tif (pretty && i > 0) rendered = rendered + '\\n';\n\t\t\trendered =\n\t\t\t\trendered +\n\t\t\t\t_renderToStringPretty(\n\t\t\t\t\tvnode[i],\n\t\t\t\t\tcontext,\n\t\t\t\t\topts,\n\t\t\t\t\tinner,\n\t\t\t\t\tisSvgMode,\n\t\t\t\t\tselectValue\n\t\t\t\t);\n\t\t}\n\t\treturn rendered;\n\t}\n\n\t// VNodes have {constructor:undefined} to prevent JSON injection:\n\tif (vnode.constructor !== undefined) return '';\n\n\tlet nodeName = vnode.type,\n\t\tprops = vnode.props,\n\t\tisComponent = false;\n\n\t// components\n\tif (typeof nodeName === 'function') {\n\t\tisComponent = true;\n\t\tif (opts.shallow && (inner || opts.renderRootComponent === false)) {\n\t\t\tnodeName = getComponentName(nodeName);\n\t\t} else if (nodeName === Fragment) {\n\t\t\tconst children = [];\n\t\t\tgetChildren(children, vnode.props.children);\n\t\t\treturn _renderToStringPretty(\n\t\t\t\tchildren,\n\t\t\t\tcontext,\n\t\t\t\topts,\n\t\t\t\topts.shallowHighOrder !== false,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t} else {\n\t\t\tlet rendered;\n\n\t\t\tlet c = (vnode.__c = createComponent(vnode, context));\n\n\t\t\t// options._diff\n\t\t\tif (options.__b) options.__b(vnode);\n\n\t\t\t// options._render\n\t\t\tlet renderHook = options.__r;\n\n\t\t\tif (\n\t\t\t\t!nodeName.prototype ||\n\t\t\t\ttypeof nodeName.prototype.render !== 'function'\n\t\t\t) {\n\t\t\t\tlet cctx = getContext(nodeName, context);\n\n\t\t\t\t// If a hook invokes setState() to invalidate the component during rendering,\n\t\t\t\t// re-render it up to 25 times to allow \"settling\" of memoized states.\n\t\t\t\t// Note:\n\t\t\t\t//   This will need to be updated for Preact 11 to use internal.flags rather than component._dirty:\n\t\t\t\t//   https://github.com/preactjs/preact/blob/d4ca6fdb19bc715e49fd144e69f7296b2f4daa40/src/diff/component.js#L35-L44\n\t\t\t\tlet count = 0;\n\t\t\t\twhile (c.__d && count++ < 25) {\n\t\t\t\t\tc.__d = false;\n\n\t\t\t\t\tif (renderHook) renderHook(vnode);\n\n\t\t\t\t\t// stateless functional components\n\t\t\t\t\trendered = nodeName.call(vnode.__c, props, cctx);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet cctx = getContext(nodeName, context);\n\n\t\t\t\t// c = new nodeName(props, context);\n\t\t\t\tc = vnode.__c = new nodeName(props, cctx);\n\t\t\t\tc.__v = vnode;\n\t\t\t\t// turn off stateful re-rendering:\n\t\t\t\tc._dirty = c.__d = true;\n\t\t\t\tc.props = props;\n\t\t\t\tif (c.state == null) c.state = {};\n\n\t\t\t\tif (c._nextState == null && c.__s == null) {\n\t\t\t\t\tc._nextState = c.__s = c.state;\n\t\t\t\t}\n\n\t\t\t\tc.context = cctx;\n\t\t\t\tif (nodeName.getDerivedStateFromProps)\n\t\t\t\t\tc.state = Object.assign(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tc.state,\n\t\t\t\t\t\tnodeName.getDerivedStateFromProps(c.props, c.state)\n\t\t\t\t\t);\n\t\t\t\telse if (c.componentWillMount) {\n\t\t\t\t\tc.componentWillMount();\n\n\t\t\t\t\t// If the user called setState in cWM we need to flush pending,\n\t\t\t\t\t// state updates. This is the same behaviour in React.\n\t\t\t\t\tc.state =\n\t\t\t\t\t\tc._nextState !== c.state\n\t\t\t\t\t\t\t? c._nextState\n\t\t\t\t\t\t\t: c.__s !== c.state\n\t\t\t\t\t\t\t? c.__s\n\t\t\t\t\t\t\t: c.state;\n\t\t\t\t}\n\n\t\t\t\tif (renderHook) renderHook(vnode);\n\n\t\t\t\trendered = c.render(c.props, c.state, c.context);\n\t\t\t}\n\n\t\t\tif (c.getChildContext) {\n\t\t\t\tcontext = Object.assign({}, context, c.getChildContext());\n\t\t\t}\n\n\t\t\tif (options.diffed) options.diffed(vnode);\n\t\t\treturn _renderToStringPretty(\n\t\t\t\trendered,\n\t\t\t\tcontext,\n\t\t\t\topts,\n\t\t\t\topts.shallowHighOrder !== false,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t}\n\t}\n\n\t// render JSX to HTML\n\tlet s = '<' + nodeName,\n\t\tpropChildren,\n\t\thtml;\n\n\tif (props) {\n\t\tlet attrs = Object.keys(props);\n\n\t\t// allow sorting lexicographically for more determinism (useful for tests, such as via preact-jsx-chai)\n\t\tif (opts && opts.sortAttributes === true) attrs.sort();\n\n\t\tfor (let i = 0; i < attrs.length; i++) {\n\t\t\tlet name = attrs[i],\n\t\t\t\tv = props[name];\n\t\t\tif (name === 'children') {\n\t\t\t\tpropChildren = v;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (UNSAFE_NAME.test(name)) continue;\n\n\t\t\tif (\n\t\t\t\t!(opts && opts.allAttributes) &&\n\t\t\t\t(name === 'key' ||\n\t\t\t\t\tname === 'ref' ||\n\t\t\t\t\tname === '__self' ||\n\t\t\t\t\tname === '__source')\n\t\t\t)\n\t\t\t\tcontinue;\n\n\t\t\tif (name === 'defaultValue') {\n\t\t\t\tname = 'value';\n\t\t\t} else if (name === 'defaultChecked') {\n\t\t\t\tname = 'checked';\n\t\t\t} else if (name === 'defaultSelected') {\n\t\t\t\tname = 'selected';\n\t\t\t} else if (name === 'className') {\n\t\t\t\tif (typeof props.class !== 'undefined') continue;\n\t\t\t\tname = 'class';\n\t\t\t} else if (isSvgMode && XLINK.test(name)) {\n\t\t\t\tname = name.toLowerCase().replace(/^xlink:?/, 'xlink:');\n\t\t\t}\n\n\t\t\tif (name === 'htmlFor') {\n\t\t\t\tif (props.for) continue;\n\t\t\t\tname = 'for';\n\t\t\t}\n\n\t\t\tif (name === 'style' && v && typeof v === 'object') {\n\t\t\t\tv = styleObjToCss(v);\n\t\t\t}\n\n\t\t\t// always use string values instead of booleans for aria attributes\n\t\t\t// also see https://github.com/preactjs/preact/pull/2347/files\n\t\t\tif (name[0] === 'a' && name['1'] === 'r' && typeof v === 'boolean') {\n\t\t\t\tv = String(v);\n\t\t\t}\n\n\t\t\tlet hooked =\n\t\t\t\topts.attributeHook &&\n\t\t\t\topts.attributeHook(name, v, context, opts, isComponent);\n\t\t\tif (hooked || hooked === '') {\n\t\t\t\ts = s + hooked;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (name === 'dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t} else if (nodeName === 'textarea' && name === 'value') {\n\t\t\t\t// <textarea value=\"a&b\"> --> <textarea>a&amp;b</textarea>\n\t\t\t\tpropChildren = v;\n\t\t\t} else if ((v || v === 0 || v === '') && typeof v !== 'function') {\n\t\t\t\tif (v === true || v === '') {\n\t\t\t\t\tv = name;\n\t\t\t\t\t// in non-xml mode, allow boolean attributes\n\t\t\t\t\tif (!opts || !opts.xml) {\n\t\t\t\t\t\ts = s + ' ' + name;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (name === 'value') {\n\t\t\t\t\tif (nodeName === 'select') {\n\t\t\t\t\t\tselectValue = v;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t// If we're looking at an <option> and it's the currently selected one\n\t\t\t\t\t\tnodeName === 'option' &&\n\t\t\t\t\t\tselectValue == v &&\n\t\t\t\t\t\t// and the <option> doesn't already have a selected attribute on it\n\t\t\t\t\t\ttypeof props.selected === 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\ts = s + ` selected`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts = s + ` ${name}=\"${encodeEntities(v)}\"`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// account for >1 multiline attribute\n\tif (pretty) {\n\t\tlet sub = s.replace(/\\n\\s*/, ' ');\n\t\tif (sub !== s && !~sub.indexOf('\\n')) s = sub;\n\t\telse if (pretty && ~s.indexOf('\\n')) s = s + '\\n';\n\t}\n\n\ts = s + '>';\n\n\tif (UNSAFE_NAME.test(nodeName))\n\t\tthrow new Error(`${nodeName} is not a valid HTML tag name in ${s}`);\n\n\tlet isVoid =\n\t\tVOID_ELEMENTS.test(nodeName) ||\n\t\t(opts.voidElements && opts.voidElements.test(nodeName));\n\tlet pieces = [];\n\n\tlet children;\n\tif (html) {\n\t\t// if multiline, indent.\n\t\tif (pretty && isLargeString(html)) {\n\t\t\thtml = '\\n' + indentChar + indent(html, indentChar);\n\t\t}\n\t\ts = s + html;\n\t} else if (\n\t\tpropChildren != null &&\n\t\tgetChildren((children = []), propChildren).length\n\t) {\n\t\tlet hasLarge = pretty && ~s.indexOf('\\n');\n\t\tlet lastWasText = false;\n\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tlet child = children[i];\n\n\t\t\tif (child != null && child !== false) {\n\t\t\t\tlet childSvgMode =\n\t\t\t\t\t\tnodeName === 'svg'\n\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t: nodeName === 'foreignObject'\n\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t: isSvgMode,\n\t\t\t\t\tret = _renderToStringPretty(\n\t\t\t\t\t\tchild,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\topts,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tchildSvgMode,\n\t\t\t\t\t\tselectValue\n\t\t\t\t\t);\n\n\t\t\t\tif (pretty && !hasLarge && isLargeString(ret)) hasLarge = true;\n\n\t\t\t\t// Skip if we received an empty string\n\t\t\t\tif (ret) {\n\t\t\t\t\tif (pretty) {\n\t\t\t\t\t\tlet isText = ret.length > 0 && ret[0] != '<';\n\n\t\t\t\t\t\t// We merge adjacent text nodes, otherwise each piece would be printed\n\t\t\t\t\t\t// on a new line.\n\t\t\t\t\t\tif (lastWasText && isText) {\n\t\t\t\t\t\t\tpieces[pieces.length - 1] += ret;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpieces.push(ret);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlastWasText = isText;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpieces.push(ret);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (pretty && hasLarge) {\n\t\t\tfor (let i = pieces.length; i--; ) {\n\t\t\t\tpieces[i] = '\\n' + indentChar + indent(pieces[i], indentChar);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (pieces.length || html) {\n\t\ts = s + pieces.join('');\n\t} else if (opts && opts.xml) {\n\t\treturn s.substring(0, s.length - 1) + ' />';\n\t}\n\n\tif (isVoid && !children && !html) {\n\t\ts = s.replace(/>$/, ' />');\n\t} else {\n\t\tif (pretty && ~s.indexOf('\\n')) s = s + '\\n';\n\t\ts = s + `</${nodeName}>`;\n\t}\n\n\treturn s;\n}\n\nfunction getComponentName(component) {\n\treturn (\n\t\tcomponent.displayName ||\n\t\t(component !== Function && component.name) ||\n\t\tgetFallbackComponentName(component)\n\t);\n}\n\nfunction getFallbackComponentName(component) {\n\tlet str = Function.prototype.toString.call(component),\n\t\tname = (str.match(/^\\s*function\\s+([^( ]+)/) || '')[1];\n\tif (!name) {\n\t\t// search for an existing indexed name for the given component:\n\t\tlet index = -1;\n\t\tfor (let i = UNNAMED.length; i--; ) {\n\t\t\tif (UNNAMED[i] === component) {\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// not found, create a new indexed name:\n\t\tif (index < 0) {\n\t\t\tindex = UNNAMED.push(component) - 1;\n\t\t}\n\t\tname = `UnnamedComponent${index}`;\n\t}\n\treturn name;\n}\n","import {\n\tencodeEntities,\n\tstyleObjToCss,\n\tgetContext,\n\tcreateComponent,\n\tUNSAFE_NAME,\n\tXLINK,\n\tVOID_ELEMENTS\n} from './util';\nimport { options, h, Fragment } from 'preact';\nimport { _renderToStringPretty } from './pretty';\nimport {\n\tCOMMIT,\n\tCOMPONENT,\n\tDIFF,\n\tDIFFED,\n\tDIRTY,\n\tNEXT_STATE,\n\tPARENT,\n\tRENDER,\n\tSKIP_EFFECTS,\n\tVNODE,\n\tCHILDREN\n} from './constants';\n\n/** @typedef {import('preact').VNode} VNode */\n\nconst SHALLOW = { shallow: true };\n\n/** Render Preact JSX + Components to an HTML string.\n *\t@name render\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n *\t@param {Object} [options={}]\tRendering options\n *\t@param {Boolean} [options.shallow=false]\tIf `true`, renders nested Components as HTML elements (`<Foo a=\"b\" />`).\n *\t@param {Boolean} [options.xml=false]\t\tIf `true`, uses self-closing tags for elements without children.\n *\t@param {Boolean} [options.pretty=false]\t\tIf `true`, adds whitespace for readability\n *\t@param {RegExp|undefined} [options.voidElements]       RegeEx that matches elements that are considered void (self-closing)\n */\nrenderToString.render = renderToString;\n\n/** Only render elements, leaving Components inline as `<ComponentName ... />`.\n *\tThis method is just a convenience alias for `render(vnode, context, { shallow:true })`\n *\t@name shallow\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n */\nlet shallowRender = (vnode, context) => renderToString(vnode, context, SHALLOW);\n\nconst EMPTY_ARR = [];\nfunction renderToString(vnode, context, opts) {\n\tcontext = context || {};\n\n\t// Performance optimization: `renderToString` is synchronous and we\n\t// therefore don't execute any effects. To do that we pass an empty\n\t// array to `options._commit` (`__c`). But we can go one step further\n\t// and avoid a lot of dirty checks and allocations by setting\n\t// `options._skipEffects` (`__s`) too.\n\tconst previousSkipEffects = options[SKIP_EFFECTS];\n\toptions[SKIP_EFFECTS] = true;\n\n\tconst parent = h(Fragment, null);\n\tparent[CHILDREN] = [vnode];\n\n\tlet res;\n\tif (\n\t\topts &&\n\t\t(opts.pretty ||\n\t\t\topts.voidElements ||\n\t\t\topts.sortAttributes ||\n\t\t\topts.shallow ||\n\t\t\topts.allAttributes ||\n\t\t\topts.xml ||\n\t\t\topts.attributeHook)\n\t) {\n\t\tres = _renderToStringPretty(vnode, context, opts);\n\t} else {\n\t\tres = _renderToString(vnode, context, false, undefined, parent);\n\t}\n\n\t// options._commit, we don't schedule any effects in this library right now,\n\t// so we can pass an empty queue to this hook.\n\tif (options[COMMIT]) options[COMMIT](vnode, EMPTY_ARR);\n\toptions[SKIP_EFFECTS] = previousSkipEffects;\n\tEMPTY_ARR.length = 0;\n\n\treturn res;\n}\n\n/**\n * @param {VNode} vnode\n * @param {Record<string, unknown>} context\n * @returns {string}\n */\nfunction renderFunctionComponent(vnode, context) {\n\t// eslint-disable-next-line lines-around-comment\n\t/** @type {string} */\n\tlet rendered,\n\t\tc = createComponent(vnode, context),\n\t\tcctx = getContext(vnode.type, context);\n\n\tvnode[COMPONENT] = c;\n\n\t// If a hook invokes setState() to invalidate the component during rendering,\n\t// re-render it up to 25 times to allow \"settling\" of memoized states.\n\t// Note:\n\t//   This will need to be updated for Preact 11 to use internal.flags rather than component._dirty:\n\t//   https://github.com/preactjs/preact/blob/d4ca6fdb19bc715e49fd144e69f7296b2f4daa40/src/diff/component.js#L35-L44\n\tlet renderHook = options[RENDER];\n\tlet count = 0;\n\twhile (c[DIRTY] && count++ < 25) {\n\t\tc[DIRTY] = false;\n\n\t\tif (renderHook) renderHook(vnode);\n\n\t\t// stateless functional components\n\t\trendered = vnode.type.call(c, vnode.props, cctx);\n\t}\n\n\treturn rendered;\n}\n\n/**\n * @param {VNode} vnode\n * @param {Record<string, unknown>} context\n * @returns {VNode}\n */\nfunction renderClassComponent(vnode, context) {\n\tlet nodeName = vnode.type,\n\t\tcctx = getContext(nodeName, context);\n\n\t/** @type {import(\"preact\").Component} */\n\tlet c = new nodeName(vnode.props, cctx);\n\tvnode[COMPONENT] = c;\n\tc[VNODE] = vnode;\n\t// turn off stateful re-rendering:\n\tc[DIRTY] = true;\n\tc.props = vnode.props;\n\tif (c.state == null) c.state = {};\n\n\tif (c[NEXT_STATE] == null) {\n\t\tc[NEXT_STATE] = c.state;\n\t}\n\n\tc.context = cctx;\n\tif (nodeName.getDerivedStateFromProps) {\n\t\tc.state = assign(\n\t\t\t{},\n\t\t\tc.state,\n\t\t\tnodeName.getDerivedStateFromProps(c.props, c.state)\n\t\t);\n\t} else if (c.componentWillMount) {\n\t\tc.componentWillMount();\n\n\t\t// If the user called setState in cWM we need to flush pending,\n\t\t// state updates. This is the same behaviour in React.\n\t\tc.state = c[NEXT_STATE] !== c.state ? c[NEXT_STATE] : c.state;\n\t}\n\n\tlet renderHook = options[RENDER];\n\tif (renderHook) renderHook(vnode);\n\n\treturn c.render(c.props, c.state, c.context);\n}\n\n/**\n * @param {any} vnode\n * @returns {VNode}\n */\nfunction normalizeVNode(vnode) {\n\tif (vnode == null || typeof vnode == 'boolean') {\n\t\treturn null;\n\t} else if (\n\t\ttypeof vnode == 'string' ||\n\t\ttypeof vnode == 'number' ||\n\t\ttypeof vnode == 'bigint'\n\t) {\n\t\treturn h(null, null, vnode);\n\t}\n\treturn vnode;\n}\n\n/**\n * @param {string} name\n * @param {boolean} isSvgMode\n * @returns {string}\n */\nfunction normalizePropName(name, isSvgMode) {\n\tif (name === 'className') {\n\t\treturn 'class';\n\t} else if (name === 'htmlFor') {\n\t\treturn 'for';\n\t} else if (name === 'defaultValue') {\n\t\treturn 'value';\n\t} else if (name === 'defaultChecked') {\n\t\treturn 'checked';\n\t} else if (name === 'defaultSelected') {\n\t\treturn 'selected';\n\t} else if (isSvgMode && XLINK.test(name)) {\n\t\treturn name.toLowerCase().replace(/^xlink:?/, 'xlink:');\n\t}\n\n\treturn name;\n}\n\n/**\n * @param {string} name\n * @param {string | Record<string, unknown>} v\n * @returns {string}\n */\nfunction normalizePropValue(name, v) {\n\tif (name === 'style' && v != null && typeof v === 'object') {\n\t\treturn styleObjToCss(v);\n\t} else if (name[0] === 'a' && name[1] === 'r' && typeof v === 'boolean') {\n\t\t// always use string values instead of booleans for aria attributes\n\t\t// also see https://github.com/preactjs/preact/pull/2347/files\n\t\treturn String(v);\n\t}\n\n\treturn v;\n}\n\nconst isArray = Array.isArray;\nconst assign = Object.assign;\n\n/**\n * The default export is an alias of `render()`.\n * @param {any} vnode\n * @param {Record<string, unknown>} context\n * @param {boolean} isSvgMode\n * @param {any} selectValue\n * @param {VNode | null} parent\n * @returns {string}\n */\nfunction _renderToString(vnode, context, isSvgMode, selectValue, parent) {\n\t// Ignore non-rendered VNodes/values\n\tif (vnode == null || vnode === true || vnode === false || vnode === '') {\n\t\treturn '';\n\t}\n\n\t// Text VNodes: escape as HTML\n\tif (typeof vnode !== 'object') {\n\t\tif (typeof vnode === 'function') return '';\n\t\treturn encodeEntities(vnode);\n\t}\n\n\t// Recurse into children / Arrays\n\tif (isArray(vnode)) {\n\t\tlet rendered = '';\n\t\tparent[CHILDREN] = vnode;\n\t\tfor (let i = 0; i < vnode.length; i++) {\n\t\t\trendered =\n\t\t\t\trendered +\n\t\t\t\t_renderToString(vnode[i], context, isSvgMode, selectValue, parent);\n\n\t\t\tvnode[i] = normalizeVNode(vnode[i]);\n\t\t}\n\t\treturn rendered;\n\t}\n\n\t// VNodes have {constructor:undefined} to prevent JSON injection:\n\tif (vnode.constructor !== undefined) return '';\n\n\tvnode[PARENT] = parent;\n\tif (options[DIFF]) options[DIFF](vnode);\n\n\tlet type = vnode.type,\n\t\tprops = vnode.props;\n\n\t// Invoke rendering on Components\n\tconst isComponent = typeof type === 'function';\n\tif (isComponent) {\n\t\tlet rendered;\n\t\tif (type === Fragment) {\n\t\t\trendered = props.children;\n\t\t} else {\n\t\t\tif (type.prototype && typeof type.prototype.render === 'function') {\n\t\t\t\trendered = renderClassComponent(vnode, context);\n\t\t\t} else {\n\t\t\t\trendered = renderFunctionComponent(vnode, context);\n\t\t\t}\n\n\t\t\tlet component = vnode[COMPONENT];\n\t\t\tif (component.getChildContext) {\n\t\t\t\tcontext = assign({}, context, component.getChildContext());\n\t\t\t}\n\t\t}\n\n\t\t// When a component returns a Fragment node we flatten it in core, so we\n\t\t// need to mirror that logic here too\n\t\tlet isTopLevelFragment =\n\t\t\trendered != null && rendered.type === Fragment && rendered.key == null;\n\t\trendered = isTopLevelFragment ? rendered.props.children : rendered;\n\n\t\t// Recurse into children before invoking the after-diff hook\n\t\tconst str = _renderToString(\n\t\t\trendered,\n\t\t\tcontext,\n\t\t\tisSvgMode,\n\t\t\tselectValue,\n\t\t\tvnode\n\t\t);\n\n\t\tif (options[DIFFED]) options[DIFFED](vnode);\n\t\tvnode[PARENT] = undefined;\n\n\t\tif (options.unmount) options.unmount(vnode);\n\n\t\treturn str;\n\t}\n\n\t// Serialize Element VNodes to HTML\n\tlet s = '<',\n\t\tchildren,\n\t\thtml;\n\n\ts = s + type;\n\n\tif (props) {\n\t\tchildren = props.children;\n\t\tfor (let name in props) {\n\t\t\tlet v = props[name];\n\n\t\t\tif (\n\t\t\t\tname === 'key' ||\n\t\t\t\tname === 'ref' ||\n\t\t\t\tname === '__self' ||\n\t\t\t\tname === '__source' ||\n\t\t\t\tname === 'children' ||\n\t\t\t\t(name === 'className' && 'class' in props) ||\n\t\t\t\t(name === 'htmlFor' && 'for' in props)\n\t\t\t) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (UNSAFE_NAME.test(name)) continue;\n\n\t\t\tname = normalizePropName(name, isSvgMode);\n\t\t\tv = normalizePropValue(name, v);\n\n\t\t\tif (name === 'dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t} else if (type === 'textarea' && name === 'value') {\n\t\t\t\t// <textarea value=\"a&b\"> --> <textarea>a&amp;b</textarea>\n\t\t\t\tchildren = v;\n\t\t\t} else if ((v || v === 0 || v === '') && typeof v !== 'function') {\n\t\t\t\tif (v === true || v === '') {\n\t\t\t\t\tv = name;\n\t\t\t\t\ts = s + ' ' + name;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (name === 'value') {\n\t\t\t\t\tif (type === 'select') {\n\t\t\t\t\t\tselectValue = v;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t// If we're looking at an <option> and it's the currently selected one\n\t\t\t\t\t\ttype === 'option' &&\n\t\t\t\t\t\tselectValue == v &&\n\t\t\t\t\t\t// and the <option> doesn't already have a selected attribute on it\n\t\t\t\t\t\t!('selected' in props)\n\t\t\t\t\t) {\n\t\t\t\t\t\ts = s + ' selected';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts = s + ' ' + name + '=\"' + encodeEntities(v) + '\"';\n\t\t\t}\n\t\t}\n\t}\n\n\tlet startElement = s;\n\ts = s + '>';\n\n\tif (UNSAFE_NAME.test(type)) {\n\t\tthrow new Error(`${type} is not a valid HTML tag name in ${s}`);\n\t}\n\n\tlet pieces = '';\n\tlet hasChildren = false;\n\n\tif (html) {\n\t\tpieces = pieces + html;\n\t\thasChildren = true;\n\t} else if (typeof children === 'string') {\n\t\tpieces = pieces + encodeEntities(children);\n\t\thasChildren = true;\n\t} else if (isArray(children)) {\n\t\tvnode[CHILDREN] = children;\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tlet child = children[i];\n\t\t\tchildren[i] = normalizeVNode(child);\n\n\t\t\tif (child != null && child !== false) {\n\t\t\t\tlet childSvgMode =\n\t\t\t\t\ttype === 'svg' || (type !== 'foreignObject' && isSvgMode);\n\t\t\t\tlet ret = _renderToString(\n\t\t\t\t\tchild,\n\t\t\t\t\tcontext,\n\t\t\t\t\tchildSvgMode,\n\t\t\t\t\tselectValue,\n\t\t\t\t\tvnode\n\t\t\t\t);\n\n\t\t\t\t// Skip if we received an empty string\n\t\t\t\tif (ret) {\n\t\t\t\t\tpieces = pieces + ret;\n\t\t\t\t\thasChildren = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (children != null && children !== false && children !== true) {\n\t\tvnode[CHILDREN] = [normalizeVNode(children)];\n\t\tlet childSvgMode =\n\t\t\ttype === 'svg' || (type !== 'foreignObject' && isSvgMode);\n\t\tlet ret = _renderToString(\n\t\t\tchildren,\n\t\t\tcontext,\n\t\t\tchildSvgMode,\n\t\t\tselectValue,\n\t\t\tvnode\n\t\t);\n\n\t\t// Skip if we received an empty string\n\t\tif (ret) {\n\t\t\tpieces = pieces + ret;\n\t\t\thasChildren = true;\n\t\t}\n\t}\n\n\tif (options[DIFFED]) options[DIFFED](vnode);\n\tvnode[PARENT] = undefined;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif (hasChildren) {\n\t\ts = s + pieces;\n\t} else if (VOID_ELEMENTS.test(type)) {\n\t\treturn startElement + ' />';\n\t}\n\n\treturn s + '</' + type + '>';\n}\n\n/** The default export is an alias of `render()`. */\n\nrenderToString.shallowRender = shallowRender;\n\nexport default renderToString;\n\nexport {\n\trenderToString as render,\n\trenderToString as renderToStaticMarkup,\n\trenderToString,\n\tshallowRender\n};\n","module.exports = require('./commonjs').default;","function _extends() {\n  return module.exports = _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _extends.apply(null, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = SigninPage;\nvar _preact = require(\"preact\");\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nfunction hexToRgba(hex, alpha = 1) {\n  if (!hex) {\n    return;\n  }\n  hex = hex.replace(/^#/, \"\");\n  if (hex.length === 3) {\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n  }\n  const bigint = parseInt(hex, 16);\n  const r = bigint >> 16 & 255;\n  const g = bigint >> 8 & 255;\n  const b = bigint & 255;\n  alpha = Math.min(Math.max(alpha, 0), 1);\n  const rgba = `rgba(${r}, ${g}, ${b}, ${alpha})`;\n  return rgba;\n}\nfunction SigninPage(props) {\n  var _errors$errorType;\n  const {\n    csrfToken,\n    providers,\n    callbackUrl,\n    theme,\n    email,\n    error: errorType\n  } = props;\n  const providersToRender = providers.filter(provider => {\n    if (provider.type === \"oauth\" || provider.type === \"email\") {\n      return true;\n    } else if (provider.type === \"credentials\" && provider.credentials) {\n      return true;\n    }\n    return false;\n  });\n  if (typeof document !== \"undefined\" && theme.buttonText) {\n    document.documentElement.style.setProperty(\"--button-text-color\", theme.buttonText);\n  }\n  if (typeof document !== \"undefined\" && theme.brandColor) {\n    document.documentElement.style.setProperty(\"--brand-color\", theme.brandColor);\n  }\n  const errors = {\n    Signin: \"Try signing in with a different account.\",\n    OAuthSignin: \"Try signing in with a different account.\",\n    OAuthCallback: \"Try signing in with a different account.\",\n    OAuthCreateAccount: \"Try signing in with a different account.\",\n    EmailCreateAccount: \"Try signing in with a different account.\",\n    Callback: \"Try signing in with a different account.\",\n    OAuthAccountNotLinked: \"To confirm your identity, sign in with the same account you used originally.\",\n    EmailSignin: \"The e-mail could not be sent.\",\n    CredentialsSignin: \"Sign in failed. Check the details you provided are correct.\",\n    SessionRequired: \"Please sign in to access this page.\",\n    default: \"Unable to sign in.\"\n  };\n  const error = errorType && ((_errors$errorType = errors[errorType]) !== null && _errors$errorType !== void 0 ? _errors$errorType : errors.default);\n  const providerLogoPath = \"https://authjs.dev/img/providers\";\n  return (0, _preact.h)(\"div\", {\n    className: \"signin\"\n  }, theme.brandColor && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n    }\n  }), theme.buttonText && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `\n    }\n  }), (0, _preact.h)(\"div\", {\n    className: \"card\"\n  }, theme.logo && (0, _preact.h)(\"img\", {\n    src: theme.logo,\n    alt: \"Logo\",\n    className: \"logo\"\n  }), error && (0, _preact.h)(\"div\", {\n    className: \"error\"\n  }, (0, _preact.h)(\"p\", null, error)), providersToRender.map((provider, i) => {\n    let bg, text, logo, logoDark, bgDark, textDark;\n    if (provider.type === \"oauth\") {\n      var _provider$style;\n      ;\n      ({\n        bg = \"\",\n        text = \"\",\n        logo = \"\",\n        bgDark = bg,\n        textDark = text,\n        logoDark = \"\"\n      } = (_provider$style = provider.style) !== null && _provider$style !== void 0 ? _provider$style : {});\n      logo = logo.startsWith(\"/\") ? `${providerLogoPath}${logo}` : logo;\n      logoDark = logoDark.startsWith(\"/\") ? `${providerLogoPath}${logoDark}` : logoDark || logo;\n      logoDark || (logoDark = logo);\n    }\n    return (0, _preact.h)(\"div\", {\n      key: provider.id,\n      className: \"provider\"\n    }, provider.type === \"oauth\" && (0, _preact.h)(\"form\", {\n      action: provider.signinUrl,\n      method: \"POST\"\n    }, (0, _preact.h)(\"input\", {\n      type: \"hidden\",\n      name: \"csrfToken\",\n      value: csrfToken\n    }), callbackUrl && (0, _preact.h)(\"input\", {\n      type: \"hidden\",\n      name: \"callbackUrl\",\n      value: callbackUrl\n    }), (0, _preact.h)(\"button\", {\n      type: \"submit\",\n      className: \"button\",\n      style: {\n        \"--provider-bg\": bg,\n        \"--provider-dark-bg\": bgDark,\n        \"--provider-color\": text,\n        \"--provider-dark-color\": textDark,\n        \"--provider-bg-hover\": hexToRgba(bg, 0.8),\n        \"--provider-dark-bg-hover\": hexToRgba(bgDark, 0.8)\n      }\n    }, logo && (0, _preact.h)(\"img\", {\n      loading: \"lazy\",\n      height: 24,\n      width: 24,\n      id: \"provider-logo\",\n      src: `${logo.startsWith(\"/\") ? providerLogoPath : \"\"}${logo}`\n    }), logoDark && (0, _preact.h)(\"img\", {\n      loading: \"lazy\",\n      height: 24,\n      width: 24,\n      id: \"provider-logo-dark\",\n      src: `${logo.startsWith(\"/\") ? providerLogoPath : \"\"}${logoDark}`\n    }), (0, _preact.h)(\"span\", null, \"Sign in with \", provider.name))), (provider.type === \"email\" || provider.type === \"credentials\") && i > 0 && providersToRender[i - 1].type !== \"email\" && providersToRender[i - 1].type !== \"credentials\" && (0, _preact.h)(\"hr\", null), provider.type === \"email\" && (0, _preact.h)(\"form\", {\n      action: provider.signinUrl,\n      method: \"POST\"\n    }, (0, _preact.h)(\"input\", {\n      type: \"hidden\",\n      name: \"csrfToken\",\n      value: csrfToken\n    }), (0, _preact.h)(\"label\", {\n      className: \"section-header\",\n      htmlFor: `input-email-for-${provider.id}-provider`\n    }, \"Email\"), (0, _preact.h)(\"input\", {\n      id: `input-email-for-${provider.id}-provider`,\n      autoFocus: true,\n      type: \"email\",\n      name: \"email\",\n      value: email,\n      placeholder: \"email@example.com\",\n      required: true\n    }), (0, _preact.h)(\"button\", {\n      id: \"submitButton\",\n      type: \"submit\"\n    }, \"Sign in with \", provider.name)), provider.type === \"credentials\" && (0, _preact.h)(\"form\", {\n      action: provider.callbackUrl,\n      method: \"POST\"\n    }, (0, _preact.h)(\"input\", {\n      type: \"hidden\",\n      name: \"csrfToken\",\n      value: csrfToken\n    }), Object.keys(provider.credentials).map(credential => {\n      var _provider$credentials, _provider$credentials2, _provider$credentials3;\n      return (0, _preact.h)(\"div\", {\n        key: `input-group-${provider.id}`\n      }, (0, _preact.h)(\"label\", {\n        className: \"section-header\",\n        htmlFor: `input-${credential}-for-${provider.id}-provider`\n      }, (_provider$credentials = provider.credentials[credential].label) !== null && _provider$credentials !== void 0 ? _provider$credentials : credential), (0, _preact.h)(\"input\", (0, _extends2.default)({\n        name: credential,\n        id: `input-${credential}-for-${provider.id}-provider`,\n        type: (_provider$credentials2 = provider.credentials[credential].type) !== null && _provider$credentials2 !== void 0 ? _provider$credentials2 : \"text\",\n        placeholder: (_provider$credentials3 = provider.credentials[credential].placeholder) !== null && _provider$credentials3 !== void 0 ? _provider$credentials3 : \"\"\n      }, provider.credentials[credential])));\n    }), (0, _preact.h)(\"button\", {\n      type: \"submit\"\n    }, \"Sign in with \", provider.name)), (provider.type === \"email\" || provider.type === \"credentials\") && i + 1 < providersToRender.length && (0, _preact.h)(\"hr\", null));\n  })));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = SignoutPage;\nvar _preact = require(\"preact\");\nfunction SignoutPage(props) {\n  const {\n    url,\n    csrfToken,\n    theme\n  } = props;\n  return (0, _preact.h)(\"div\", {\n    className: \"signout\"\n  }, theme.brandColor && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n    }\n  }), theme.buttonText && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `\n    }\n  }), (0, _preact.h)(\"div\", {\n    className: \"card\"\n  }, theme.logo && (0, _preact.h)(\"img\", {\n    src: theme.logo,\n    alt: \"Logo\",\n    className: \"logo\"\n  }), (0, _preact.h)(\"h1\", null, \"Signout\"), (0, _preact.h)(\"p\", null, \"Are you sure you want to sign out?\"), (0, _preact.h)(\"form\", {\n    action: `${url}/signout`,\n    method: \"POST\"\n  }, (0, _preact.h)(\"input\", {\n    type: \"hidden\",\n    name: \"csrfToken\",\n    value: csrfToken\n  }), (0, _preact.h)(\"button\", {\n    id: \"submitButton\",\n    type: \"submit\"\n  }, \"Sign out\"))));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = VerifyRequestPage;\nvar _preact = require(\"preact\");\nfunction VerifyRequestPage(props) {\n  const {\n    url,\n    theme\n  } = props;\n  return (0, _preact.h)(\"div\", {\n    className: \"verify-request\"\n  }, theme.brandColor && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n    }\n  }), (0, _preact.h)(\"div\", {\n    className: \"card\"\n  }, theme.logo && (0, _preact.h)(\"img\", {\n    src: theme.logo,\n    alt: \"Logo\",\n    className: \"logo\"\n  }), (0, _preact.h)(\"h1\", null, \"Check your email\"), (0, _preact.h)(\"p\", null, \"A sign in link has been sent to your email address.\"), (0, _preact.h)(\"p\", null, (0, _preact.h)(\"a\", {\n    className: \"site\",\n    href: url.origin\n  }, url.host))));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ErrorPage;\nvar _preact = require(\"preact\");\nfunction ErrorPage(props) {\n  var _errors$error$toLower;\n  const {\n    url,\n    error = \"default\",\n    theme\n  } = props;\n  const signinPageUrl = `${url}/signin`;\n  const errors = {\n    default: {\n      status: 200,\n      heading: \"Error\",\n      message: (0, _preact.h)(\"p\", null, (0, _preact.h)(\"a\", {\n        className: \"site\",\n        href: url === null || url === void 0 ? void 0 : url.origin\n      }, url === null || url === void 0 ? void 0 : url.host))\n    },\n    configuration: {\n      status: 500,\n      heading: \"Server error\",\n      message: (0, _preact.h)(\"div\", null, (0, _preact.h)(\"p\", null, \"There is a problem with the server configuration.\"), (0, _preact.h)(\"p\", null, \"Check the server logs for more information.\"))\n    },\n    accessdenied: {\n      status: 403,\n      heading: \"Access Denied\",\n      message: (0, _preact.h)(\"div\", null, (0, _preact.h)(\"p\", null, \"You do not have permission to sign in.\"), (0, _preact.h)(\"p\", null, (0, _preact.h)(\"a\", {\n        className: \"button\",\n        href: signinPageUrl\n      }, \"Sign in\")))\n    },\n    verification: {\n      status: 403,\n      heading: \"Unable to sign in\",\n      message: (0, _preact.h)(\"div\", null, (0, _preact.h)(\"p\", null, \"The sign in link is no longer valid.\"), (0, _preact.h)(\"p\", null, \"It may have been used already or it may have expired.\")),\n      signin: (0, _preact.h)(\"a\", {\n        className: \"button\",\n        href: signinPageUrl\n      }, \"Sign in\")\n    }\n  };\n  const {\n    status,\n    heading,\n    message,\n    signin\n  } = (_errors$error$toLower = errors[error.toLowerCase()]) !== null && _errors$error$toLower !== void 0 ? _errors$error$toLower : errors.default;\n  return {\n    status,\n    html: (0, _preact.h)(\"div\", {\n      className: \"error\"\n    }, (theme === null || theme === void 0 ? void 0 : theme.brandColor) && (0, _preact.h)(\"style\", {\n      dangerouslySetInnerHTML: {\n        __html: `\n        :root {\n          --brand-color: ${theme === null || theme === void 0 ? void 0 : theme.brandColor}\n        }\n      `\n      }\n    }), (0, _preact.h)(\"div\", {\n      className: \"card\"\n    }, (theme === null || theme === void 0 ? void 0 : theme.logo) && (0, _preact.h)(\"img\", {\n      src: theme.logo,\n      alt: \"Logo\",\n      className: \"logo\"\n    }), (0, _preact.h)(\"h1\", null, heading), (0, _preact.h)(\"div\", {\n      className: \"message\"\n    }, message), signin))\n  };\n}","module.exports = function() { return \":root{--border-width:1px;--border-radius:0.5rem;--color-error:#c94b4b;--color-info:#157efb;--color-info-hover:#0f6ddb;--color-info-text:#fff}.__next-auth-theme-auto,.__next-auth-theme-light{--color-background:#ececec;--color-background-hover:hsla(0,0%,93%,.8);--color-background-card:#fff;--color-text:#000;--color-primary:#444;--color-control-border:#bbb;--color-button-active-background:#f9f9f9;--color-button-active-border:#aaa;--color-separator:#ccc}.__next-auth-theme-dark{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}@media (prefers-color-scheme:dark){.__next-auth-theme-auto{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}a.button,button{background-color:var(--provider-dark-bg,var(--color-background));color:var(--provider-dark-color,var(--color-primary))}a.button:hover,button:hover{background-color:var(--provider-dark-bg-hover,var(--color-background-hover))!important}#provider-logo{display:none!important}#provider-logo-dark{display:block!important;width:25px}}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit;margin:0;padding:0}body{background-color:var(--color-background);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;margin:0;padding:0}h1{font-weight:400}h1,p{color:var(--color-text);margin-bottom:1.5rem;padding:0 1rem}form{margin:0;padding:0}label{font-weight:500;margin-bottom:.25rem;text-align:left}input[type],label{color:var(--color-text);display:block}input[type]{background:var(--color-background-card);border:var(--border-width) solid var(--color-control-border);border-radius:var(--border-radius);box-sizing:border-box;font-size:1rem;padding:.5rem 1rem;width:100%}input[type]:focus{box-shadow:none}p{font-size:1.1rem;line-height:2rem}a.button{line-height:1rem;text-decoration:none}a.button:link,a.button:visited{background-color:var(--color-background);color:var(--color-primary)}button span{flex-grow:1}a.button,button{align-items:center;background-color:var(--provider-bg);border-color:rgba(0,0,0,.1);border-radius:var(--border-radius);color:var(--provider-color,var(--color-primary));display:flex;font-size:1.1rem;font-weight:500;justify-content:center;min-height:62px;padding:.75rem 1rem;position:relative;transition:all .1s ease-in-out}a.button:hover,button:hover{background-color:var(--provider-bg-hover,var(--color-background-hover));cursor:pointer}a.button:active,button:active{cursor:pointer}a.button #provider-logo,button #provider-logo{display:block;width:25px}a.button #provider-logo-dark,button #provider-logo-dark{display:none}#submitButton{background-color:var(--brand-color,var(--color-info));color:var(--button-text-color,var(--color-info-text));width:100%}#submitButton:hover{background-color:var(--button-hover-bg,var(--color-info-hover))!important}a.site{color:var(--color-primary);font-size:1rem;line-height:2rem;text-decoration:none}a.site:hover{text-decoration:underline}.page{box-sizing:border-box;display:grid;height:100%;margin:0;padding:0;place-items:center;position:absolute;width:100%}.page>div{text-align:center}.error a.button{margin-top:.5rem;padding-left:2rem;padding-right:2rem}.error .message{margin-bottom:1.5rem}.signin input[type=text]{display:block;margin-left:auto;margin-right:auto}.signin hr{border:0;border-top:1px solid var(--color-separator);display:block;margin:2rem auto 1rem;overflow:visible}.signin hr:before{background:var(--color-background-card);color:#888;content:\\\"or\\\";padding:0 .4rem;position:relative;top:-.7rem}.signin .error{background:#f5f5f5;background:var(--color-error);border-radius:.3rem;font-weight:500}.signin .error p{color:var(--color-info-text);font-size:.9rem;line-height:1.2rem;padding:.5rem 1rem;text-align:left}.signin form,.signin>div{display:block}.signin form input[type],.signin>div input[type]{margin-bottom:.5rem}.signin form button,.signin>div button{width:100%}.signin .provider+.provider{margin-top:1rem}.logo{display:inline-block;margin:1.25rem 0;max-height:70px;max-width:150px}.card{background-color:var(--color-background-card);border-radius:2rem;padding:1.25rem 2rem}.card .header{color:var(--color-primary)}.section-header{color:var(--color-text)}@media screen and (min-width:450px){.card{margin:2rem 0;width:368px}}@media screen and (max-width:450px){.card{margin:1rem 0;width:343px}}\" }","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = renderPage;\nvar _preactRenderToString = _interopRequireDefault(require(\"preact-render-to-string\"));\nvar _signin = _interopRequireDefault(require(\"./signin\"));\nvar _signout = _interopRequireDefault(require(\"./signout\"));\nvar _verifyRequest = _interopRequireDefault(require(\"./verify-request\"));\nvar _error = _interopRequireDefault(require(\"./error\"));\nvar _css = _interopRequireDefault(require(\"../../css\"));\nfunction renderPage(params) {\n  const {\n    url,\n    theme,\n    query,\n    cookies\n  } = params;\n  function send({\n    html,\n    title,\n    status\n  }) {\n    var _theme$colorScheme;\n    return {\n      cookies,\n      status,\n      headers: [{\n        key: \"Content-Type\",\n        value: \"text/html\"\n      }],\n      body: `<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>${(0, _css.default)()}</style><title>${title}</title></head><body class=\"__next-auth-theme-${(_theme$colorScheme = theme === null || theme === void 0 ? void 0 : theme.colorScheme) !== null && _theme$colorScheme !== void 0 ? _theme$colorScheme : \"auto\"}\"><div class=\"page\">${(0, _preactRenderToString.default)(html)}</div></body></html>`\n    };\n  }\n  return {\n    signin(props) {\n      return send({\n        html: (0, _signin.default)({\n          csrfToken: params.csrfToken,\n          providers: params.providers,\n          callbackUrl: params.callbackUrl,\n          theme,\n          ...query,\n          ...props\n        }),\n        title: \"Sign In\"\n      });\n    },\n    signout(props) {\n      return send({\n        html: (0, _signout.default)({\n          csrfToken: params.csrfToken,\n          url,\n          theme,\n          ...props\n        }),\n        title: \"Sign Out\"\n      });\n    },\n    verifyRequest(props) {\n      return send({\n        html: (0, _verifyRequest.default)({\n          url,\n          theme,\n          ...props\n        }),\n        title: \"Verify Request\"\n      });\n    },\n    error(props) {\n      return send({\n        ...(0, _error.default)({\n          url,\n          theme,\n          ...props\n        }),\n        title: \"Error\"\n      });\n    }\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.merge = merge;\nfunction isObject(item) {\n  return item && typeof item === \"object\" && !Array.isArray(item);\n}\nfunction merge(target, ...sources) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, {\n          [key]: {}\n        });\n        merge(target[key], source[key]);\n      } else {\n        Object.assign(target, {\n          [key]: source[key]\n        });\n      }\n    }\n  }\n  return merge(target, ...sources);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parseProviders;\nvar _merge = require(\"../../utils/merge\");\nfunction parseProviders(params) {\n  const {\n    url,\n    providerId\n  } = params;\n  const providers = params.providers.map(({\n    options: userOptions,\n    ...rest\n  }) => {\n    var _ref;\n    if (rest.type === \"oauth\") {\n      var _normalizedUserOption;\n      const normalizedOptions = normalizeOAuthOptions(rest);\n      const normalizedUserOptions = normalizeOAuthOptions(userOptions, true);\n      const id = (_normalizedUserOption = normalizedUserOptions === null || normalizedUserOptions === void 0 ? void 0 : normalizedUserOptions.id) !== null && _normalizedUserOption !== void 0 ? _normalizedUserOption : rest.id;\n      return (0, _merge.merge)(normalizedOptions, {\n        ...normalizedUserOptions,\n        signinUrl: `${url}/signin/${id}`,\n        callbackUrl: `${url}/callback/${id}`\n      });\n    }\n    const id = (_ref = userOptions === null || userOptions === void 0 ? void 0 : userOptions.id) !== null && _ref !== void 0 ? _ref : rest.id;\n    return (0, _merge.merge)(rest, {\n      ...userOptions,\n      signinUrl: `${url}/signin/${id}`,\n      callbackUrl: `${url}/callback/${id}`\n    });\n  });\n  return {\n    providers,\n    provider: providers.find(({\n      id\n    }) => id === providerId)\n  };\n}\nfunction normalizeOAuthOptions(oauthOptions, isUserOptions = false) {\n  var _normalized$version;\n  if (!oauthOptions) return;\n  const normalized = Object.entries(oauthOptions).reduce((acc, [key, value]) => {\n    if ([\"authorization\", \"token\", \"userinfo\"].includes(key) && typeof value === \"string\") {\n      var _url$searchParams;\n      const url = new URL(value);\n      acc[key] = {\n        url: `${url.origin}${url.pathname}`,\n        params: Object.fromEntries((_url$searchParams = url.searchParams) !== null && _url$searchParams !== void 0 ? _url$searchParams : [])\n      };\n    } else {\n      acc[key] = value;\n    }\n    return acc;\n  }, {});\n  if (!isUserOptions && !((_normalized$version = normalized.version) !== null && _normalized$version !== void 0 && _normalized$version.startsWith(\"1.\"))) {\n    var _ref2, _normalized$idToken, _normalized$wellKnown, _normalized$authoriza;\n    normalized.idToken = Boolean((_ref2 = (_normalized$idToken = normalized.idToken) !== null && _normalized$idToken !== void 0 ? _normalized$idToken : (_normalized$wellKnown = normalized.wellKnown) === null || _normalized$wellKnown === void 0 ? void 0 : _normalized$wellKnown.includes(\"openid-configuration\")) !== null && _ref2 !== void 0 ? _ref2 : (_normalized$authoriza = normalized.authorization) === null || _normalized$authoriza === void 0 || (_normalized$authoriza = _normalized$authoriza.params) === null || _normalized$authoriza === void 0 || (_normalized$authoriza = _normalized$authoriza.scope) === null || _normalized$authoriza === void 0 ? void 0 : _normalized$authoriza.includes(\"openid\"));\n    if (!normalized.checks) normalized.checks = [\"state\"];\n  }\n  return normalized;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultCallbacks = void 0;\nconst defaultCallbacks = exports.defaultCallbacks = {\n  signIn() {\n    return true;\n  },\n  redirect({\n    url,\n    baseUrl\n  }) {\n    if (url.startsWith(\"/\")) return `${baseUrl}${url}`;else if (new URL(url).origin === baseUrl) return url;\n    return baseUrl;\n  },\n  session({\n    session\n  }) {\n    return session;\n  },\n  jwt({\n    token\n  }) {\n    return token;\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCSRFToken = createCSRFToken;\nvar _crypto = require(\"crypto\");\nfunction createCSRFToken({\n  options,\n  cookieValue,\n  isPost,\n  bodyValue\n}) {\n  if (cookieValue) {\n    const [csrfToken, csrfTokenHash] = cookieValue.split(\"|\");\n    const expectedCsrfTokenHash = (0, _crypto.createHash)(\"sha256\").update(`${csrfToken}${options.secret}`).digest(\"hex\");\n    if (csrfTokenHash === expectedCsrfTokenHash) {\n      const csrfTokenVerified = isPost && csrfToken === bodyValue;\n      return {\n        csrfTokenVerified,\n        csrfToken\n      };\n    }\n  }\n  const csrfToken = (0, _crypto.randomBytes)(32).toString(\"hex\");\n  const csrfTokenHash = (0, _crypto.createHash)(\"sha256\").update(`${csrfToken}${options.secret}`).digest(\"hex\");\n  const cookie = `${csrfToken}|${csrfTokenHash}`;\n  return {\n    cookie,\n    csrfToken\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCallbackUrl = createCallbackUrl;\nasync function createCallbackUrl({\n  options,\n  paramValue,\n  cookieValue\n}) {\n  const {\n    url,\n    callbacks\n  } = options;\n  let callbackUrl = url.origin;\n  if (paramValue) {\n    callbackUrl = await callbacks.redirect({\n      url: paramValue,\n      baseUrl: url.origin\n    });\n  } else if (cookieValue) {\n    callbackUrl = await callbacks.redirect({\n      url: cookieValue,\n      baseUrl: url.origin\n    });\n  }\n  return {\n    callbackUrl,\n    callbackUrlCookie: callbackUrl !== cookieValue ? callbackUrl : undefined\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parseUrl;\nfunction parseUrl(url) {\n  var _url2;\n  const defaultUrl = new URL(\"http://localhost:3000/api/auth\");\n  if (url && !url.startsWith(\"http\")) {\n    url = `https://${url}`;\n  }\n  const _url = new URL((_url2 = url) !== null && _url2 !== void 0 ? _url2 : defaultUrl);\n  const path = (_url.pathname === \"/\" ? defaultUrl.pathname : _url.pathname).replace(/\\/$/, \"\");\n  const base = `${_url.origin}${path}`;\n  return {\n    origin: _url.origin,\n    host: _url.host,\n    path,\n    base,\n    toString: () => base\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nvar _crypto = require(\"crypto\");\nvar _logger = _interopRequireDefault(require(\"../utils/logger\"));\nvar _errors = require(\"./errors\");\nvar _providers = _interopRequireDefault(require(\"./lib/providers\"));\nvar _utils = require(\"./lib/utils\");\nvar cookie = _interopRequireWildcard(require(\"./lib/cookie\"));\nvar jwt = _interopRequireWildcard(require(\"../jwt\"));\nvar _defaultCallbacks = require(\"./lib/default-callbacks\");\nvar _csrfToken = require(\"./lib/csrf-token\");\nvar _callbackUrl = require(\"./lib/callback-url\");\nvar _parseUrl = _interopRequireDefault(require(\"../utils/parse-url\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function init({\n  authOptions,\n  providerId,\n  action,\n  origin,\n  cookies: reqCookies,\n  callbackUrl: reqCallbackUrl,\n  csrfToken: reqCsrfToken,\n  isPost\n}) {\n  var _authOptions$useSecur, _authOptions$events;\n  const url = (0, _parseUrl.default)(origin);\n  const secret = (0, _utils.createSecret)({\n    authOptions,\n    url\n  });\n  const {\n    providers,\n    provider\n  } = (0, _providers.default)({\n    providers: authOptions.providers,\n    url,\n    providerId\n  });\n  const maxAge = 30 * 24 * 60 * 60;\n  const options = {\n    debug: false,\n    pages: {},\n    theme: {\n      colorScheme: \"auto\",\n      logo: \"\",\n      brandColor: \"\",\n      buttonText: \"\"\n    },\n    ...authOptions,\n    url,\n    action,\n    provider,\n    cookies: {\n      ...cookie.defaultCookies((_authOptions$useSecur = authOptions.useSecureCookies) !== null && _authOptions$useSecur !== void 0 ? _authOptions$useSecur : url.base.startsWith(\"https://\")),\n      ...authOptions.cookies\n    },\n    secret,\n    providers,\n    session: {\n      strategy: authOptions.adapter ? \"database\" : \"jwt\",\n      maxAge,\n      updateAge: 24 * 60 * 60,\n      generateSessionToken: () => {\n        var _randomUUID;\n        return (_randomUUID = _crypto.randomUUID === null || _crypto.randomUUID === void 0 ? void 0 : (0, _crypto.randomUUID)()) !== null && _randomUUID !== void 0 ? _randomUUID : (0, _crypto.randomBytes)(32).toString(\"hex\");\n      },\n      ...authOptions.session\n    },\n    jwt: {\n      secret,\n      maxAge,\n      encode: jwt.encode,\n      decode: jwt.decode,\n      ...authOptions.jwt\n    },\n    events: (0, _errors.eventsErrorHandler)((_authOptions$events = authOptions.events) !== null && _authOptions$events !== void 0 ? _authOptions$events : {}, _logger.default),\n    adapter: (0, _errors.adapterErrorHandler)(authOptions.adapter, _logger.default),\n    callbacks: {\n      ..._defaultCallbacks.defaultCallbacks,\n      ...authOptions.callbacks\n    },\n    logger: _logger.default,\n    callbackUrl: url.origin\n  };\n  const cookies = [];\n  const {\n    csrfToken,\n    cookie: csrfCookie,\n    csrfTokenVerified\n  } = (0, _csrfToken.createCSRFToken)({\n    options,\n    cookieValue: reqCookies === null || reqCookies === void 0 ? void 0 : reqCookies[options.cookies.csrfToken.name],\n    isPost,\n    bodyValue: reqCsrfToken\n  });\n  options.csrfToken = csrfToken;\n  options.csrfTokenVerified = csrfTokenVerified;\n  if (csrfCookie) {\n    cookies.push({\n      name: options.cookies.csrfToken.name,\n      value: csrfCookie,\n      options: options.cookies.csrfToken.options\n    });\n  }\n  const {\n    callbackUrl,\n    callbackUrlCookie\n  } = await (0, _callbackUrl.createCallbackUrl)({\n    options,\n    cookieValue: reqCookies === null || reqCookies === void 0 ? void 0 : reqCookies[options.cookies.callbackUrl.name],\n    paramValue: reqCallbackUrl\n  });\n  options.callbackUrl = callbackUrl;\n  if (callbackUrlCookie) {\n    cookies.push({\n      name: options.cookies.callbackUrl.name,\n      value: callbackUrlCookie,\n      options: options.cookies.callbackUrl.options\n    });\n  }\n  return {\n    options,\n    cookies\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assertConfig = assertConfig;\nvar _errors = require(\"../errors\");\nvar _parseUrl = _interopRequireDefault(require(\"../../utils/parse-url\"));\nvar _cookie = require(\"./cookie\");\nlet warned = false;\nfunction isValidHttpUrl(url, baseUrl) {\n  try {\n    return /^https?:/.test(new URL(url, url.startsWith(\"/\") ? baseUrl : undefined).protocol);\n  } catch (_unused) {\n    return false;\n  }\n}\nfunction assertConfig(params) {\n  var _req$query, _req$query2, _options$useSecureCoo, _req$cookies, _options$cookies$call, _options$cookies;\n  const {\n    options,\n    req\n  } = params;\n  const warnings = [];\n  if (!warned) {\n    if (!req.origin) warnings.push(\"NEXTAUTH_URL\");\n    if (!options.secret && process.env.NODE_ENV !== \"production\") warnings.push(\"NO_SECRET\");\n    if (options.debug) warnings.push(\"DEBUG_ENABLED\");\n  }\n  if (!options.secret && process.env.NODE_ENV === \"production\") {\n    return new _errors.MissingSecret(\"Please define a `secret` in production.\");\n  }\n  if (!((_req$query = req.query) !== null && _req$query !== void 0 && _req$query.nextauth) && !req.action) {\n    return new _errors.MissingAPIRoute(\"Cannot find [...nextauth].{js,ts} in `/pages/api/auth`. Make sure the filename is written correctly.\");\n  }\n  const callbackUrlParam = (_req$query2 = req.query) === null || _req$query2 === void 0 ? void 0 : _req$query2.callbackUrl;\n  const url = (0, _parseUrl.default)(req.origin);\n  if (callbackUrlParam && !isValidHttpUrl(callbackUrlParam, url.base)) {\n    return new _errors.InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlParam}`);\n  }\n  const {\n    callbackUrl: defaultCallbackUrl\n  } = (0, _cookie.defaultCookies)((_options$useSecureCoo = options.useSecureCookies) !== null && _options$useSecureCoo !== void 0 ? _options$useSecureCoo : url.base.startsWith(\"https://\"));\n  const callbackUrlCookie = (_req$cookies = req.cookies) === null || _req$cookies === void 0 ? void 0 : _req$cookies[(_options$cookies$call = (_options$cookies = options.cookies) === null || _options$cookies === void 0 || (_options$cookies = _options$cookies.callbackUrl) === null || _options$cookies === void 0 ? void 0 : _options$cookies.name) !== null && _options$cookies$call !== void 0 ? _options$cookies$call : defaultCallbackUrl.name];\n  if (callbackUrlCookie && !isValidHttpUrl(callbackUrlCookie, url.base)) {\n    return new _errors.InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlCookie}`);\n  }\n  let hasCredentials, hasEmail;\n  let hasTwitterOAuth2;\n  for (const provider of options.providers) {\n    if (provider.type === \"credentials\") hasCredentials = true;else if (provider.type === \"email\") hasEmail = true;else if (provider.id === \"twitter\" && provider.version === \"2.0\") hasTwitterOAuth2 = true;\n  }\n  if (hasCredentials) {\n    var _options$session;\n    const dbStrategy = ((_options$session = options.session) === null || _options$session === void 0 ? void 0 : _options$session.strategy) === \"database\";\n    const onlyCredentials = !options.providers.some(p => p.type !== \"credentials\");\n    if (dbStrategy && onlyCredentials) {\n      return new _errors.UnsupportedStrategy(\"Signin in with credentials only supported if JWT strategy is enabled\");\n    }\n    const credentialsNoAuthorize = options.providers.some(p => p.type === \"credentials\" && !p.authorize);\n    if (credentialsNoAuthorize) {\n      return new _errors.MissingAuthorize(\"Must define an authorize() handler to use credentials authentication provider\");\n    }\n  }\n  if (hasEmail) {\n    const {\n      adapter\n    } = options;\n    if (!adapter) {\n      return new _errors.MissingAdapter(\"E-mail login requires an adapter.\");\n    }\n    const missingMethods = [\"createVerificationToken\", \"useVerificationToken\", \"getUserByEmail\"].filter(method => !adapter[method]);\n    if (missingMethods.length) {\n      return new _errors.MissingAdapterMethods(`Required adapter methods were missing: ${missingMethods.join(\", \")}`);\n    }\n  }\n  if (!warned) {\n    if (hasTwitterOAuth2) warnings.push(\"TWITTER_OAUTH_2_BETA\");\n    warned = true;\n  }\n  return warnings;\n}","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\nvar __hasOwnProperty = Object.prototype.hasOwnProperty\n\n/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n */\n\nvar cookieNameRegExp = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n */\n\nvar cookieValueRegExp = /^(\"?)[\\u0021\\u0023-\\u002B\\u002D-\\u003A\\u003C-\\u005B\\u005D-\\u007E]*\\1$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\n\nvar domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\n\nvar pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [opt]\n * @return {object}\n * @public\n */\n\nfunction parse(str, opt) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {};\n  var len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  var dec = (opt && opt.decode) || decode;\n  var index = 0;\n  var eqIdx = 0;\n  var endIdx = 0;\n\n  do {\n    eqIdx = str.indexOf('=', index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    endIdx = str.indexOf(';', index);\n\n    if (endIdx === -1) {\n      endIdx = len;\n    } else if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1;\n      continue;\n    }\n\n    var keyStartIdx = startIndex(str, index, eqIdx);\n    var keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    var key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (!__hasOwnProperty.call(obj, key)) {\n      var valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      var valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      if (str.charCodeAt(valStartIdx) === 0x22 /* \" */ && str.charCodeAt(valEndIdx - 1) === 0x22 /* \" */) {\n        valStartIdx++;\n        valEndIdx--;\n      }\n\n      var val = str.slice(valStartIdx, valEndIdx);\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str, index, max) {\n  do {\n    var code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str, index, min) {\n  while (index > min) {\n    var code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [opt]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, opt) {\n  var enc = (opt && opt.encode) || encodeURIComponent;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n  if (!opt) return str;\n\n  if (null != opt.maxAge) {\n    var maxAge = Math.floor(opt.maxAge);\n\n    if (!isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + maxAge;\n  }\n\n  if (opt.domain) {\n    if (!domainValueRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!pathValueRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.partitioned) {\n    str += '; Partitioned'\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase() : opt.priority;\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]';\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthHandler = AuthHandler;\nvar _logger = _interopRequireWildcard(require(\"../utils/logger\"));\nvar _detectOrigin = require(\"../utils/detect-origin\");\nvar routes = _interopRequireWildcard(require(\"./routes\"));\nvar _pages = _interopRequireDefault(require(\"./pages\"));\nvar _init = require(\"./init\");\nvar _assert = require(\"./lib/assert\");\nvar _cookie = require(\"./lib/cookie\");\nvar _cookie2 = require(\"cookie\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function getBody(req) {\n  try {\n    return await req.json();\n  } catch (_unused) {}\n}\nasync function toInternalRequest(req) {\n  var _headers$xForwarded2;\n  if (req instanceof Request) {\n    var _req$headers$get, _url$searchParams$get, _headers$xForwarded;\n    const url = new URL(req.url);\n    const nextauth = url.pathname.split(\"/\").slice(3);\n    const headers = Object.fromEntries(req.headers);\n    const query = Object.fromEntries(url.searchParams);\n    query.nextauth = nextauth;\n    return {\n      action: nextauth[0],\n      method: req.method,\n      headers,\n      body: await getBody(req),\n      cookies: (0, _cookie2.parse)((_req$headers$get = req.headers.get(\"cookie\")) !== null && _req$headers$get !== void 0 ? _req$headers$get : \"\"),\n      providerId: nextauth[1],\n      error: (_url$searchParams$get = url.searchParams.get(\"error\")) !== null && _url$searchParams$get !== void 0 ? _url$searchParams$get : nextauth[1],\n      origin: (0, _detectOrigin.detectOrigin)((_headers$xForwarded = headers[\"x-forwarded-host\"]) !== null && _headers$xForwarded !== void 0 ? _headers$xForwarded : headers.host, headers[\"x-forwarded-proto\"]),\n      query\n    };\n  }\n  const {\n    headers\n  } = req;\n  const host = (_headers$xForwarded2 = headers === null || headers === void 0 ? void 0 : headers[\"x-forwarded-host\"]) !== null && _headers$xForwarded2 !== void 0 ? _headers$xForwarded2 : headers === null || headers === void 0 ? void 0 : headers.host;\n  req.origin = (0, _detectOrigin.detectOrigin)(host, headers === null || headers === void 0 ? void 0 : headers[\"x-forwarded-proto\"]);\n  return req;\n}\nasync function AuthHandler(params) {\n  var _req$body$callbackUrl, _req$body, _req$query2, _req$body2;\n  const {\n    options: authOptions,\n    req: incomingRequest\n  } = params;\n  const req = await toInternalRequest(incomingRequest);\n  (0, _logger.setLogger)(authOptions.logger, authOptions.debug);\n  const assertionResult = (0, _assert.assertConfig)({\n    options: authOptions,\n    req\n  });\n  if (Array.isArray(assertionResult)) {\n    assertionResult.forEach(_logger.default.warn);\n  } else if (assertionResult instanceof Error) {\n    var _req$query;\n    _logger.default.error(assertionResult.code, assertionResult);\n    const htmlPages = [\"signin\", \"signout\", \"error\", \"verify-request\"];\n    if (!htmlPages.includes(req.action) || req.method !== \"GET\") {\n      const message = `There is a problem with the server configuration. Check the server logs for more information.`;\n      return {\n        status: 500,\n        headers: [{\n          key: \"Content-Type\",\n          value: \"application/json\"\n        }],\n        body: {\n          message\n        }\n      };\n    }\n    const {\n      pages,\n      theme\n    } = authOptions;\n    const authOnErrorPage = (pages === null || pages === void 0 ? void 0 : pages.error) && ((_req$query = req.query) === null || _req$query === void 0 || (_req$query = _req$query.callbackUrl) === null || _req$query === void 0 ? void 0 : _req$query.startsWith(pages.error));\n    if (!(pages !== null && pages !== void 0 && pages.error) || authOnErrorPage) {\n      if (authOnErrorPage) {\n        _logger.default.error(\"AUTH_ON_ERROR_PAGE_ERROR\", new Error(`The error page ${pages === null || pages === void 0 ? void 0 : pages.error} should not require authentication`));\n      }\n      const render = (0, _pages.default)({\n        theme\n      });\n      return render.error({\n        error: \"configuration\"\n      });\n    }\n    return {\n      redirect: `${pages.error}?error=Configuration`\n    };\n  }\n  const {\n    action,\n    providerId,\n    error,\n    method = \"GET\"\n  } = req;\n  const {\n    options,\n    cookies\n  } = await (0, _init.init)({\n    authOptions,\n    action,\n    providerId,\n    origin: req.origin,\n    callbackUrl: (_req$body$callbackUrl = (_req$body = req.body) === null || _req$body === void 0 ? void 0 : _req$body.callbackUrl) !== null && _req$body$callbackUrl !== void 0 ? _req$body$callbackUrl : (_req$query2 = req.query) === null || _req$query2 === void 0 ? void 0 : _req$query2.callbackUrl,\n    csrfToken: (_req$body2 = req.body) === null || _req$body2 === void 0 ? void 0 : _req$body2.csrfToken,\n    cookies: req.cookies,\n    isPost: method === \"POST\"\n  });\n  const sessionStore = new _cookie.SessionStore(options.cookies.sessionToken, req, options.logger);\n  if (method === \"GET\") {\n    const render = (0, _pages.default)({\n      ...options,\n      query: req.query,\n      cookies\n    });\n    const {\n      pages\n    } = options;\n    switch (action) {\n      case \"providers\":\n        return await routes.providers(options.providers);\n      case \"session\":\n        {\n          const session = await routes.session({\n            options,\n            sessionStore\n          });\n          if (session.cookies) cookies.push(...session.cookies);\n          return {\n            ...session,\n            cookies\n          };\n        }\n      case \"csrf\":\n        return {\n          headers: [{\n            key: \"Content-Type\",\n            value: \"application/json\"\n          }, {\n            key: \"Cache-Control\",\n            value: \"private, no-cache, no-store\"\n          }, {\n            key: \"Pragma\",\n            value: \"no-cache\"\n          }, {\n            key: \"Expires\",\n            value: \"0\"\n          }],\n          body: {\n            csrfToken: options.csrfToken\n          },\n          cookies\n        };\n      case \"signin\":\n        if (pages.signIn) {\n          let signinUrl = `${pages.signIn}${pages.signIn.includes(\"?\") ? \"&\" : \"?\"}callbackUrl=${encodeURIComponent(options.callbackUrl)}`;\n          if (error) signinUrl = `${signinUrl}&error=${encodeURIComponent(error)}`;\n          return {\n            redirect: signinUrl,\n            cookies\n          };\n        }\n        return render.signin();\n      case \"signout\":\n        if (pages.signOut) return {\n          redirect: pages.signOut,\n          cookies\n        };\n        return render.signout();\n      case \"callback\":\n        if (options.provider) {\n          const callback = await routes.callback({\n            body: req.body,\n            query: req.query,\n            headers: req.headers,\n            cookies: req.cookies,\n            method,\n            options,\n            sessionStore\n          });\n          if (callback.cookies) cookies.push(...callback.cookies);\n          return {\n            ...callback,\n            cookies\n          };\n        }\n        break;\n      case \"verify-request\":\n        if (pages.verifyRequest) {\n          return {\n            redirect: pages.verifyRequest,\n            cookies\n          };\n        }\n        return render.verifyRequest();\n      case \"error\":\n        if ([\"Signin\", \"OAuthSignin\", \"OAuthCallback\", \"OAuthCreateAccount\", \"EmailCreateAccount\", \"Callback\", \"OAuthAccountNotLinked\", \"EmailSignin\", \"CredentialsSignin\", \"SessionRequired\"].includes(error)) {\n          return {\n            redirect: `${options.url}/signin?error=${error}`,\n            cookies\n          };\n        }\n        if (pages.error) {\n          return {\n            redirect: `${pages.error}${pages.error.includes(\"?\") ? \"&\" : \"?\"}error=${error}`,\n            cookies\n          };\n        }\n        return render.error({\n          error: error\n        });\n      default:\n    }\n  } else if (method === \"POST\") {\n    switch (action) {\n      case \"signin\":\n        if (options.csrfTokenVerified && options.provider) {\n          const signin = await routes.signin({\n            query: req.query,\n            body: req.body,\n            options\n          });\n          if (signin.cookies) cookies.push(...signin.cookies);\n          return {\n            ...signin,\n            cookies\n          };\n        }\n        return {\n          redirect: `${options.url}/signin?csrf=true`,\n          cookies\n        };\n      case \"signout\":\n        if (options.csrfTokenVerified) {\n          const signout = await routes.signout({\n            options,\n            sessionStore\n          });\n          if (signout.cookies) cookies.push(...signout.cookies);\n          return {\n            ...signout,\n            cookies\n          };\n        }\n        return {\n          redirect: `${options.url}/signout?csrf=true`,\n          cookies\n        };\n      case \"callback\":\n        if (options.provider) {\n          if (options.provider.type === \"credentials\" && !options.csrfTokenVerified) {\n            return {\n              redirect: `${options.url}/signin?csrf=true`,\n              cookies\n            };\n          }\n          const callback = await routes.callback({\n            body: req.body,\n            query: req.query,\n            headers: req.headers,\n            cookies: req.cookies,\n            method,\n            options,\n            sessionStore\n          });\n          if (callback.cookies) cookies.push(...callback.cookies);\n          return {\n            ...callback,\n            cookies\n          };\n        }\n        break;\n      case \"_log\":\n        {\n          if (authOptions.logger) {\n            try {\n              var _req$body3;\n              const {\n                code,\n                level,\n                ...metadata\n              } = (_req$body3 = req.body) !== null && _req$body3 !== void 0 ? _req$body3 : {};\n              _logger.default[level](code, metadata);\n            } catch (error) {\n              _logger.default.error(\"LOGGER_ERROR\", error);\n            }\n          }\n          return {};\n        }\n      case \"session\":\n        {\n          if (options.csrfTokenVerified) {\n            var _req$body4;\n            const session = await routes.session({\n              options,\n              sessionStore,\n              newSession: (_req$body4 = req.body) === null || _req$body4 === void 0 ? void 0 : _req$body4.data,\n              isUpdate: true\n            });\n            if (session.cookies) cookies.push(...session.cookies);\n            return {\n              ...session,\n              cookies\n            };\n          }\n          return {\n            status: 400,\n            body: {},\n            cookies\n          };\n        }\n      default:\n    }\n  }\n  return {\n    status: 400,\n    body: `Error: This action with HTTP ${method} is not supported by NextAuth.js`\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBody = getBody;\nexports.setCookie = setCookie;\nexports.toResponse = toResponse;\nvar _cookie = require(\"cookie\");\nfunction setCookie(res, cookie) {\n  var _res$getHeader;\n  let setCookieHeader = (_res$getHeader = res.getHeader(\"Set-Cookie\")) !== null && _res$getHeader !== void 0 ? _res$getHeader : [];\n  if (!Array.isArray(setCookieHeader)) {\n    setCookieHeader = [setCookieHeader];\n  }\n  const {\n    name,\n    value,\n    options\n  } = cookie;\n  const cookieHeader = (0, _cookie.serialize)(name, value, options);\n  setCookieHeader.push(cookieHeader);\n  res.setHeader(\"Set-Cookie\", setCookieHeader);\n}\nasync function getBody(req) {\n  if (!(\"body\" in req) || !req.body || req.method !== \"POST\") return;\n  const contentType = req.headers.get(\"content-type\");\n  if (contentType !== null && contentType !== void 0 && contentType.includes(\"application/json\")) {\n    return await req.json();\n  } else if (contentType !== null && contentType !== void 0 && contentType.includes(\"application/x-www-form-urlencoded\")) {\n    const params = new URLSearchParams(await req.text());\n    return Object.fromEntries(params);\n  }\n}\nfunction toResponse(res) {\n  var _res$headers, _res$cookies, _res$status;\n  const headers = new Headers((_res$headers = res.headers) === null || _res$headers === void 0 ? void 0 : _res$headers.reduce((acc, {\n    key,\n    value\n  }) => {\n    acc[key] = value;\n    return acc;\n  }, {}));\n  (_res$cookies = res.cookies) === null || _res$cookies === void 0 || _res$cookies.forEach(cookie => {\n    const {\n      name,\n      value,\n      options\n    } = cookie;\n    const cookieHeader = (0, _cookie.serialize)(name, value, options);\n    if (headers.has(\"Set-Cookie\")) headers.append(\"Set-Cookie\", cookieHeader);else headers.set(\"Set-Cookie\", cookieHeader);\n  });\n  let body = res.body;\n  if (headers.get(\"content-type\") === \"application/json\") body = JSON.stringify(res.body);else if (headers.get(\"content-type\") === \"application/x-www-form-urlencoded\") body = new URLSearchParams(res.body).toString();\n  const status = res.redirect ? 302 : (_res$status = res.status) !== null && _res$status !== void 0 ? _res$status : 200;\n  const response = new Response(body, {\n    headers,\n    status\n  });\n  if (res.redirect) response.headers.set(\"Location\", res.redirect);\n  return response;\n}","export type ActionRevalidationKind = 0 | 1 | 2\n\nexport const ActionDidNotRevalidate = 0\nexport const ActionDidRevalidateStaticAndDynamic = 1\nexport const ActionDidRevalidateDynamicOnly = 2\n","import { RequestCookies } from '../cookies'\n\nimport { ResponseCookies } from '../cookies'\nimport { ReflectAdapter } from './reflect'\nimport { workAsyncStorage } from '../../../app-render/work-async-storage.external'\nimport type { RequestStore } from '../../../app-render/work-unit-async-storage.external'\nimport { ActionDidRevalidateStaticAndDynamic } from '../../../../shared/lib/action-revalidation-kind'\n\n/**\n * @internal\n */\nexport class ReadonlyRequestCookiesError extends Error {\n  constructor() {\n    super(\n      'Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\n// We use this to type some APIs but we don't construct instances directly\nexport type { ResponseCookies }\n\n// The `cookies()` API is a mix of request and response cookies. For `.get()` methods,\n// we want to return the request cookie if it exists. For mutative methods like `.set()`,\n// we want to return the response cookie.\nexport type ReadonlyRequestCookies = Omit<\n  RequestCookies,\n  'set' | 'clear' | 'delete'\n> &\n  Pick<ResponseCookies, 'set' | 'delete'>\n\nexport class RequestCookiesAdapter {\n  public static seal(cookies: RequestCookies): ReadonlyRequestCookies {\n    return new Proxy(cookies as any, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'clear':\n          case 'delete':\n          case 'set':\n            return ReadonlyRequestCookiesError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n}\n\nconst SYMBOL_MODIFY_COOKIE_VALUES = Symbol.for('next.mutated.cookies')\n\nexport function getModifiedCookieValues(\n  cookies: ResponseCookies\n): ResponseCookie[] {\n  const modified: ResponseCookie[] | undefined = (cookies as unknown as any)[\n    SYMBOL_MODIFY_COOKIE_VALUES\n  ]\n  if (!modified || !Array.isArray(modified) || modified.length === 0) {\n    return []\n  }\n\n  return modified\n}\n\ntype SetCookieArgs =\n  | [key: string, value: string, cookie?: Partial<ResponseCookie>]\n  | [options: ResponseCookie]\n\nexport function appendMutableCookies(\n  headers: Headers,\n  mutableCookies: ResponseCookies\n): boolean {\n  const modifiedCookieValues = getModifiedCookieValues(mutableCookies)\n  if (modifiedCookieValues.length === 0) {\n    return false\n  }\n\n  // Return a new response that extends the response with\n  // the modified cookies as fallbacks. `res` cookies\n  // will still take precedence.\n  const resCookies = new ResponseCookies(headers)\n  const returnedCookies = resCookies.getAll()\n\n  // Set the modified cookies as fallbacks.\n  for (const cookie of modifiedCookieValues) {\n    resCookies.set(cookie)\n  }\n\n  // Set the original cookies as the final values.\n  for (const cookie of returnedCookies) {\n    resCookies.set(cookie)\n  }\n\n  return true\n}\n\ntype ResponseCookie = NonNullable<\n  ReturnType<InstanceType<typeof ResponseCookies>['get']>\n>\n\nexport class MutableRequestCookiesAdapter {\n  public static wrap(\n    cookies: RequestCookies,\n    onUpdateCookies?: (cookies: string[]) => void\n  ): ResponseCookies {\n    const responseCookies = new ResponseCookies(new Headers())\n    for (const cookie of cookies.getAll()) {\n      responseCookies.set(cookie)\n    }\n\n    let modifiedValues: ResponseCookie[] = []\n    const modifiedCookies = new Set<string>()\n    const updateResponseCookies = () => {\n      // TODO-APP: change method of getting workStore\n      const workStore = workAsyncStorage.getStore()\n      if (workStore) {\n        workStore.pathWasRevalidated = ActionDidRevalidateStaticAndDynamic\n      }\n\n      const allCookies = responseCookies.getAll()\n      modifiedValues = allCookies.filter((c) => modifiedCookies.has(c.name))\n      if (onUpdateCookies) {\n        const serializedCookies: string[] = []\n        for (const cookie of modifiedValues) {\n          const tempCookies = new ResponseCookies(new Headers())\n          tempCookies.set(cookie)\n          serializedCookies.push(tempCookies.toString())\n        }\n\n        onUpdateCookies(serializedCookies)\n      }\n    }\n\n    const wrappedCookies = new Proxy(responseCookies, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          // A special symbol to get the modified cookie values\n          case SYMBOL_MODIFY_COOKIE_VALUES:\n            return modifiedValues\n\n          // TODO: Throw error if trying to set a cookie after the response\n          // headers have been set.\n          case 'delete':\n            return function (...args: [string] | [ResponseCookie]) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.delete(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n          case 'set':\n            return function (...args: SetCookieArgs) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.set(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n\n    return wrappedCookies\n  }\n}\n\nexport function createCookiesWithMutableAccessCheck(\n  requestStore: RequestStore\n): ResponseCookies {\n  const wrappedCookies = new Proxy(requestStore.mutableCookies, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'delete':\n          return function (...args: [string] | [ResponseCookie]) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().delete')\n            target.delete(...args)\n            return wrappedCookies\n          }\n        case 'set':\n          return function (...args: SetCookieArgs) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().set')\n            target.set(...args)\n            return wrappedCookies\n          }\n\n        default:\n          return ReflectAdapter.get(target, prop, receiver)\n      }\n    },\n  })\n  return wrappedCookies\n}\n\nexport function areCookiesMutableInCurrentPhase(requestStore: RequestStore) {\n  return requestStore.phase === 'action'\n}\n\n/** Ensure that cookies() starts throwing on mutation\n * if we changed phases and can no longer mutate.\n *\n * This can happen when going:\n *   'render' -> 'after'\n *   'action' -> 'render'\n * */\nfunction ensureCookiesAreStillMutable(\n  requestStore: RequestStore,\n  _callingExpression: string\n) {\n  if (!areCookiesMutableInCurrentPhase(requestStore)) {\n    // TODO: maybe we can give a more precise error message based on callingExpression?\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\nexport function responseCookiesToRequestCookies(\n  responseCookies: ResponseCookies\n): RequestCookies {\n  const requestCookies = new RequestCookies(new Headers())\n  for (const cookie of responseCookies.getAll()) {\n    requestCookies.set(cookie)\n  }\n  return requestCookies\n}\n","import * as React from 'react'\n\nconst errorRef: { current: null | Error } = { current: null }\n\n// React.cache is currently only available in canary/experimental React channels.\nconst cache =\n  typeof React.cache === 'function'\n    ? React.cache\n    : (fn: (key: unknown) => void) => fn\n\n// When Cache Components is enabled, we record these as errors so that they\n// are captured by the dev overlay as it's more critical to fix these\n// when enabled.\nconst logErrorOrWarn = process.env.__NEXT_CACHE_COMPONENTS\n  ? console.error\n  : console.warn\n\n// We don't want to dedupe across requests.\n// The developer might've just attempted to fix the warning so we should warn again if it still happens.\nconst flushCurrentErrorIfNew = cache(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- cache key\n  (key: unknown) => {\n    try {\n      logErrorOrWarn(errorRef.current)\n    } finally {\n      errorRef.current = null\n    }\n  }\n)\n\n/**\n * Creates a function that logs an error message that is deduped by the userland\n * callsite.\n * This requires no indirection between the call of this function and the userland\n * callsite i.e. there's only a single library frame above this.\n * Do not use on the Client where sourcemaps and ignore listing might be enabled.\n * Only use that for warnings need a fix independent of the callstack.\n *\n * @param getMessage\n * @returns\n */\nexport function createDedupedByCallsiteServerErrorLoggerDev<Args extends any[]>(\n  getMessage: (...args: Args) => Error\n) {\n  return function logDedupedError(...args: Args) {\n    const message = getMessage(...args)\n\n    if (process.env.NODE_ENV !== 'production') {\n      const callStackFrames = new Error().stack?.split('\\n')\n      if (callStackFrames === undefined || callStackFrames.length < 4) {\n        logErrorOrWarn(message)\n      } else {\n        // Error:\n        //   logDedupedError\n        //   asyncApiBeingAccessedSynchronously\n        //   <userland callsite>\n        // TODO: This breaks if sourcemaps with ignore lists are enabled.\n        const key = callStackFrames[4]\n        errorRef.current = message\n        flushCurrentErrorIfNew(key)\n      }\n    } else {\n      logErrorOrWarn(message)\n    }\n  }\n}\n","import {\n  type ReadonlyRequestCookies,\n  areCookiesMutableInCurrentPhase,\n  RequestCookiesAdapter,\n} from '../web/spec-extension/adapters/request-cookies'\nimport { RequestCookies } from '../web/spec-extension/cookies'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n  type RequestStore,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from '../app-render/staged-rendering'\n\nexport function cookies(): Promise<ReadonlyRequestCookies> {\n  const callingExpression = 'cookies'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        // TODO(after): clarify that this only applies to pages?\n        `Route ${workStore.route} used \\`cookies()\\` inside \\`after()\\`. This is not supported. If you need this data inside an \\`after()\\` callback, use \\`cookies()\\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // cookies object without tracking\n      const underlyingCookies = createEmptyCookies()\n      return makeUntrackedCookies(underlyingCookies)\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`cookies()\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n          const error = new Error(\n            `Route ${workStore.route} used \\`cookies()\\` inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`cookies()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, cookies)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \\`cookies()\\` inside a function cached with \\`unstable_cache()\\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`cookies()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n          return makeHangingCookies(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`cookies`'\n          throw new InvariantError(\n            `${exportName} must not be used within a Client Component. Next.js should be preventing ${exportName} from being included in Client Components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // We need track dynamic access here eagerly to keep continuity with\n          // how cookies has worked in PPR without cacheComponents.\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // We track dynamic access here so we don't need to wrap the cookies\n          // in individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'prerender-runtime':\n          return delayUntilRuntimeStage(\n            workUnitStore,\n            makeUntrackedCookies(workUnitStore.cookies)\n          )\n        case 'private-cache':\n          // Private caches are delayed until the runtime stage in use-cache-wrapper,\n          // so we don't need an additional delay here.\n          return makeUntrackedCookies(workUnitStore.cookies)\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          let underlyingCookies: ReadonlyRequestCookies\n\n          if (areCookiesMutableInCurrentPhase(workUnitStore)) {\n            // We can't conditionally return different types here based on the context.\n            // To avoid confusion, we always return the readonly type here.\n            underlyingCookies =\n              workUnitStore.userspaceMutableCookies as unknown as ReadonlyRequestCookies\n          } else {\n            underlyingCookies = workUnitStore.cookies\n          }\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            return makeUntrackedCookiesWithDevWarnings(\n              workUnitStore,\n              underlyingCookies,\n              workStore?.route\n            )\n          } else {\n            return makeUntrackedCookies(underlyingCookies)\n          }\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\nfunction createEmptyCookies(): ReadonlyRequestCookies {\n  return RequestCookiesAdapter.seal(new RequestCookies(new Headers({})))\n}\n\ninterface CacheLifetime {}\nconst CachedCookies = new WeakMap<\n  CacheLifetime,\n  Promise<ReadonlyRequestCookies>\n>()\n\nfunction makeHangingCookies(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyRequestCookies> {\n  const cachedPromise = CachedCookies.get(prerenderStore)\n  if (cachedPromise) {\n    return cachedPromise\n  }\n\n  const promise = makeHangingPromise<ReadonlyRequestCookies>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`cookies()`'\n  )\n  CachedCookies.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedCookies(\n  underlyingCookies: ReadonlyRequestCookies\n): Promise<ReadonlyRequestCookies> {\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = Promise.resolve(underlyingCookies)\n  CachedCookies.set(underlyingCookies, promise)\n\n  return promise\n}\n\nfunction makeUntrackedCookiesWithDevWarnings(\n  requestStore: RequestStore,\n  underlyingCookies: ReadonlyRequestCookies,\n  route?: string\n): Promise<ReadonlyRequestCookies> {\n  if (requestStore.asyncApiPromises) {\n    let promise: Promise<ReadonlyRequestCookies>\n    if (underlyingCookies === requestStore.mutableCookies) {\n      promise = requestStore.asyncApiPromises.mutableCookies\n    } else if (underlyingCookies === requestStore.cookies) {\n      promise = requestStore.asyncApiPromises.cookies\n    } else {\n      throw new InvariantError(\n        'Received an underlying cookies object that does not match either `cookies` or `mutableCookies`'\n      )\n    }\n    return instrumentCookiesPromiseWithDevWarnings(promise, route)\n  }\n\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(\n    underlyingCookies,\n    requestStore,\n    RenderStage.Runtime\n  )\n\n  const proxiedPromise = instrumentCookiesPromiseWithDevWarnings(promise, route)\n\n  CachedCookies.set(underlyingCookies, proxiedPromise)\n\n  return proxiedPromise\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createCookiesAccessError\n)\n\nfunction instrumentCookiesPromiseWithDevWarnings(\n  promise: Promise<ReadonlyRequestCookies>,\n  route: string | undefined\n) {\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: replaceableWarningDescriptorForSymbolIterator(\n      promise,\n      route\n    ),\n    size: replaceableWarningDescriptor(promise, 'size', route),\n    get: replaceableWarningDescriptor(promise, 'get', route),\n    getAll: replaceableWarningDescriptor(promise, 'getAll', route),\n    has: replaceableWarningDescriptor(promise, 'has', route),\n    set: replaceableWarningDescriptor(promise, 'set', route),\n    delete: replaceableWarningDescriptor(promise, 'delete', route),\n    clear: replaceableWarningDescriptor(promise, 'clear', route),\n    toString: replaceableWarningDescriptor(promise, 'toString', route),\n  })\n  return promise\n}\n\nfunction replaceableWarningDescriptor(\n  target: unknown,\n  prop: string,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, `\\`cookies().${prop}\\``)\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction replaceableWarningDescriptorForSymbolIterator(\n  target: unknown,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, '`...cookies()` or similar iteration')\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, Symbol.iterator, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction createCookiesAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`cookies()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n","import type { IncomingHttpHeaders } from 'http'\n\nimport { ReflectAdapter } from './reflect'\n\n/**\n * @internal\n */\nexport class ReadonlyHeadersError extends Error {\n  constructor() {\n    super(\n      'Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyHeadersError()\n  }\n}\n\nexport type ReadonlyHeaders = Headers & {\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  append(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  set(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  delete(...args: any[]): void\n}\nexport class HeadersAdapter extends Headers {\n  private readonly headers: IncomingHttpHeaders\n\n  constructor(headers: IncomingHttpHeaders) {\n    // We've already overridden the methods that would be called, so we're just\n    // calling the super constructor to ensure that the instanceof check works.\n    super()\n\n    this.headers = new Proxy(headers, {\n      get(target, prop, receiver) {\n        // Because this is just an object, we expect that all \"get\" operations\n        // are for properties. If it's a \"get\" for a symbol, we'll just return\n        // the symbol.\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return undefined.\n        if (typeof original === 'undefined') return\n\n        // If the original casing exists, return the value.\n        return ReflectAdapter.get(target, original, receiver)\n      },\n      set(target, prop, value, receiver) {\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.set(target, prop, value, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, use the prop as the key.\n        return ReflectAdapter.set(target, original ?? prop, value, receiver)\n      },\n      has(target, prop) {\n        if (typeof prop === 'symbol') return ReflectAdapter.has(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return false.\n        if (typeof original === 'undefined') return false\n\n        // If the original casing exists, return true.\n        return ReflectAdapter.has(target, original)\n      },\n      deleteProperty(target, prop) {\n        if (typeof prop === 'symbol')\n          return ReflectAdapter.deleteProperty(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return true.\n        if (typeof original === 'undefined') return true\n\n        // If the original casing exists, delete the property.\n        return ReflectAdapter.deleteProperty(target, original)\n      },\n    })\n  }\n\n  /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */\n  public static seal(headers: Headers): ReadonlyHeaders {\n    return new Proxy<ReadonlyHeaders>(headers, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'append':\n          case 'delete':\n          case 'set':\n            return ReadonlyHeadersError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n\n  /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */\n  private merge(value: string | string[]): string {\n    if (Array.isArray(value)) return value.join(', ')\n\n    return value\n  }\n\n  /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */\n  public static from(headers: IncomingHttpHeaders | Headers): Headers {\n    if (headers instanceof Headers) return headers\n\n    return new HeadersAdapter(headers)\n  }\n\n  public append(name: string, value: string): void {\n    const existing = this.headers[name]\n    if (typeof existing === 'string') {\n      this.headers[name] = [existing, value]\n    } else if (Array.isArray(existing)) {\n      existing.push(value)\n    } else {\n      this.headers[name] = value\n    }\n  }\n\n  public delete(name: string): void {\n    delete this.headers[name]\n  }\n\n  public get(name: string): string | null {\n    const value = this.headers[name]\n    if (typeof value !== 'undefined') return this.merge(value)\n\n    return null\n  }\n\n  public has(name: string): boolean {\n    return typeof this.headers[name] !== 'undefined'\n  }\n\n  public set(name: string, value: string): void {\n    this.headers[name] = value\n  }\n\n  public forEach(\n    callbackfn: (value: string, name: string, parent: Headers) => void,\n    thisArg?: any\n  ): void {\n    for (const [name, value] of this.entries()) {\n      callbackfn.call(thisArg, value, name, this)\n    }\n  }\n\n  public *entries(): HeadersIterator<[string, string]> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(name) as string\n\n      yield [name, value] as [string, string]\n    }\n  }\n\n  public *keys(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      yield name\n    }\n  }\n\n  public *values(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(key) as string\n\n      yield value\n    }\n  }\n\n  public [Symbol.iterator](): HeadersIterator<[string, string]> {\n    return this.entries()\n  }\n}\n","import {\n  HeadersAdapter,\n  type ReadonlyHeaders,\n} from '../web/spec-extension/adapters/headers'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n  type RequestStore,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from '../app-render/staged-rendering'\n\n/**\n * This function allows you to read the HTTP incoming request headers in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers) and\n * [Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware).\n *\n * Read more: [Next.js Docs: `headers`](https://nextjs.org/docs/app/api-reference/functions/headers)\n */\nexport function headers(): Promise<ReadonlyHeaders> {\n  const callingExpression = 'headers'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        `Route ${workStore.route} used \\`headers()\\` inside \\`after()\\`. This is not supported. If you need this data inside an \\`after()\\` callback, use \\`headers()\\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // headers object without tracking\n      const underlyingHeaders = HeadersAdapter.seal(new Headers({}))\n      return makeUntrackedHeaders(underlyingHeaders)\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \\`headers()\\` inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`headers()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, headers)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \\`headers()\\` inside a function cached with \\`unstable_cache()\\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`headers()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n        case 'prerender-client':\n        case 'private-cache':\n        case 'prerender-runtime':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n        case 'request':\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`headers()\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'prerender':\n          return makeHangingHeaders(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`headers`'\n          throw new InvariantError(\n            `${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // PPR Prerender (no cacheComponents)\n          // We are prerendering with PPR. We need track dynamic access here eagerly\n          // to keep continuity with how headers has worked in PPR without cacheComponents.\n          // TODO consider switching the semantic to throw on property access instead\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // Legacy Prerender\n          // We are in a legacy static generation mode while prerendering\n          // We track dynamic access here so we don't need to wrap the headers in\n          // individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'prerender-runtime':\n          return delayUntilRuntimeStage(\n            workUnitStore,\n            makeUntrackedHeaders(workUnitStore.headers)\n          )\n        case 'private-cache':\n          // Private caches are delayed until the runtime stage in use-cache-wrapper,\n          // so we don't need an additional delay here.\n          return makeUntrackedHeaders(workUnitStore.headers)\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            return makeUntrackedHeadersWithDevWarnings(\n              workUnitStore.headers,\n              workStore?.route,\n              workUnitStore\n            )\n          } else {\n            return makeUntrackedHeaders(workUnitStore.headers)\n          }\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\ninterface CacheLifetime {}\nconst CachedHeaders = new WeakMap<CacheLifetime, Promise<ReadonlyHeaders>>()\n\nfunction makeHangingHeaders(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(prerenderStore)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeHangingPromise<ReadonlyHeaders>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`headers()`'\n  )\n  CachedHeaders.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedHeaders(\n  underlyingHeaders: ReadonlyHeaders\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = Promise.resolve(underlyingHeaders)\n  CachedHeaders.set(underlyingHeaders, promise)\n\n  return promise\n}\n\nfunction makeUntrackedHeadersWithDevWarnings(\n  underlyingHeaders: ReadonlyHeaders,\n  route: string | undefined,\n  requestStore: RequestStore\n): Promise<ReadonlyHeaders> {\n  if (requestStore.asyncApiPromises) {\n    const promise = requestStore.asyncApiPromises.headers\n    return instrumentHeadersPromiseWithDevWarnings(promise, route)\n  }\n\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(\n    underlyingHeaders,\n    requestStore,\n    RenderStage.Runtime\n  )\n\n  const proxiedPromise = instrumentHeadersPromiseWithDevWarnings(promise, route)\n\n  CachedHeaders.set(underlyingHeaders, proxiedPromise)\n\n  return proxiedPromise\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createHeadersAccessError\n)\n\nfunction instrumentHeadersPromiseWithDevWarnings(\n  promise: Promise<ReadonlyHeaders>,\n  route: string | undefined\n) {\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: replaceableWarningDescriptorForSymbolIterator(\n      promise,\n      route\n    ),\n    append: replaceableWarningDescriptor(promise, 'append', route),\n    delete: replaceableWarningDescriptor(promise, 'delete', route),\n    get: replaceableWarningDescriptor(promise, 'get', route),\n    has: replaceableWarningDescriptor(promise, 'has', route),\n    set: replaceableWarningDescriptor(promise, 'set', route),\n    getSetCookie: replaceableWarningDescriptor(promise, 'getSetCookie', route),\n    forEach: replaceableWarningDescriptor(promise, 'forEach', route),\n    keys: replaceableWarningDescriptor(promise, 'keys', route),\n    values: replaceableWarningDescriptor(promise, 'values', route),\n    entries: replaceableWarningDescriptor(promise, 'entries', route),\n  })\n  return promise\n}\n\nfunction replaceableWarningDescriptor(\n  target: unknown,\n  prop: string,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, `\\`headers().${prop}\\``)\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction replaceableWarningDescriptorForSymbolIterator(\n  target: unknown,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, '`...headers()` or similar iteration')\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, Symbol.iterator, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction createHeadersAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`headers()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n","import {\n  getDraftModeProviderForCacheScope,\n  throwForMissingRequestStore,\n} from '../app-render/work-unit-async-storage.external'\n\nimport type { DraftModeProvider } from '../async-storage/draft-mode-provider'\n\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport { workUnitAsyncStorage } from '../app-render/work-unit-async-storage.external'\nimport {\n  abortAndThrowOnSynchronousRequestDataAccess,\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\n\nexport function draftMode(): Promise<DraftMode> {\n  const callingExpression = 'draftMode'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore || !workUnitStore) {\n    throwForMissingRequestStore(callingExpression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-runtime':\n      // TODO(runtime-ppr): does it make sense to delay this? normally it's always microtasky\n      return delayUntilRuntimeStage(\n        workUnitStore,\n        createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n      )\n    case 'request':\n      return createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      // Inside of `\"use cache\"` or `unstable_cache`, draft mode is available if\n      // the outmost work unit store is a request store (or a runtime prerender),\n      // and if draft mode is enabled.\n      const draftModeProvider = getDraftModeProviderForCacheScope(\n        workStore,\n        workUnitStore\n      )\n\n      if (draftModeProvider) {\n        return createOrGetCachedDraftMode(draftModeProvider, workStore)\n      }\n\n    // Otherwise, we fall through to providing an empty draft mode.\n    // eslint-disable-next-line no-fallthrough\n    case 'prerender':\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n      // Return empty draft mode\n      return createOrGetCachedDraftMode(null, workStore)\n\n    default:\n      return workUnitStore satisfies never\n  }\n}\n\nfunction createOrGetCachedDraftMode(\n  draftModeProvider: DraftModeProvider | null,\n  workStore: WorkStore | undefined\n): Promise<DraftMode> {\n  const cacheKey = draftModeProvider ?? NullDraftMode\n  const cachedDraftMode = CachedDraftModes.get(cacheKey)\n\n  if (cachedDraftMode) {\n    return cachedDraftMode\n  }\n\n  if (process.env.NODE_ENV === 'development' && !workStore?.isPrefetchRequest) {\n    const route = workStore?.route\n    return createDraftModeWithDevWarnings(draftModeProvider, route)\n  } else {\n    return Promise.resolve(new DraftMode(draftModeProvider))\n  }\n}\n\ninterface CacheLifetime {}\nconst NullDraftMode = {}\nconst CachedDraftModes = new WeakMap<CacheLifetime, Promise<DraftMode>>()\n\nfunction createDraftModeWithDevWarnings(\n  underlyingProvider: null | DraftModeProvider,\n  route: undefined | string\n): Promise<DraftMode> {\n  const instance = new DraftMode(underlyingProvider)\n  const promise = Promise.resolve(instance)\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'isEnabled':\n          warnForSyncAccess(route, `\\`draftMode().${prop}\\``)\n          break\n        case 'enable':\n        case 'disable': {\n          warnForSyncAccess(route, `\\`draftMode().${prop}()\\``)\n          break\n        }\n        default: {\n          // We only warn for well-defined properties of the draftMode object.\n        }\n      }\n\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n  })\n\n  return proxiedPromise\n}\n\nclass DraftMode {\n  /**\n   * @internal - this declaration is stripped via `tsc --stripInternal`\n   */\n  private readonly _provider: null | DraftModeProvider\n\n  constructor(provider: null | DraftModeProvider) {\n    this._provider = provider\n  }\n  get isEnabled() {\n    if (this._provider !== null) {\n      return this._provider.isEnabled\n    }\n    return false\n  }\n  public enable() {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    trackDynamicDraftMode('draftMode().enable()', this.enable)\n    if (this._provider !== null) {\n      this._provider.enable()\n    }\n  }\n  public disable() {\n    trackDynamicDraftMode('draftMode().disable()', this.disable)\n    if (this._provider !== null) {\n      this._provider.disable()\n    }\n  }\n}\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createDraftModeAccessError\n)\n\nfunction createDraftModeAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`draftMode()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction trackDynamicDraftMode(expression: string, constructorOpt: Function) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    if (workUnitStore?.phase === 'after') {\n      throw new Error(\n        `Route ${workStore.route} used \"${expression}\" inside \\`after()\\`. The enabled status of \\`draftMode()\\` can be read inside \\`after()\\` but you cannot enable or disable \\`draftMode()\\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n        case 'private-cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \"${expression}\" inside \"use cache\". The enabled status of \\`draftMode()\\` can be read in caches but you must not enable or disable \\`draftMode()\\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, constructorOpt)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \"${expression}\" inside a function cached with \\`unstable_cache()\\`. The enabled status of \\`draftMode()\\` can be read in caches but you must not enable or disable \\`draftMode()\\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n\n        case 'prerender':\n        case 'prerender-runtime': {\n          const error = new Error(\n            `Route ${workStore.route} used ${expression} without first calling \\`await connection()\\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`\n          )\n          return abortAndThrowOnSynchronousRequestDataAccess(\n            workStore.route,\n            expression,\n            error,\n            workUnitStore\n          )\n        }\n        case 'prerender-client':\n          const exportName = '`draftMode`'\n          throw new InvariantError(\n            `${exportName} must not be used within a Client Component. Next.js should be preventing ${exportName} from being included in Client Components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          workUnitStore.revalidate = 0\n\n          const err = new DynamicServerError(\n            `Route ${workStore.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n          )\n          workStore.dynamicUsageDescription = expression\n          workStore.dynamicUsageStack = err.stack\n\n          throw err\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n}\n","module.exports.cookies = require('./dist/server/request/cookies').cookies\nmodule.exports.headers = require('./dist/server/request/headers').headers\nmodule.exports.draftMode = require('./dist/server/request/draft-mode').draftMode\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.getServerSession = getServerSession;\nexports.unstable_getServerSession = unstable_getServerSession;\nvar _core = require(\"../core\");\nvar _utils = require(\"./utils\");\nasync function NextAuthApiHandler(req, res, options) {\n  var _options$secret, _ref, _options$jwt$secret, _options$jwt, _ref2, _handler$status, _handler$cookies, _handler$headers;\n  const {\n    nextauth,\n    ...query\n  } = req.query;\n  (_options$secret = options.secret) !== null && _options$secret !== void 0 ? _options$secret : options.secret = (_ref = (_options$jwt$secret = (_options$jwt = options.jwt) === null || _options$jwt === void 0 ? void 0 : _options$jwt.secret) !== null && _options$jwt$secret !== void 0 ? _options$jwt$secret : process.env.NEXTAUTH_SECRET) !== null && _ref !== void 0 ? _ref : process.env.AUTH_SECRET;\n  const handler = await (0, _core.AuthHandler)({\n    req: {\n      body: req.body,\n      query,\n      cookies: req.cookies,\n      headers: req.headers,\n      method: req.method,\n      action: nextauth === null || nextauth === void 0 ? void 0 : nextauth[0],\n      providerId: nextauth === null || nextauth === void 0 ? void 0 : nextauth[1],\n      error: (_ref2 = req.query.error) !== null && _ref2 !== void 0 ? _ref2 : nextauth === null || nextauth === void 0 ? void 0 : nextauth[1]\n    },\n    options\n  });\n  res.status((_handler$status = handler.status) !== null && _handler$status !== void 0 ? _handler$status : 200);\n  (_handler$cookies = handler.cookies) === null || _handler$cookies === void 0 || _handler$cookies.forEach(cookie => (0, _utils.setCookie)(res, cookie));\n  (_handler$headers = handler.headers) === null || _handler$headers === void 0 || _handler$headers.forEach(h => res.setHeader(h.key, h.value));\n  if (handler.redirect) {\n    var _req$body;\n    if (((_req$body = req.body) === null || _req$body === void 0 ? void 0 : _req$body.json) !== \"true\") {\n      res.status(302).setHeader(\"Location\", handler.redirect);\n      res.end();\n      return;\n    }\n    return res.json({\n      url: handler.redirect\n    });\n  }\n  return res.send(handler.body);\n}\nasync function NextAuthRouteHandler(req, context, options) {\n  var _options$secret2, _process$env$NEXTAUTH, _await$context$params, _query$error;\n  (_options$secret2 = options.secret) !== null && _options$secret2 !== void 0 ? _options$secret2 : options.secret = (_process$env$NEXTAUTH = process.env.NEXTAUTH_SECRET) !== null && _process$env$NEXTAUTH !== void 0 ? _process$env$NEXTAUTH : process.env.AUTH_SECRET;\n  const {\n    headers,\n    cookies\n  } = require(\"next/headers\");\n  const nextauth = (_await$context$params = await context.params) === null || _await$context$params === void 0 ? void 0 : _await$context$params.nextauth;\n  const query = Object.fromEntries(req.nextUrl.searchParams);\n  const body = await (0, _utils.getBody)(req);\n  const internalResponse = await (0, _core.AuthHandler)({\n    req: {\n      body,\n      query,\n      cookies: Object.fromEntries((await cookies()).getAll().map(c => [c.name, c.value])),\n      headers: Object.fromEntries(await headers()),\n      method: req.method,\n      action: nextauth === null || nextauth === void 0 ? void 0 : nextauth[0],\n      providerId: nextauth === null || nextauth === void 0 ? void 0 : nextauth[1],\n      error: (_query$error = query.error) !== null && _query$error !== void 0 ? _query$error : nextauth === null || nextauth === void 0 ? void 0 : nextauth[1]\n    },\n    options\n  });\n  const response = (0, _utils.toResponse)(internalResponse);\n  const redirect = response.headers.get(\"Location\");\n  if ((body === null || body === void 0 ? void 0 : body.json) === \"true\" && redirect) {\n    response.headers.delete(\"Location\");\n    response.headers.set(\"Content-Type\", \"application/json\");\n    return new Response(JSON.stringify({\n      url: redirect\n    }), {\n      status: internalResponse.status,\n      headers: response.headers\n    });\n  }\n  return response;\n}\nfunction NextAuth(...args) {\n  var _args$;\n  if (args.length === 1) {\n    return async (req, res) => {\n      if (res !== null && res !== void 0 && res.params) {\n        return await NextAuthRouteHandler(req, res, args[0]);\n      }\n      return await NextAuthApiHandler(req, res, args[0]);\n    };\n  }\n  if ((_args$ = args[1]) !== null && _args$ !== void 0 && _args$.params) {\n    return NextAuthRouteHandler(...args);\n  }\n  return NextAuthApiHandler(...args);\n}\nvar _default = exports.default = NextAuth;\nasync function getServerSession(...args) {\n  var _options, _options$secret3, _process$env$NEXTAUTH2;\n  const isRSC = args.length === 0 || args.length === 1;\n  let req, res, options;\n  if (isRSC) {\n    options = Object.assign({}, args[0], {\n      providers: []\n    });\n    const {\n      headers,\n      cookies\n    } = require(\"next/headers\");\n    req = {\n      headers: Object.fromEntries(await headers()),\n      cookies: Object.fromEntries((await cookies()).getAll().map(c => [c.name, c.value]))\n    };\n    res = {\n      getHeader() {},\n      setCookie() {},\n      setHeader() {}\n    };\n  } else {\n    req = args[0];\n    res = args[1];\n    options = Object.assign({}, args[2], {\n      providers: []\n    });\n  }\n  (_options$secret3 = (_options = options).secret) !== null && _options$secret3 !== void 0 ? _options$secret3 : _options.secret = (_process$env$NEXTAUTH2 = process.env.NEXTAUTH_SECRET) !== null && _process$env$NEXTAUTH2 !== void 0 ? _process$env$NEXTAUTH2 : process.env.AUTH_SECRET;\n  const session = await (0, _core.AuthHandler)({\n    options,\n    req: {\n      action: \"session\",\n      method: \"GET\",\n      cookies: req.cookies,\n      headers: req.headers\n    }\n  });\n  const {\n    body,\n    cookies,\n    status = 200\n  } = session;\n  cookies === null || cookies === void 0 || cookies.forEach(cookie => (0, _utils.setCookie)(res, cookie));\n  if (body && typeof body !== \"string\" && Object.keys(body).length) {\n    if (status === 200) {\n      if (isRSC) delete body.expires;\n      return body;\n    }\n    throw new Error(body.message);\n  }\n  return null;\n}\nlet deprecatedWarningShown = false;\nasync function unstable_getServerSession(...args) {\n  if (!deprecatedWarningShown && process.env.NODE_ENV !== \"production\") {\n    console.warn(\"`unstable_getServerSession` has been renamed to `getServerSession`.\");\n    deprecatedWarningShown = true;\n  }\n  return await getServerSession(...args);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {};\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _next.default;\n  }\n});\nvar _types = require(\"./core/types\");\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _types[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _types[key];\n    }\n  });\n});\nvar _next = _interopRequireWildcard(require(\"./next\"));\nObject.keys(_next).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _next[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _next[key];\n    }\n  });\n});\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Google;\nfunction Google(options) {\n  return {\n    id: \"google\",\n    name: \"Google\",\n    type: \"oauth\",\n    wellKnown: \"https://accounts.google.com/.well-known/openid-configuration\",\n    authorization: {\n      params: {\n        scope: \"openid email profile\"\n      }\n    },\n    idToken: true,\n    checks: [\"pkce\", \"state\"],\n    profile(profile) {\n      return {\n        id: profile.sub,\n        name: profile.name,\n        email: profile.email,\n        image: profile.picture\n      };\n    },\n    style: {\n      logo: \"/google.svg\",\n      bg: \"#fff\",\n      text: \"#000\"\n    },\n    options\n  };\n}","import { AppRouteRouteModule } from \"next/dist/esm/server/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/esm/server/lib/patch-fetch\";\nimport { addRequestMeta, getRequestMeta } from \"next/dist/esm/server/request-meta\";\nimport { getTracer, SpanKind } from \"next/dist/esm/server/lib/trace/tracer\";\nimport { setManifestsSingleton } from \"next/dist/esm/server/app-render/manifests-singleton\";\nimport { normalizeAppPath } from \"next/dist/esm/shared/lib/router/utils/app-paths\";\nimport { NodeNextRequest, NodeNextResponse } from \"next/dist/esm/server/base-http/node\";\nimport { NextRequestAdapter, signalFromNodeResponse } from \"next/dist/esm/server/web/spec-extension/adapters/next-request\";\nimport { BaseServerSpan } from \"next/dist/esm/server/lib/trace/constants\";\nimport { getRevalidateReason } from \"next/dist/esm/server/instrumentation/utils\";\nimport { sendResponse } from \"next/dist/esm/server/send-response\";\nimport { fromNodeOutgoingHttpHeaders, toNodeOutgoingHttpHeaders } from \"next/dist/esm/server/web/utils\";\nimport { getCacheControlHeader } from \"next/dist/esm/server/lib/cache-control\";\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from \"next/dist/esm/lib/constants\";\nimport { NoFallbackError } from \"next/dist/esm/shared/lib/no-fallback-error.external\";\nimport { CachedRouteKind } from \"next/dist/esm/server/response-cache\";\nimport * as userland from \"INNER_APP_ROUTE\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"\"\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    resolvedPagePath: \"[project]/src/app/api/auth/[...nextauth]/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return _patchFetch({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\nexport { routeModule, workAsyncStorage, workUnitAsyncStorage, serverHooks, patchFetch,  };\nexport async function handler(req, res, ctx) {\n    if (routeModule.isDev) {\n        addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    let srcPage = \"/api/auth/[...nextauth]/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (process.env.TURBOPACK) {\n        srcPage = srcPage.replace(/\\/index$/, '') || '/';\n    } else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = process.env.__NEXT_MULTI_ZONE_DRAFT_MODE;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, parsedUrl, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname, clientReferenceManifest, serverActionsManifest } = prepareResult;\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                if (nextConfig.experimental.adapterPath) {\n                    return await render404();\n                }\n                throw new NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isStaticGeneration = isIsr && !supportsDynamicResponse;\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        setManifestsSingleton({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = getTracer();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            cacheComponents: Boolean(nextConfig.cacheComponents),\n            supportsDynamicResponse,\n            incrementalCache: getRequestMeta(req, 'incrementalCache'),\n            cacheLifeProfiles: nextConfig.cacheLife,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext, silenceLog)=>routeModule.onRequestError(req, error, errorContext, silenceLog, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new NodeNextRequest(req);\n    const nodeNextRes = new NodeNextResponse(res);\n    const nextReq = NextRequestAdapter.fromNodeNextRequest(nodeNextReq, signalFromNodeResponse(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const isMinimalMode = Boolean(process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode'));\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!isMinimalMode && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = toNodeOutgoingHttpHeaders(response.headers);\n                        if (cacheTags) {\n                            headers[NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await sendResponse(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        const silenceLog = false;\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: getRevalidateReason({\n                                isStaticGeneration,\n                                isOnDemandRevalidate\n                            })\n                        }, silenceLog, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!isMinimalMode) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers);\n            if (!(isMinimalMode && isIsr)) {\n                headers.delete(NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', getCacheControlHeader(cacheEntry.cacheControl));\n            }\n            await sendResponse(nodeNextReq, nodeNextRes, // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n            new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof NoFallbackError)) {\n            const silenceLog = false;\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                    isStaticGeneration,\n                    isOnDemandRevalidate\n                })\n            }, silenceLog, routerServerContext);\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await sendResponse(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n","import NextAuth from \"next-auth\";\r\nimport GoogleProvider from \"next-auth/providers/google\";\r\n// import connectDB from \"@/lib/client/mongodb\";\r\n// import User from \"@/models/client/User\";\r\n\r\nconst handler = NextAuth({\r\n    providers: [\r\n        GoogleProvider({\r\n            clientId: process.env.GOOGLE_CLIENT_ID || \"\",\r\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\",\r\n        }),\r\n    ],\r\n    callbacks: {\r\n        async signIn({ user, account }) {\r\n            if (account?.provider === \"google\") {\r\n                try {\r\n                    // Sync user with SuperAdmin backend\r\n                    const { siteConfig } = await import('@/config/client/siteConfig');\r\n\r\n                    // Note: In production, use env variable for API URL or improved service discovery\r\n                    // Using localhost mapping: \r\n                    // From inside docker/server to host might differ, but for local npm run dev they share network usually.\r\n                    // If this runs on server side (Next.js), it can access localhost:3001 if on same machine.\r\n                    const API_URL = 'http://localhost:3001/api/mobile/auth';\r\n\r\n                    await fetch(API_URL, {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                        body: JSON.stringify({\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            photoUrl: user.image,\r\n                            adminId: siteConfig.adminUserId,\r\n                            googleId: user.id\r\n                        })\r\n                    });\r\n\r\n                    console.log(\"User synced with SuperAdmin backend:\", user.email);\r\n                } catch (error) {\r\n                    console.error(\"Failed to sync user with backend:\", error);\r\n                    // We typically still allow sign in even if sync fails, or return false if strict\r\n                }\r\n                return true;\r\n            }\r\n            return true;\r\n        },\r\n        async session({ session, token }) {\r\n            return session;\r\n        },\r\n    },\r\n    secret: process.env.NEXTAUTH_SECRET || \"development-secret-key\",\r\n});\r\n\r\nexport { handler as GET, handler as POST };\r\n"],"names":["slice","options","vnodeId","isValidElement","rerenderQueue","prevDebounce","defer","depthSort","CAPTURE_REGEX","eventClock","eventProxy","eventProxyCapture","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","isArray","Array","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","key","ref","normalizedProps","arguments","length","call","defaultProps","undefined","createVNode","original","vnode","__k","__","__b","__e","__c","constructor","__v","__i","__u","Fragment","BaseComponent","context","this","getDomSibling","childIndex","sibling","renderComponent","component","__P","__d","oldVNode","oldDom","commitQueue","refQueue","newVNode","diff","__n","namespaceURI","commitRoot","updateParentDomPointers","base","some","child","enqueueRender","c","push","process","__r","debounceRendering","l","sort","shift","diffChildren","parentDom","renderResult","newParentVNode","oldParentVNode","globalContext","namespace","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","result","shouldPlace","oldChildren","newChildrenLength","constructNewChildrenArray","applyRef","insert","nextSibling","skewedIndex","matchingIndex","oldChildrenLength","remainingOldChildren","skew","String","findMatchingIndex","unmount","parentVNode","insertBefore","nodeType","x","y","matched","shouldSearch","setStyle","style","value","setProperty","test","dom","name","oldValue","useCapture","lowerCaseName","o","cssText","replace","toLowerCase","_attached","addEventListener","removeEventListener","e","removeAttribute","setAttribute","createEventProxy","eventHandler","_dispatched","event","tmp","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","isClassComponent","provider","componentContext","renderHook","count","newType","outer","prototype","render","contextType","__E","doRender","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","apply","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","cloneNode","then","MODE_HYDRATE","indexOf","markAsForce","diffElementNodes","diffed","root","cb","map","newHtml","oldHtml","newChildren","inputValue","checked","localName","document","createTextNode","createElementNS","is","__m","data","childNodes","attributes","__html","innerHTML","content","hasRefUnmount","current","skipRemove","r","componentWillUnmount","replaceNode","documentElement","firstChild","error","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","s","forceUpdate","Promise","bind","resolve","setTimeout","a","b","defaultValue","Context","subs","ctx","Set","_props","forEach","add","old","delete","Provider","__l","Consumer","contextValue","hydrate","toChildArray","out","VOID_ELEMENTS","UNSAFE_NAME","XLINK","ENCODED_ENTITIES","encodeEntities","str","last","ch","charCodeAt","indent","char","isLargeString","ignoreLines","JS_TO_CSS","CSS_REGEX","styleObjToCss","prop","val","getChildren","accumulator","reduce","markAsDirty","createComponent","getContext","nodeName","cxType","UNNAMED","_renderToStringPretty","opts","inner","isSvgMode","selectValue","pretty","indentChar","rendered","isComponent","shallow","renderRootComponent","shallowHighOrder","cctx","_dirty","_nextState","Object","displayName","Function","toString","match","index","getFallbackComponentName","propChildren","html","attrs","keys","sortAttributes","v","allAttributes","hooked","attributeHook","xml","selected","Error","isVoid","voidElements","pieces","hasLarge","lastWasText","ret","isText","join","substring","SHALLOW","renderToString","shallowRender","previousSkipEffects","res","parent","h","_renderToString","normalizeVNode","normalizePropName","normalizePropValue","renderClassComponent","renderFunctionComponent","startElement","hasChildren","ActionDidNotRevalidate","ActionDidRevalidateDynamicOnly","ActionDidRevalidateStaticAndDynamic","MutableRequestCookiesAdapter","ReadonlyRequestCookiesError","RequestCookiesAdapter","appendMutableCookies","areCookiesMutableInCurrentPhase","createCookiesWithMutableAccessCheck","getModifiedCookieValues","responseCookiesToRequestCookies","callable","seal","cookies","Proxy","get","target","receiver","ReflectAdapter","SYMBOL_MODIFY_COOKIE_VALUES","Symbol","for","modified","headers","mutableCookies","modifiedCookieValues","resCookies","ResponseCookies","returnedCookies","getAll","cookie","set","wrap","onUpdateCookies","responseCookies","Headers","modifiedValues","modifiedCookies","updateResponseCookies","workStore","workAsyncStorage","getStore","pathWasRevalidated","allCookies","filter","has","serializedCookies","tempCookies","wrappedCookies","args","requestStore","ensureCookiesAreStillMutable","phase","_callingExpression","requestCookies","RequestCookies","createDedupedByCallsiteServerErrorLoggerDev","errorRef","cache","React","fn","logErrorOrWarn","env","__NEXT_CACHE_COMPONENTS","console","warn","flushCurrentErrorIfNew","getMessage","logDedupedError","message","NODE_ENV","callStackFrames","stack","split","callingExpression","workUnitStore","workUnitAsyncStorage","isRequestAPICallableInsideAfter","route","forceStatic","underlyingCookies","createEmptyCookies","makeUntrackedCookies","dynamicShouldError","StaticGenBailoutError","captureStackTrace","invalidDynamicUsageError","makeHangingCookies","exportName","InvariantError","postponeWithTracking","dynamicTracking","throwToInterruptStaticGeneration","delayUntilRuntimeStage","trackDynamicDataInDynamicRender","userspaceMutableCookies","makeUntrackedCookiesWithDevWarnings","throwForMissingRequestStore","CachedCookies","WeakMap","prerenderStore","cachedPromise","promise","makeHangingPromise","renderSignal","cachedCookies","asyncApiPromises","instrumentCookiesPromiseWithDevWarnings","makeDevtoolsIOAwarePromise","RenderStage","Runtime","proxiedPromise","warnForSyncAccess","createCookiesAccessError","defineProperties","iterator","replaceableWarningDescriptorForSymbolIterator","size","replaceableWarningDescriptor","clear","enumerable","defineProperty","writable","configurable","expression","prefix","HeadersAdapter","ReadonlyHeadersError","lowercased","find","deleteProperty","merge","from","append","existing","callbackfn","thisArg","entries","values","underlyingHeaders","makeUntrackedHeaders","makeHangingHeaders","makeUntrackedHeadersWithDevWarnings","CachedHeaders","cachedHeaders","instrumentHeadersPromiseWithDevWarnings","createHeadersAccessError","getSetCookie","draftMode","createOrGetCachedDraftMode","draftModeProvider","getDraftModeProviderForCacheScope","cacheKey","NullDraftMode","cachedDraftMode","CachedDraftModes","isPrefetchRequest","createDraftModeWithDevWarnings","DraftMode","underlyingProvider","instance","_provider","isEnabled","enable","trackDynamicDraftMode","disable","createDraftModeAccessError","constructorOpt","abortAndThrowOnSynchronousRequestDataAccess","revalidate","err","DynamicServerError","dynamicUsageDescription","dynamicUsageStack"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234]}