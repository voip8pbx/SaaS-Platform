module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},25235,a=>{a.n(a.i(40022))},33928,a=>{"use strict";a.s(["SearchResults",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call SearchResults() from the server but SearchResults is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/client/flight/SearchResults.tsx <module evaluation>","SearchResults")},21315,a=>{"use strict";a.s(["SearchResults",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call SearchResults() from the server but SearchResults is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/client/flight/SearchResults.tsx","SearchResults")},94460,a=>{"use strict";a.i(33928);var b=a.i(21315);a.n(b)},85083,a=>{"use strict";var b=a.i(7997),c=a.i(94460);let d=process.env.DUFFEL_API_KEY,e=process.env.DUFFEL_API_URL||"https://api.duffel.com/air/offer_requests";function f(a){let b=a.match(/PT(\d+H)?(\d+M)?/);if(!b)return a;let c=b[1]?b[1].replace("H","h"):"",d=b[2]?b[2].replace("M","m"):"";return`${c} ${d}`.trim()}async function g(a,b,c,i=1,j="economy",k){try{console.log(`Fetching flights: ${a} -> ${b} on ${c}`);let g=[{origin:a,destination:b,departure_date:c}];k&&g.push({origin:b,destination:a,departure_date:k});let l=await fetch(`${e}?return_offers=true`,{method:"POST",headers:{"Content-Type":"application/json","Duffel-Version":"v2",Authorization:`Bearer ${d}`,"Accept-Encoding":"gzip"},body:JSON.stringify({data:{slices:g,passengers:Array(i).fill({type:"adult"}),cabin_class:j}})});if(!l.ok){let d=await l.text();return console.error("Duffel API Error:",l.status,d),console.warn("Falling back to MOCK DATA due to API failure."),h(a,b,c,k)}return(await l.json()).data.offers.map(a=>{var b,c;let d,e=a.slices[0],g=e.segments,h=g[0],i=g[g.length-1],j=a.owner,k=j.iata_code||(h.operating_carrier?h.operating_carrier.iata_code:"XX"),l=j.logo_symbol_url;if(!l&&k&&"XX"!==k&&(l=`https://assets.duffel.com/img/airlines/for-light-background/${k}.svg`),a.slices.length>1){let b,c=a.slices[1],e=c.segments,g=e[0],h=e[e.length-1],i=g.operating_carrier?g.operating_carrier.iata_code:j.iata_code||"XX";i===j.iata_code&&j.logo_symbol_url?b=j.logo_symbol_url:i&&"XX"!==i&&(b=`https://assets.duffel.com/img/airlines/for-light-background/${i}.svg`),d={airline:j.name,airlineCode:i,flightNumber:g.operating_carrier_flight_number,from:c.origin.iata_code,to:c.destination.iata_code,departureTime:g.departing_at,arrivalTime:h.arriving_at,duration:f(c.duration),stops:e.length-1,airlineLogo:b}}return{id:a.id,airline:j.name,airlineCode:k,airlineLogo:l,flightNumber:h.operating_carrier_flight_number,from:e.origin.iata_code,to:e.destination.iata_code,departureTime:h.departing_at,arrivalTime:i.arriving_at,duration:f(e.duration),price:(b=parseFloat(a.total_amount),c=a.total_currency,Math.round(b*(({GBP:108,USD:86,EUR:92,INR:1})[c]||86))),currency:"INR",stops:g.length-1,seatsAvailable:9,returnLeg:d}})}catch(d){return console.error("Flight Fetch Service Error:",d),h(a,b,c,k)}}function h(a,b,c,d){let e=[{name:"Indigo",code:"6E"},{name:"Air India",code:"AI"},{name:"Vistara",code:"UK"},{name:"Emirates",code:"EK"}],f=[];for(let g=0;g<5;g++){let h,i=e[Math.floor(Math.random()*e.length)],j=4e3+Math.floor(8e3*Math.random());d&&(h={airline:i.name,airlineCode:i.code,flightNumber:`${i.code}-${100+g+1}`,from:b,to:a,departureTime:`${d}T18:00:00`,arrivalTime:`${d}T21:00:00`,duration:"3h 00m",stops:0,airlineLogo:`https://assets.duffel.com/img/airlines/for-light-background/${i.code}.svg`}),f.push({id:`mock-${g}`,airline:i.name,airlineCode:i.code,airlineLogo:`https://assets.duffel.com/img/airlines/for-light-background/${i.code}.svg`,flightNumber:`${i.code}-${100+g}`,from:a,to:b,departureTime:`${c}T10:00:00`,arrivalTime:`${c}T13:00:00`,duration:"3h 00m",price:j,currency:"INR",stops:0,seatsAvailable:Math.floor(10*Math.random())+1,returnLeg:h})}return f}var i=a.i(50006),j=a.i(40122);async function k({searchParams:a}){let d=await a,e=d?.from||"DEL",f=d?.to||"BOM",h=d?.cabin||"economy",k=parseInt(d?.passengers||"1",10),l=d?.returnDate,m=d?.date,n=new Date().toLocaleDateString("en-CA");(!m||m<n)&&(m=n);let o=await g(e,f,m,k,h,l),p="classic"===i.siteConfig.layout;return(0,b.jsxs)("div",{className:(0,j.cn)("min-h-screen pb-12",p?"bg-white dark:bg-slate-950":"bg-slate-50/50"),children:[(0,b.jsx)("div",{className:(0,j.cn)("py-10 shadow-sm relative z-10",p?"bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-gray-800":"bg-slate-900 text-white"),children:(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:(0,j.cn)("text-3xl font-bold mb-2",p?"font-serif text-black dark:text-white":"text-white"),children:["Flights from ",e," to ",f]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm opacity-90",children:[(0,b.jsxs)("span",{className:"bg-white/10 px-3 py-1 rounded-full border border-white/10 backdrop-blur-sm",children:[new Date(m).toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"long"}),l?` - ${new Date(l).toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"long"})}`:""]}),(0,b.jsx)("span",{className:"hidden md:inline text-slate-400",children:"•"}),(0,b.jsxs)("span",{children:[k," Traveller",k>1?"s":""]}),(0,b.jsx)("span",{className:"hidden md:inline text-slate-400",children:"•"}),(0,b.jsxs)("span",{className:"capitalize",children:[h," Class"]})]})]})})})}),(0,b.jsx)(c.SearchResults,{flights:o,isClassic:p})]})}a.s(["default",()=>k],85083)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8358f1b1._.js.map