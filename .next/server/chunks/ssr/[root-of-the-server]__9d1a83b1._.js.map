{"version":3,"sources":["../../../../src/components/client/hotel/HotelCard.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/client/hotel/HotelSearchForm.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/client/hotels/page.tsx","../../../../src/lib/client/hotel-service.ts"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const HotelCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call HotelCard() from the server but HotelCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/client/hotel/HotelCard.tsx\",\n    \"HotelCard\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const HotelSearchForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call HotelSearchForm() from the server but HotelSearchForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/client/hotel/HotelSearchForm.tsx\",\n    \"HotelSearchForm\",\n);\n","import { HotelSearchForm } from \"@/components/client/hotel/HotelSearchForm\";\r\nimport { HotelCard, HotelData } from \"@/components/client/hotel/HotelCard\";\r\nimport { fetchHotels } from \"@/lib/client/hotel-service\";\r\nimport { siteConfig } from \"@/config/client/siteConfig\";\r\nimport { cn } from \"@/lib/client/utils\";\r\n\r\nexport default async function HotelsPage({\r\n    searchParams,\r\n}: {\r\n    searchParams: Promise<{ [key: string]: string | string[] | undefined }>\r\n}) {\r\n    const resolvedSearchParams = await searchParams;\r\n    const location = (resolvedSearchParams.location as string) || \"Goa\";\r\n    const maxPrice = parseInt((resolvedSearchParams.maxPrice as string) || \"50000\");\r\n\r\n    const checkIn = (resolvedSearchParams.checkIn as string);\r\n    const checkOut = (resolvedSearchParams.checkOut as string);\r\n\r\n    // Fetch hotels using the service which uses Google API\r\n    let hotels: HotelData[] = await fetchHotels(location, checkIn, checkOut);\r\n\r\n    // Filter locally by price if needed (since API price filtering is limited/simulated)\r\n    if (hotels.length > 0) {\r\n        hotels = hotels.filter(h => h.price <= maxPrice);\r\n    }\r\n\r\n    const isClassic = siteConfig.layout === 'classic';\r\n\r\n    return (\r\n        <div className={cn(\"min-h-screen pb-20\", isClassic ? 'bg-white dark:bg-slate-950 font-serif' : 'bg-slate-50')}>\r\n            {/* Hero Section for Hotels */}\r\n            <div className={cn(\"relative w-full overflow-hidden\", isClassic ? 'h-[400px]' : 'h-[500px]')}>\r\n                <div className=\"absolute inset-0 bg-black/40 z-10\" />\r\n                <div\r\n                    className=\"absolute inset-0 bg-cover bg-center\"\r\n                    style={{ backgroundImage: `url('https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?q=80&w=2070&auto=format&fit=crop')` }}\r\n                />\r\n                <div className=\"relative z-20 h-full flex flex-col justify-center items-center text-center px-4 pt-10\">\r\n                    <h1 className={cn(\"font-bold text-white mb-6 drop-shadow-lg tracking-tight\", isClassic ? 'text-5xl md:text-7xl italic' : 'text-4xl md:text-6xl')}>\r\n                        {isClassic ? 'Your Perfect Stay.' : 'Find Your Perfect Stay'}\r\n                    </h1>\r\n                    <p className={cn(\"text-slate-200 max-w-2xl drop-shadow-md\", isClassic ? 'text-xl md:text-2xl font-light' : 'text-lg md:text-xl')}>\r\n                        Discover top-rated hotels, resorts, and vacation rentals in {location} and beyond.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Search Form Container */}\r\n            <div className={cn(\"container mx-auto px-4 mb-16\", isClassic ? '-mt-16 relative z-30' : '')}>\r\n                <div className={isClassic ? 'bg-white dark:bg-slate-900 p-6 rounded-xl shadow-2xl border border-slate-100 dark:border-gray-800 max-w-4xl mx-auto' : ''}>\r\n                    <HotelSearchForm />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Content Section */}\r\n            <div className=\"container mx-auto px-4\">\r\n                <div className=\"flex flex-col md:flex-row justify-between items-end mb-8\">\r\n                    <div>\r\n                        <h2 className={cn(\"text-2xl font-bold\", isClassic ? 'text-black dark:text-white font-serif text-3xl' : 'text-slate-900')}>\r\n                            {isClassic ? `Stays in ${location}` : `Hotels in ${location}`}\r\n                        </h2>\r\n                        <p className={cn(\"mt-1\", isClassic ? \"text-gray-500 dark:text-gray-400\" : \"text-slate-500\")}>Showing {hotels.length} properties within your budget</p>\r\n                    </div>\r\n\r\n                    {/* Sort/Filter Pills */}\r\n                    <div className=\"flex gap-2 mt-4 md:mt-0\">\r\n                        <span className={cn(\"px-4 py-1.5 rounded-full border text-sm font-medium cursor-pointer transition-colors\",\r\n                            isClassic ? 'bg-white dark:bg-slate-900 border-black dark:border-gray-500 text-black dark:text-white hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black' : 'bg-white border-slate-200 text-slate-600 hover:border-primary hover:text-primary'\r\n                        )}>Rating 4.0+</span>\r\n                        <span className={cn(\"px-4 py-1.5 rounded-full border text-sm font-medium cursor-pointer transition-colors\",\r\n                            isClassic ? 'bg-white dark:bg-slate-900 border-black dark:border-gray-500 text-black dark:text-white hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black' : 'bg-white border-slate-200 text-slate-600 hover:border-primary hover:text-primary'\r\n                        )}>Free Cancellation</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {hotels.length > 0 ? (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\r\n                        {hotels.map(hotel => (\r\n                            <div key={hotel.id} className=\"h-full\">\r\n                                <HotelCard hotel={hotel} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className={cn(\"rounded-2xl p-12 text-center border shadow-sm\", isClassic ? \"bg-white dark:bg-slate-900 border-gray-100 dark:border-gray-800\" : \"bg-white border-slate-100\")}>\r\n                        <div className=\"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <svg className=\"w-8 h-8 text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"></path></svg>\r\n                        </div>\r\n                        <h3 className={cn(\"text-xl font-bold mb-2\", isClassic ? \"text-black dark:text-white\" : \"text-slate-900\")}>No hotels found</h3>\r\n                        <p className=\"text-slate-500 dark:text-slate-400 max-w-md mx-auto\">\r\n                            We couldn't find any hotels in \"{location}\" matching your criteria. Try changing the location or filters.\r\n                        </p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","\r\nimport { HotelData } from \"@/components/client/hotel/HotelCard\";\r\n\r\nconst GOOGLE_API_KEY = process.env.GOOGLE_MAPS_API_KEY;\r\n\r\nexport async function fetchHotels(location: string, checkIn?: string, checkOut?: string) {\r\n    if (!location) return [];\r\n\r\n    try {\r\n        // Step 1: Geocoding to get Lat/Lng\r\n        const geoRes = await fetch(\r\n            `https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(location)}&key=${GOOGLE_API_KEY}`\r\n        );\r\n        const geoData = await geoRes.json();\r\n\r\n        if (!geoData.results || geoData.results.length === 0) {\r\n            console.warn(\"Geocoding found no results for:\", location);\r\n            return [];\r\n        }\r\n\r\n        const { lat, lng } = geoData.results[0].geometry.location;\r\n\r\n        // Step 2: Places API (Nearby Search) for 'lodging'\r\n        // Radius: 5000 meters (5km)\r\n        const placesRes = await fetch(\r\n            `https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${lat},${lng}&radius=5000&type=lodging&key=${GOOGLE_API_KEY}`\r\n        );\r\n        const placesData = await placesRes.json();\r\n\r\n        if (!placesData.results) {\r\n            return [];\r\n        }\r\n\r\n        // Helper to map types to amenities\r\n        const mapTypesToAmenities = (types: string[]) => {\r\n            const amenities = [];\r\n            if (types.includes(\"spa\")) amenities.push(\"Spa\");\r\n            if (types.includes(\"gym\")) amenities.push(\"Gym\");\r\n            if (types.includes(\"pool\") || types.includes(\"swimming_pool\")) amenities.push(\"Pool\");\r\n            if (types.includes(\"restaurant\") || types.includes(\"food\")) amenities.push(\"Restaurant\");\r\n            if (types.includes(\"bar\")) amenities.push(\"Bar\");\r\n            if (types.includes(\"parking\")) amenities.push(\"Parking\");\r\n\r\n            // Add some defaults if specific ones aren't found for better UI\r\n            if (amenities.length < 2) amenities.push(\"Free Wifi\", \"Air Conditioning\");\r\n\r\n            return Array.from(new Set(amenities)); // Unique only\r\n        };\r\n\r\n        // Transform results to our HotelData format\r\n        const hotels: HotelData[] = placesData.results.map((place: any) => {\r\n            const photoRef = place.photos?.[0]?.photo_reference;\r\n            const imageUrl = photoRef\r\n                ? `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=${photoRef}&key=${GOOGLE_API_KEY}`\r\n                : \"https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=1000\";\r\n\r\n            // Approximate price based on price_level (0-4) or random\r\n            // Level 1: ~2000-4000 INR\r\n            // Level 2: ~4000-8000 INR\r\n            // Level 3: ~8000-15000 INR\r\n            // Level 4: ~15000+ INR\r\n            let basePrice = 3000;\r\n            if (place.price_level) {\r\n                basePrice = place.price_level * 3500;\r\n            } else {\r\n                // Randomize based on rating\r\n                basePrice = (place.rating || 3.5) * 1500;\r\n            }\r\n            // Add some variance\r\n            const price = Math.round(basePrice + Math.random() * 1000);\r\n\r\n            return {\r\n                id: place.place_id,\r\n                name: place.name,\r\n                address: place.vicinity || place.formatted_address,\r\n                price: price,\r\n                rating: place.rating || 4.2,\r\n                amenities: mapTypesToAmenities(place.types || []),\r\n                image: imageUrl,\r\n                user_ratings_total: place.user_ratings_total\r\n            };\r\n        });\r\n\r\n        return hotels;\r\n\r\n    } catch (error) {\r\n        console.error(\"Error fetching hotels:\", error);\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1]}