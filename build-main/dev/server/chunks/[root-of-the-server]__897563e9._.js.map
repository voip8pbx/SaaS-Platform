{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/NEXT.js/SuperAdmin/src/lib/db.ts"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\n// MONGODB_URI should be accessed dynamically to ensure environment variables are loaded\r\n\r\n\r\n\r\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */\r\ninterface GlobalMongoose {\r\n    conn: typeof mongoose | null;\r\n    promise: Promise<typeof mongoose> | null;\r\n}\r\n\r\ndeclare global {\r\n    var mongoose: GlobalMongoose;\r\n}\r\n\r\nlet cached = global.mongoose;\r\n\r\nif (!cached) {\r\n    cached = global.mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function dbConnect() {\r\n    const MONGODB_URI = process.env.MONGODB_URI;\r\n\r\n    if (!MONGODB_URI) {\r\n        throw new Error(\r\n            'Please define the MONGODB_URI environment variable inside .env.local'\r\n        );\r\n    }\r\n\r\n    if (cached.conn) {\r\n        return cached.conn;\r\n    }\r\n\r\n    if (!cached.promise) {\r\n        const opts = {\r\n            bufferCommands: false,\r\n            connectTimeoutMS: 10000, // 10 seconds\r\n            serverSelectionTimeoutMS: 10000, // 10 seconds\r\n        };\r\n\r\n        cached.promise = mongoose.connect(MONGODB_URI!, opts).then((mongoose) => {\r\n            return mongoose;\r\n        });\r\n    }\r\n\r\n    try {\r\n        cached.conn = await cached.promise;\r\n    } catch (e) {\r\n        cached.promise = null;\r\n        throw e;\r\n    }\r\n\r\n    return cached.conn;\r\n}\r\n\r\nexport default dbConnect;\r\n"],"names":[],"mappings":";;;;AAAA;;AAoBA,IAAI,SAAS,OAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACT,SAAS,OAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AAC3D;AAEA,eAAe;IACX,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;IAE3C,IAAI,CAAC,aAAa;QACd,MAAM,IAAI,MACN;IAER;IAEA,IAAI,OAAO,IAAI,EAAE;QACb,OAAO,OAAO,IAAI;IACtB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACjB,MAAM,OAAO;YACT,gBAAgB;YAChB,kBAAkB;YAClB,0BAA0B;QAC9B;QAEA,OAAO,OAAO,GAAG,mKAAQ,CAAC,OAAO,CAAC,aAAc,MAAM,IAAI,CAAC,CAAC;YACxD,OAAO;QACX;IACJ;IAEA,IAAI;QACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACtC,EAAE,OAAO,GAAG;QACR,OAAO,OAAO,GAAG;QACjB,MAAM;IACV;IAEA,OAAO,OAAO,IAAI;AACtB;uCAEe"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///D:/NEXT.js/SuperAdmin/src/models/Admin.ts"],"sourcesContent":["import mongoose, { Schema, Document, Model } from 'mongoose';\r\n\r\nexport interface IAdmin extends Document {\r\n    adminId: string; // Unique identifier for the Admin\r\n\r\n    // Whitelabel Configuration (Assigned by Superadmin)\r\n    features: {\r\n        flights: boolean;\r\n        hotels: boolean;\r\n        trains: boolean;\r\n        cabs: boolean;\r\n        carRentals: boolean;\r\n        bikeRentals: boolean;\r\n        villas: boolean;\r\n        cruises: boolean;\r\n    };\r\n\r\n    // Theme Configuration\r\n    theme: {\r\n        primaryColor: string;\r\n        secondaryColor: string;\r\n        mode: 'light' | 'dark';\r\n        fontFamily: string;\r\n        layout: string; // Add layout here\r\n    };\r\n\r\n    // Company Details (Filled by Admin)\r\n    companyDetails: {\r\n        name: string;\r\n        logoUrl?: string;\r\n        description?: string;\r\n    };\r\n\r\n    contact: {\r\n        phone: string;\r\n        email: string;\r\n        address: string;\r\n    };\r\n\r\n    social: {\r\n        twitter: string;\r\n        facebook: string;\r\n        instagram: string;\r\n        linkedin: string;\r\n    };\r\n\r\n    content: {\r\n        aboutUs: string;\r\n        career: string;\r\n        blog: string;\r\n    };\r\n\r\n    isActive: boolean;\r\n    createdAt: Date;\r\n    updatedAt: Date;\r\n}\r\n\r\nconst AdminSchema: Schema = new Schema({\r\n    adminId: { type: String, required: true, unique: true },\r\n\r\n    features: {\r\n        flights: { type: Boolean, default: false },\r\n        hotels: { type: Boolean, default: false },\r\n        trains: { type: Boolean, default: false },\r\n        cabs: { type: Boolean, default: false },\r\n        carRentals: { type: Boolean, default: false },\r\n        bikeRentals: { type: Boolean, default: false },\r\n        villas: { type: Boolean, default: false },\r\n        cruises: { type: Boolean, default: false },\r\n    },\r\n\r\n    theme: {\r\n        primaryColor: { type: String, default: '#000000' },\r\n        secondaryColor: { type: String, default: '#ffffff' },\r\n        mode: { type: String, enum: ['light', 'dark'], default: 'light' },\r\n        fontFamily: { type: String, default: 'Inter' },\r\n        layout: { type: String, default: 'classic' }, // Add layout here\r\n    },\r\n\r\n    companyDetails: {\r\n        name: { type: String },\r\n        logoUrl: { type: String },\r\n        description: { type: String },\r\n    },\r\n\r\n    contact: {\r\n        phone: { type: String },\r\n        email: { type: String },\r\n        address: { type: String },\r\n    },\r\n\r\n    social: {\r\n        twitter: { type: String },\r\n        facebook: { type: String },\r\n        instagram: { type: String },\r\n        linkedin: { type: String },\r\n    },\r\n\r\n    content: {\r\n        aboutUs: { type: String },\r\n        career: { type: String },\r\n        blog: { type: String },\r\n    },\r\n\r\n    isActive: { type: Boolean, default: true },\r\n}, { timestamps: true });\r\n\r\n// Check if model is already compiled to avoid Hot Reload errors\r\nconst Admin: Model<IAdmin> = mongoose.models.Admin || mongoose.model<IAdmin>('Admin', AdminSchema);\r\n\r\nexport default Admin;\r\n"],"names":[],"mappings":";;;;AAAA;;AAyDA,MAAM,cAAsB,IAAI,kKAAM,CAAC;IACnC,SAAS;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IAEtD,UAAU;QACN,SAAS;YAAE,MAAM;YAAS,SAAS;QAAM;QACzC,QAAQ;YAAE,MAAM;YAAS,SAAS;QAAM;QACxC,QAAQ;YAAE,MAAM;YAAS,SAAS;QAAM;QACxC,MAAM;YAAE,MAAM;YAAS,SAAS;QAAM;QACtC,YAAY;YAAE,MAAM;YAAS,SAAS;QAAM;QAC5C,aAAa;YAAE,MAAM;YAAS,SAAS;QAAM;QAC7C,QAAQ;YAAE,MAAM;YAAS,SAAS;QAAM;QACxC,SAAS;YAAE,MAAM;YAAS,SAAS;QAAM;IAC7C;IAEA,OAAO;QACH,cAAc;YAAE,MAAM;YAAQ,SAAS;QAAU;QACjD,gBAAgB;YAAE,MAAM;YAAQ,SAAS;QAAU;QACnD,MAAM;YAAE,MAAM;YAAQ,MAAM;gBAAC;gBAAS;aAAO;YAAE,SAAS;QAAQ;QAChE,YAAY;YAAE,MAAM;YAAQ,SAAS;QAAQ;QAC7C,QAAQ;YAAE,MAAM;YAAQ,SAAS;QAAU;IAC/C;IAEA,gBAAgB;QACZ,MAAM;YAAE,MAAM;QAAO;QACrB,SAAS;YAAE,MAAM;QAAO;QACxB,aAAa;YAAE,MAAM;QAAO;IAChC;IAEA,SAAS;QACL,OAAO;YAAE,MAAM;QAAO;QACtB,OAAO;YAAE,MAAM;QAAO;QACtB,SAAS;YAAE,MAAM;QAAO;IAC5B;IAEA,QAAQ;QACJ,SAAS;YAAE,MAAM;QAAO;QACxB,UAAU;YAAE,MAAM;QAAO;QACzB,WAAW;YAAE,MAAM;QAAO;QAC1B,UAAU;YAAE,MAAM;QAAO;IAC7B;IAEA,SAAS;QACL,SAAS;YAAE,MAAM;QAAO;QACxB,QAAQ;YAAE,MAAM;QAAO;QACvB,MAAM;YAAE,MAAM;QAAO;IACzB;IAEA,UAAU;QAAE,MAAM;QAAS,SAAS;IAAK;AAC7C,GAAG;IAAE,YAAY;AAAK;AAEtB,gEAAgE;AAChE,MAAM,QAAuB,mKAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,mKAAQ,CAAC,KAAK,CAAS,SAAS;uCAEvE"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///D:/NEXT.js/SuperAdmin/src/app/api/superadmin/assign/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport dbConnect from '@/lib/db';\r\nimport Admin from '@/models/Admin';\r\n\r\nexport const dynamic = 'force-dynamic';\r\nexport const revalidate = 0;\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        await dbConnect();\r\n\r\n        const body = await req.json();\r\n        const { adminId, features, theme } = body;\r\n\r\n        if (!adminId) {\r\n            return NextResponse.json({ success: false, error: 'Admin ID is required' }, { status: 400 });\r\n        }\r\n\r\n        const admin = await Admin.findOneAndUpdate(\r\n            { adminId },\r\n            {\r\n                $set: { features, theme }\r\n            },\r\n            { new: true, upsert: true, setDefaultsOnInsert: true }\r\n        );\r\n\r\n        return NextResponse.json({ success: true, data: admin });\r\n    } catch (error: any) {\r\n        return NextResponse.json({ success: false, error: error.message }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        console.log(\"[Assign API] Fetching all admins...\");\r\n        await dbConnect();\r\n\r\n        // Use a completely unique variable name to avoid any shadowing\r\n        const fetchedAdminsList = await Admin.find({});\r\n        console.log(`[Assign API] Found ${fetchedAdminsList.length} admins.`);\r\n\r\n        return NextResponse.json({ success: true, data: fetchedAdminsList });\r\n    } catch (error: any) {\r\n        return NextResponse.json({ success: false, error: error.message }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;;;;AAEO,MAAM,UAAU;AAChB,MAAM,aAAa;AAEnB,eAAe,KAAK,GAAgB;IACvC,IAAI;QACA,MAAM,IAAA,6HAAS;QAEf,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG;QAErC,IAAI,CAAC,SAAS;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAO,OAAO;YAAuB,GAAG;gBAAE,QAAQ;YAAI;QAC9F;QAEA,MAAM,QAAQ,MAAM,mIAAK,CAAC,gBAAgB,CACtC;YAAE;QAAQ,GACV;YACI,MAAM;gBAAE;gBAAU;YAAM;QAC5B,GACA;YAAE,KAAK;YAAM,QAAQ;YAAM,qBAAqB;QAAK;QAGzD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM;QAAM;IAC1D,EAAE,OAAO,OAAY;QACjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACrF;AACJ;AAEO,eAAe,IAAI,GAAgB;IACtC,IAAI;QACA,QAAQ,GAAG,CAAC;QACZ,MAAM,IAAA,6HAAS;QAEf,+DAA+D;QAC/D,MAAM,oBAAoB,MAAM,mIAAK,CAAC,IAAI,CAAC,CAAC;QAC5C,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,kBAAkB,MAAM,CAAC,QAAQ,CAAC;QAEpE,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM;QAAkB;IACtE,EAAE,OAAO,OAAY;QACjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACrF;AACJ"}}]
}